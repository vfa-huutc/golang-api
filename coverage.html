

<html>
	<head>
		<title>Coverage Report</title>
		<meta charset="utf-8" />
        
        <style type="text/css">
        body {
    background-color: #fff;
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}

table {
    margin-left: 10px;
    border-collapse: collapse;
}

td {
    background-color: #fff;
    padding: 2px;
}

table.overview td {
    padding-right: 20px;
}

td.percent,
td.linecount {
    text-align: right;
}

div.package,
#totalcov {
    color: #fff;
    background-color: #375eab;
    font-size: 16px;
    font-weight: bold;
    padding: 10px;
    border-radius: 5px 5px 5px 5px;
}

div.package,
#totalcov {
    float: right;
    right: 10px;
}

#totalcov {
    top: 10px;
    position: relative;
    background-color: #fff;
    color: #000;
    border: 1px solid #375eab;
    clear: both;
}

#summaryWrapper {
    position: fixed;
    top: 10px;
    float: right;
    right: 10px;

}

span.packageTotal {
    float: right;
    color: #000;
}

#doctitle {
    background-color: #fff;
    font-size: 24px;
    margin-top: 20px;
    margin-left: 10px;
    color: #375eab;
    font-weight: bold;
}

#about {
    margin-left: 18px;
    font-size: 10px;
}

.functitle,
.funcname {
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    color: #375eab;
}

.funcname {
    text-align: left;
    margin-top: 20px;
    margin-left: 10px;
    margin-bottom: 20px;
    padding: 2px 5px 5px;
    background-color: #e0ebf5;
}

table.listing {
    margin-left: 10px;
}

table.listing td {
    padding: 0px;
    font-size: 12px;
    background-color: #eee;
    vertical-align: top;
    padding-left: 10px;
    border-bottom: 1px solid #fff;
}

table.listing td:first-child {
    text-align: right;
    font-weight: bold;
    vertical-align: center;
}

table.listing tr.miss td {
    background-color: #FFBBB8;
}

table.listing tr:last-child td {
    font-weight: normal;
    color: #000;
}

table.listing tr:last-child td:first-child {
    font-weight: bold;
}

.info {
    margin-left: 10px;
}

.info code {}

pre {
    margin: 1px;
}

pre.cmd {
    background-color: #e9e9e9;
    border-radius: 5px 5px 5px 5px;
    padding: 10px;
    margin: 20px;
    line-height: 18px;
    font-size: 14px;
}

a {
    text-decoration: none;
    color: #375eab;
}

a:hover {
    text-decoration: underline;
}

p {
    margin-left: 10px;
}
        </style>
        
	</head>
	<body>
		<div id="doctitle">Coverage Report</div>
        
        <div id="about">Generated on Tue, 03 Jun 2025 17:46:21 +07 with <a href="https://github.com/matm/gocov-html">gocov-html</a></div>
        
        
        <div class="funcname">Report Overview</div>
            <table class="overview">
            
            <tr id="s_pkg_github.com/vfa-khuongdv/golang-cms/cmd/seeder">
                <td><code><a href="#pkg_github.com/vfa-khuongdv/golang-cms/cmd/seeder">github.com/vfa-khuongdv/golang-cms/cmd/seeder</a></code></td>
                <td class="percent"><code>0.0%</code></td>
                <td class="linecount"><code>0/5</code></td>
            </tr>
            
            <tr id="s_pkg_github.com/vfa-khuongdv/golang-cms/cmd/server">
                <td><code><a href="#pkg_github.com/vfa-khuongdv/golang-cms/cmd/server">github.com/vfa-khuongdv/golang-cms/cmd/server</a></code></td>
                <td class="percent"><code>0.0%</code></td>
                <td class="linecount"><code>0/22</code></td>
            </tr>
            
            <tr id="s_pkg_github.com/vfa-khuongdv/golang-cms/internal/configs">
                <td><code><a href="#pkg_github.com/vfa-khuongdv/golang-cms/internal/configs">github.com/vfa-khuongdv/golang-cms/internal/configs</a></code></td>
                <td class="percent"><code>0.0%</code></td>
                <td class="linecount"><code>0/9</code></td>
            </tr>
            
            <tr id="s_pkg_github.com/vfa-khuongdv/golang-cms/internal/database/seeders">
                <td><code><a href="#pkg_github.com/vfa-khuongdv/golang-cms/internal/database/seeders">github.com/vfa-khuongdv/golang-cms/internal/database/seeders</a></code></td>
                <td class="percent"><code>0.0%</code></td>
                <td class="linecount"><code>0/33</code></td>
            </tr>
            
            <tr id="s_pkg_github.com/vfa-khuongdv/golang-cms/internal/guards">
                <td><code><a href="#pkg_github.com/vfa-khuongdv/golang-cms/internal/guards">github.com/vfa-khuongdv/golang-cms/internal/guards</a></code></td>
                <td class="percent"><code>0.0%</code></td>
                <td class="linecount"><code>0/17</code></td>
            </tr>
            
            <tr id="s_pkg_github.com/vfa-khuongdv/golang-cms/internal/handlers">
                <td><code><a href="#pkg_github.com/vfa-khuongdv/golang-cms/internal/handlers">github.com/vfa-khuongdv/golang-cms/internal/handlers</a></code></td>
                <td class="percent"><code>92.8%</code></td>
                <td class="linecount"><code>284/306</code></td>
            </tr>
            
            <tr id="s_pkg_github.com/vfa-khuongdv/golang-cms/internal/middlewares">
                <td><code><a href="#pkg_github.com/vfa-khuongdv/golang-cms/internal/middlewares">github.com/vfa-khuongdv/golang-cms/internal/middlewares</a></code></td>
                <td class="percent"><code>27.1%</code></td>
                <td class="linecount"><code>19/70</code></td>
            </tr>
            
            <tr id="s_pkg_github.com/vfa-khuongdv/golang-cms/internal/repositories">
                <td><code><a href="#pkg_github.com/vfa-khuongdv/golang-cms/internal/repositories">github.com/vfa-khuongdv/golang-cms/internal/repositories</a></code></td>
                <td class="percent"><code>97.6%</code></td>
                <td class="linecount"><code>83/85</code></td>
            </tr>
            
            <tr id="s_pkg_github.com/vfa-khuongdv/golang-cms/internal/routes">
                <td><code><a href="#pkg_github.com/vfa-khuongdv/golang-cms/internal/routes">github.com/vfa-khuongdv/golang-cms/internal/routes</a></code></td>
                <td class="percent"><code>0.0%</code></td>
                <td class="linecount"><code>0/54</code></td>
            </tr>
            
            <tr id="s_pkg_github.com/vfa-khuongdv/golang-cms/internal/services">
                <td><code><a href="#pkg_github.com/vfa-khuongdv/golang-cms/internal/services">github.com/vfa-khuongdv/golang-cms/internal/services</a></code></td>
                <td class="percent"><code>80.1%</code></td>
                <td class="linecount"><code>161/201</code></td>
            </tr>
            
            <tr id="s_pkg_github.com/vfa-khuongdv/golang-cms/internal/utils">
                <td><code><a href="#pkg_github.com/vfa-khuongdv/golang-cms/internal/utils">github.com/vfa-khuongdv/golang-cms/internal/utils</a></code></td>
                <td class="percent"><code>92.8%</code></td>
                <td class="linecount"><code>180/194</code></td>
            </tr>
            
            <tr id="s_pkg_github.com/vfa-khuongdv/golang-cms/pkg/errors">
                <td><code><a href="#pkg_github.com/vfa-khuongdv/golang-cms/pkg/errors">github.com/vfa-khuongdv/golang-cms/pkg/errors</a></code></td>
                <td class="percent"><code>100.0%</code></td>
                <td class="linecount"><code>5/5</code></td>
            </tr>
            
            <tr id="s_pkg_github.com/vfa-khuongdv/golang-cms/pkg/logger">
                <td><code><a href="#pkg_github.com/vfa-khuongdv/golang-cms/pkg/logger">github.com/vfa-khuongdv/golang-cms/pkg/logger</a></code></td>
                <td class="percent"><code>83.3%</code></td>
                <td class="linecount"><code>10/12</code></td>
            </tr>
            
            <tr id="s_pkg_github.com/vfa-khuongdv/golang-cms/pkg/mailer">
                <td><code><a href="#pkg_github.com/vfa-khuongdv/golang-cms/pkg/mailer">github.com/vfa-khuongdv/golang-cms/pkg/mailer</a></code></td>
                <td class="percent"><code>100.0%</code></td>
                <td class="linecount"><code>19/19</code></td>
            </tr>
            
            <tr id="s_pkg_github.com/vfa-khuongdv/golang-cms/pkg/migrator">
                <td><code><a href="#pkg_github.com/vfa-khuongdv/golang-cms/pkg/migrator">github.com/vfa-khuongdv/golang-cms/pkg/migrator</a></code></td>
                <td class="percent"><code>0.0%</code></td>
                <td class="linecount"><code>0/25</code></td>
            </tr>
            
            <tr id="s_pkg_github.com/vfa-khuongdv/golang-cms/tests/mocks">
                <td><code><a href="#pkg_github.com/vfa-khuongdv/golang-cms/tests/mocks">github.com/vfa-khuongdv/golang-cms/tests/mocks</a></code></td>
                <td class="percent"><code>0.0%</code></td>
                <td class="linecount"><code>0/168</code></td>
            </tr>
            
            </table>
            <p>
            This coverage report has been generated with the following command:
            </p>
            <pre class="cmd">gocov test github.com/vfa-khuongdv/golang-cms/cmd/seeder github.com/vfa-khuongdv/golang-cms/cmd/server github.com/vfa-khuongdv/golang-cms/internal/configs github.com/vfa-khuongdv/golang-cms/internal/database/seeders github.com/vfa-khuongdv/golang-cms/internal/guards github.com/vfa-khuongdv/golang-cms/internal/handlers github.com/vfa-khuongdv/golang-cms/internal/middlewares github.com/vfa-khuongdv/golang-cms/internal/repositories github.com/vfa-khuongdv/golang-cms/internal/routes github.com/vfa-khuongdv/golang-cms/internal/services github.com/vfa-khuongdv/golang-cms/internal/utils github.com/vfa-khuongdv/golang-cms/pkg/errors github.com/vfa-khuongdv/golang-cms/pkg/logger github.com/vfa-khuongdv/golang-cms/pkg/mailer github.com/vfa-khuongdv/golang-cms/pkg/migrator github.com/vfa-khuongdv/golang-cms/tests/mocks | gocov-html </pre>
        </div>
        
        
        <div id="pkg_github.com/vfa-khuongdv/golang-cms/cmd/seeder" class="funcname">
            Package Overview: github.com/vfa-khuongdv/golang-cms/cmd/seeder
            <span class="packageTotal">0.0%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_main">
                <td>
                    <code><a href="#fn_main">main(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/cmd/seeder/seeder.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/5</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_main">func main</div>
        <div class="info">
            <a href="#s_fn_main">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/cmd/seeder/seeder.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>10</td>
                <td>
                    <code><pre>func main() {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>11</td>
                <td>
                    <code><pre>        // Load env package</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>12</td>
                <td>
                    <code><pre>        configs.LoadEnv()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>13</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre>        // Init logger</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>15</td>
                <td>
                    <code><pre>        logger.Init()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>        // MySQL database configuration</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>18</td>
                <td>
                    <code><pre>        config := configs.DatabaseConfig{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>                Host:     utils.GetEnv(&#34;DB_HOST&#34;, &#34;127.0.0.1&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>                Port:     utils.GetEnv(&#34;DB_PORT&#34;, &#34;3306&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>                User:     utils.GetEnv(&#34;DB_USERNAME&#34;, &#34;&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>                Password: utils.GetEnv(&#34;DB_PASSWORD&#34;, &#34;&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>                DBName:   utils.GetEnv(&#34;DB_DATABASE&#34;, &#34;&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>                Charset:  &#34;utf8mb4&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>        // Initialize database connection</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>28</td>
                <td>
                    <code><pre>        db := configs.InitDB(config)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>        // Run seeder</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>31</td>
                <td>
                    <code><pre>        seeders.Run(db)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:github.com/vfa-khuongdv/golang-cms/cmd/seeder DONE:0.0
        -->
        
        <div id="pkg_github.com/vfa-khuongdv/golang-cms/cmd/server" class="funcname">
            Package Overview: github.com/vfa-khuongdv/golang-cms/cmd/server
            <span class="packageTotal">0.0%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_main">
                <td>
                    <code><a href="#fn_main">main(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/cmd/server/main.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/12</code>
                </td>
            </tr>
        
            <tr id="s_fn_runMigrations">
                <td>
                    <code><a href="#fn_runMigrations">runMigrations(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/cmd/server/main.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/8</code>
                </td>
            </tr>
        
            <tr id="s_fn_initializeDatabase">
                <td>
                    <code><a href="#fn_initializeDatabase">initializeDatabase(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/cmd/server/main.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_main">func main</div>
        <div class="info">
            <a href="#s_fn_main">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/cmd/server/main.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>func main() {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>        // Load environment variables</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>50</td>
                <td>
                    <code><pre>        configs.LoadEnv()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>        // Initialize logger</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>53</td>
                <td>
                    <code><pre>        logger.Init()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>        // Initialize database</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>56</td>
                <td>
                    <code><pre>        db := initializeDatabase()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>        // Run migrations</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>59</td>
                <td>
                    <code><pre>        isRunMigrate := utils.GetEnv(&#34;RUN_MIGRATE&#34;, &#34;false&#34;)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>60</td>
                <td>
                    <code><pre>        if isRunMigrate == &#34;true&#34; {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>61</td>
                <td>
                    <code><pre>                logger.Info(&#34;Running migrations...&#34;)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>62</td>
                <td>
                    <code><pre>                runMigrations()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>        // Setup routes</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>66</td>
                <td>
                    <code><pre>        router := routes.SetupRouter(db)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>        // Initialize custom validator</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>69</td>
                <td>
                    <code><pre>        utils.InitValidator()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre>        // Start server</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>72</td>
                <td>
                    <code><pre>        port := fmt.Sprintf(&#34;:%s&#34;, utils.GetEnv(&#34;PORT&#34;, &#34;3000&#34;))</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>73</td>
                <td>
                    <code><pre>        if err := router.Run(port); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>74</td>
                <td>
                    <code><pre>                logger.Fatalf(&#34;Failed to start server: %v&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_runMigrations">func runMigrations</div>
        <div class="info">
            <a href="#s_fn_runMigrations">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/cmd/server/main.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>func runMigrations() {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>27</td>
                <td>
                    <code><pre>        dsn := migrator.NewMySQLDSN(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>                utils.GetEnv(&#34;DB_USERNAME&#34;, &#34;&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>                utils.GetEnv(&#34;DB_PASSWORD&#34;, &#34;&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>                utils.GetEnv(&#34;DB_HOST&#34;, &#34;127.0.0.1&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>                utils.GetEnv(&#34;DB_PORT&#34;, &#34;3306&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>                utils.GetEnv(&#34;DB_DATABASE&#34;, &#34;&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>        )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>35</td>
                <td>
                    <code><pre>        m, err := migrator.NewMigrator(&#34;internal/database/migrations&#34;, dsn)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>36</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>37</td>
                <td>
                    <code><pre>                logger.Fatalf(&#34;Migration initialization failed: %v&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>39</td>
                <td>
                    <code><pre>        defer m.Close()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>41</td>
                <td>
                    <code><pre>        if err := m.Up(); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>42</td>
                <td>
                    <code><pre>                logger.Fatalf(&#34;Migration failed: %v&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>44</td>
                <td>
                    <code><pre>                logger.Infof(&#34;MySQL migrations applied successfully!&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_initializeDatabase">func initializeDatabase</div>
        <div class="info">
            <a href="#s_fn_initializeDatabase">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/cmd/server/main.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre>func initializeDatabase() *gorm.DB {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>15</td>
                <td>
                    <code><pre>        config := configs.DatabaseConfig{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>                Host:     utils.GetEnv(&#34;DB_HOST&#34;, &#34;127.0.0.1&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>                Port:     utils.GetEnv(&#34;DB_PORT&#34;, &#34;3306&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>                User:     utils.GetEnv(&#34;DB_USERNAME&#34;, &#34;&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>                Password: utils.GetEnv(&#34;DB_PASSWORD&#34;, &#34;&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>                DBName:   utils.GetEnv(&#34;DB_DATABASE&#34;, &#34;&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>                Charset:  &#34;utf8mb4&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>23</td>
                <td>
                    <code><pre>        return configs.InitDB(config)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:github.com/vfa-khuongdv/golang-cms/cmd/server DONE:0.0
        -->
        
        <div id="pkg_github.com/vfa-khuongdv/golang-cms/internal/configs" class="funcname">
            Package Overview: github.com/vfa-khuongdv/golang-cms/internal/configs
            <span class="packageTotal">0.0%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_InitDB">
                <td>
                    <code><a href="#fn_InitDB">InitDB(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/configs/database.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/7</code>
                </td>
            </tr>
        
            <tr id="s_fn_LoadEnv">
                <td>
                    <code><a href="#fn_LoadEnv">LoadEnv(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/configs/env.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_InitDB">func InitDB</div>
        <div class="info">
            <a href="#s_fn_InitDB">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/configs/database.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>func InitDB(config DatabaseConfig) *gorm.DB {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>31</td>
                <td>
                    <code><pre>        dsn := fmt.Sprintf(&#34;%s:%s@tcp(%s:%s)/%s?charset=%s&amp;parseTime=True&amp;loc=UTC&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>                config.User,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>                config.Password,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                config.Host,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>                config.Port,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>                config.DBName,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>                config.Charset,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>        )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>40</td>
                <td>
                    <code><pre>        db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config{})</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>41</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>42</td>
                <td>
                    <code><pre>                logger.Fatalf(&#34;Failed to connect to the MySQL database: %+v&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>44</td>
                <td>
                    <code><pre>                logger.Info(&#34;MySQL database connection established successfully&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>46</td>
                <td>
                    <code><pre>        DB = db</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>47</td>
                <td>
                    <code><pre>        return db</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_LoadEnv">func LoadEnv</div>
        <div class="info">
            <a href="#s_fn_LoadEnv">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/configs/env.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>11</td>
                <td>
                    <code><pre>func LoadEnv() {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>12</td>
                <td>
                    <code><pre>        if err := godotenv.Load(); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>13</td>
                <td>
                    <code><pre>                logger.Info(&#34;No .env file found, loading environment variables from the system.&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:github.com/vfa-khuongdv/golang-cms/internal/configs DONE:0.0
        -->
        
        <div id="pkg_github.com/vfa-khuongdv/golang-cms/internal/database/seeders" class="funcname">
            Package Overview: github.com/vfa-khuongdv/golang-cms/internal/database/seeders
            <span class="packageTotal">0.0%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_SeedRoles">
                <td>
                    <code><a href="#fn_SeedRoles">SeedRoles(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/database/seeders/role_seed.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/11</code>
                </td>
            </tr>
        
            <tr id="s_fn_SeedUsers">
                <td>
                    <code><a href="#fn_SeedUsers">SeedUsers(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/database/seeders/user_seed.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/11</code>
                </td>
            </tr>
        
            <tr id="s_fn_Run">
                <td>
                    <code><a href="#fn_Run">Run(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/database/seeders/seeder.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/6</code>
                </td>
            </tr>
        
            <tr id="s_fn_SeedPermissions">
                <td>
                    <code><a href="#fn_SeedPermissions">SeedPermissions(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/database/seeders/permission_seed.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/5</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_SeedRoles">func SeedRoles</div>
        <div class="info">
            <a href="#s_fn_SeedRoles">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/database/seeders/role_seed.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre>func SeedRoles(db *gorm.DB) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>15</td>
                <td>
                    <code><pre>        roles := []RoleSeeder{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>                {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>                        Role: &amp;models.Role{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>                                ID:          1,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>                                Name:        &#34;Admin&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>                                DisplayName: &#34;Administrator&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>                        },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>                        PermissionIds: []uint{1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12}, // Full access to all permissions</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>                {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>                        Role: &amp;models.Role{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>                                ID:          2,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>                                Name:        &#34;User&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>                                DisplayName: &#34;Regular User&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>                        },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>                        PermissionIds: []uint{1, 4, 6, 9, 11}, // Can view users, roles, settings but not modify them</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>34</td>
                <td>
                    <code><pre>        for _, roleData := range roles {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>                // Create new role</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>36</td>
                <td>
                    <code><pre>                if err := db.Create(&amp;roleData.Role).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>37</td>
                <td>
                    <code><pre>                        logger.Errorf(&#34;Error creating role %s: %v&#34;, roleData.Role.Name, err)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>38</td>
                <td>
                    <code><pre>                        continue</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>                // Create role-permission associations</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>42</td>
                <td>
                    <code><pre>                for _, permID := range roleData.PermissionIds {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>43</td>
                <td>
                    <code><pre>                        rolePermission := models.RolePermission{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>                                RoleID:       roleData.Role.ID,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>                                PermissionID: permID,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>47</td>
                <td>
                    <code><pre>                        if err := db.Create(&amp;rolePermission).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>48</td>
                <td>
                    <code><pre>                                logger.Errorf(&#34;Error adding permission %d to role %s: %v&#34;, permID, roleData.Role.Name, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>52</td>
                <td>
                    <code><pre>                logger.Infof(&#34;Created role %s with %d permissions&#34;, roleData.Role.Name, len(roleData.PermissionIds))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>55</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_SeedUsers">func SeedUsers</div>
        <div class="info">
            <a href="#s_fn_SeedUsers">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/database/seeders/user_seed.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>func SeedUsers(db *gorm.DB) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>18</td>
                <td>
                    <code><pre>        users := []UserSeeder{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>                {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>                        User: &amp;models.User{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>                                Name:     &#34;John Doe&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>                                Email:    &#34;john@example.com&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>                                Password: utils.HashPassword(&#34;password123&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>                        },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>                        RoleIds: &amp;[]uint{1}, // Admin role</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>                {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>                        User: &amp;models.User{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>                                Name:     &#34;Jane Smith&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>                                Email:    &#34;jane@example.com&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>                                Password: utils.HashPassword(&#34;password123&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>                        },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>                        RoleIds: &amp;[]uint{2}, // User role</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>37</td>
                <td>
                    <code><pre>        for _, userData := range users {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>                // Create new user</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>39</td>
                <td>
                    <code><pre>                if err := db.Create(&amp;userData.User).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>40</td>
                <td>
                    <code><pre>                        logger.Errorf(&#34;Error creating user %s: %v&#34;, userData.User.Name, err)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>41</td>
                <td>
                    <code><pre>                        continue</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>                // Create user-role associations</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>44</td>
                <td>
                    <code><pre>                for _, roleID := range *userData.RoleIds {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>45</td>
                <td>
                    <code><pre>                        userRole := models.UserRole{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>                                UserID: userData.User.ID,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>                                RoleID: roleID,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>49</td>
                <td>
                    <code><pre>                        if err := db.Create(&amp;userRole).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>50</td>
                <td>
                    <code><pre>                                logger.Errorf(&#34;Error adding role %d to user %s: %v&#34;, roleID, userData.User.Name, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>52</td>
                <td>
                    <code><pre>                        log.Printf(&#34;Created user %s with %d roles&#34;, userData.User.Name, len(*userData.RoleIds))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>56</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Run">func Run</div>
        <div class="info">
            <a href="#s_fn_Run">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/database/seeders/seeder.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>10</td>
                <td>
                    <code><pre>func Run(db *gorm.DB) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>11</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>12</td>
                <td>
                    <code><pre>        // SeendPermissions seeds the permissions table</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>13</td>
                <td>
                    <code><pre>        if err := SeedPermissions(db); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>14</td>
                <td>
                    <code><pre>                logger.Infof(&#34;Something else error when run seeding permission: %+v&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>        // SeedRoles seeds the roles table</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>18</td>
                <td>
                    <code><pre>        if err := SeedRoles(db); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>19</td>
                <td>
                    <code><pre>                logger.Infof(&#34;Something else error when run seeding user: %+v&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>        // SeedUsers seeds the users table</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>23</td>
                <td>
                    <code><pre>        if err := SeedUsers(db); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>24</td>
                <td>
                    <code><pre>                logger.Infof(&#34;Something else error when run seeding user: %+v&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_SeedPermissions">func SeedPermissions</div>
        <div class="info">
            <a href="#s_fn_SeedPermissions">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/database/seeders/permission_seed.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>9</td>
                <td>
                    <code><pre>func SeedPermissions(db *gorm.DB) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>10</td>
                <td>
                    <code><pre>        permissions := []models.Permission{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>11</td>
                <td>
                    <code><pre>                // User resource permissions</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>12</td>
                <td>
                    <code><pre>                {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>13</td>
                <td>
                    <code><pre>                        ID:       1,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre>                        Resource: &#34;users&#34;, // Resource: User management</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>                        Action:   &#34;index&#34;, // Action: List all users</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>                {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>                        ID:       2,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>                        Resource: &#34;users&#34;,  // Resource: User management</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>                        Action:   &#34;create&#34;, // Action: Create new user</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>                {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>                        ID:       3,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>                        Resource: &#34;users&#34;,  // Resource: User management</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>                        Action:   &#34;update&#34;, // Action: Update existing user</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>                {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>                        ID:       4,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>                        Resource: &#34;users&#34;, // Resource: User management</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>                        Action:   &#34;view&#34;,  // Action: View user details</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>                {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>                        ID:       5,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                        Resource: &#34;users&#34;,  // Resource: User management</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>                        Action:   &#34;delete&#34;, // Action: Delete user</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>                // Role resource permissions</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>                {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>                        ID:       6,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>                        Resource: &#34;roles&#34;, // Resource: Role management</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>                        Action:   &#34;index&#34;, // Action: List all roles</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>                {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>                        ID:       7,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>                        Resource: &#34;roles&#34;,  // Resource: Role management</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>                        Action:   &#34;create&#34;, // Action: Create new role</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>                {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>                        ID:       8,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>                        Resource: &#34;roles&#34;,  // Resource: Role management</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>                        Action:   &#34;update&#34;, // Action: Update existing role</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>                {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>                        ID:       9,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>                        Resource: &#34;roles&#34;, // Resource: Role management</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>                        Action:   &#34;view&#34;,  // Action: View role details</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>                {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>                        ID:       10,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre>                        Resource: &#34;roles&#34;,  // Resource: Role management</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>                        Action:   &#34;delete&#34;, // Action: Delete role</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>                // Settings resource permissions</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>                {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>                        ID:       11,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>                        Resource: &#34;settings&#34;, // Resource: System settings</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>                        Action:   &#34;view&#34;,     // Action: View settings</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>                {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre>                        ID:       12,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre>                        Resource: &#34;settings&#34;, // Resource: System settings</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>72</td>
                <td>
                    <code><pre>                        Action:   &#34;update&#34;,   // Action: Update settings</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>76</td>
                <td>
                    <code><pre>        for _, permission := range permissions {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>77</td>
                <td>
                    <code><pre>                if err := db.Create(&amp;permission).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>78</td>
                <td>
                    <code><pre>                        logger.Infof(&#34;The permission %v, action %v was run before\n&#34;, permission.Resource, permission.Action)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>79</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>80</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>81</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>82</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>83</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:github.com/vfa-khuongdv/golang-cms/internal/database/seeders DONE:0.0
        -->
        
        <div id="pkg_github.com/vfa-khuongdv/golang-cms/internal/guards" class="funcname">
            Package Overview: github.com/vfa-khuongdv/golang-cms/internal/guards
            <span class="packageTotal">0.0%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_@31:9">
                <td>
                    <code><a href="#fn_@31:9">@31:9(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/guards/permission_guard.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/15</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewRoleGuard">
                <td>
                    <code><a href="#fn_NewRoleGuard">NewRoleGuard(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/guards/permission_guard.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_RequirePermissions">
                <td>
                    <code><a href="#fn_RequirePermissions">RequirePermissions(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/guards/permission_guard.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/1</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_@31:9">func @31:9</div>
        <div class="info">
            <a href="#s_fn_@31:9">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/guards/permission_guard.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>func(c *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>                // Get user ID</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>33</td>
                <td>
                    <code><pre>                userIdAny, exists := c.Get(&#34;UserID&#34;)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>34</td>
                <td>
                    <code><pre>                if !exists {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>35</td>
                <td>
                    <code><pre>                        utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>                                c,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>                                http.StatusForbidden,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>                                errors.New(errors.ErrForbidden, &#34;User ID not found&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>                        )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>42</td>
                <td>
                    <code><pre>                userId := userIdAny.(uint)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>43</td>
                <td>
                    <code><pre>                userPermSet := map[string]bool{}</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>                // Get user permissions</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>46</td>
                <td>
                    <code><pre>                permissions, err := guard.userRepo.GetUserPermissions(userId)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>47</td>
                <td>
                    <code><pre>                if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>48</td>
                <td>
                    <code><pre>                        utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>                                c,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>                                http.StatusForbidden,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>                                errors.New(errors.ErrForbidden, &#34;Failed to retrieve user permissions&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>                        )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>                // Aggregate permissions from all roles</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>56</td>
                <td>
                    <code><pre>                for _, p := range permissions {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>57</td>
                <td>
                    <code><pre>                        permKey := fmt.Sprintf(&#34;%s:%s&#34;, p.Resource, p.Action)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>58</td>
                <td>
                    <code><pre>                        userPermSet[permKey] = true</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>                // Check ALL required permissions are granted</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>62</td>
                <td>
                    <code><pre>                for _, required := range requiredPerms {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>63</td>
                <td>
                    <code><pre>                        if !userPermSet[required] {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>64</td>
                <td>
                    <code><pre>                                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>                                        c,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>                                        http.StatusForbidden,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>                                        errors.New(errors.ErrForbidden, fmt.Sprintf(&#34;Missing permission: %s&#34;, required)),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>                                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>72</td>
                <td>
                    <code><pre>                c.Next()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewRoleGuard">func NewRoleGuard</div>
        <div class="info">
            <a href="#s_fn_NewRoleGuard">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/guards/permission_guard.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>func NewRoleGuard(db *gorm.DB) *RoleGuard {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>22</td>
                <td>
                    <code><pre>        return &amp;RoleGuard{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>                roleRepo: repositories.NewRoleRepository(db),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>                userRepo: repositories.NewUserRepository(db),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RequirePermissions">func RequirePermissions</div>
        <div class="info">
            <a href="#s_fn_RequirePermissions">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/guards/permission_guard.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>func RequirePermissions(guard *RoleGuard, requiredPerms ...string) gin.HandlerFunc {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>31</td>
                <td>
                    <code><pre>        return func(c *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>                // Get user ID</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>                userIdAny, exists := c.Get(&#34;UserID&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                if !exists {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>                        utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>                                c,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>                                http.StatusForbidden,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>                                errors.New(errors.ErrForbidden, &#34;User ID not found&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>                        )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>                userId := userIdAny.(uint)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>                userPermSet := map[string]bool{}</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>                // Get user permissions</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>                permissions, err := guard.userRepo.GetUserPermissions(userId)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>                if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>                        utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>                                c,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>                                http.StatusForbidden,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>                                errors.New(errors.ErrForbidden, &#34;Failed to retrieve user permissions&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>                        )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>                // Aggregate permissions from all roles</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>                for _, p := range permissions {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>                        permKey := fmt.Sprintf(&#34;%s:%s&#34;, p.Resource, p.Action)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>                        userPermSet[permKey] = true</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>                // Check ALL required permissions are granted</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>                for _, required := range requiredPerms {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>                        if !userPermSet[required] {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>                                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>                                        c,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>                                        http.StatusForbidden,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>                                        errors.New(errors.ErrForbidden, fmt.Sprintf(&#34;Missing permission: %s&#34;, required)),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>                                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>72</td>
                <td>
                    <code><pre>                c.Next()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:github.com/vfa-khuongdv/golang-cms/internal/guards DONE:0.0
        -->
        
        <div id="pkg_github.com/vfa-khuongdv/golang-cms/internal/handlers" class="funcname">
            Package Overview: github.com/vfa-khuongdv/golang-cms/internal/handlers
            <span class="packageTotal">92.8%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_UserHandler.ChangePassword">
                <td>
                    <code><a href="#fn_UserHandler.ChangePassword">UserHandler.ChangePassword(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/user_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>31/31</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserHandler.UpdateProfile">
                <td>
                    <code><a href="#fn_UserHandler.UpdateProfile">UserHandler.UpdateProfile(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/user_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>28/28</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserHandler.UpdateUser">
                <td>
                    <code><a href="#fn_UserHandler.UpdateUser">UserHandler.UpdateUser(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/user_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>26/26</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserHandler.ResetPassword">
                <td>
                    <code><a href="#fn_UserHandler.ResetPassword">UserHandler.ResetPassword(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/user_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>26/26</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserHandler.GetProfile">
                <td>
                    <code><a href="#fn_UserHandler.GetProfile">UserHandler.GetProfile(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/user_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>24/24</code>
                </td>
            </tr>
        
            <tr id="s_fn_RoleHandler.UpdateRole">
                <td>
                    <code><a href="#fn_RoleHandler.UpdateRole">RoleHandler.UpdateRole(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/role_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>19/19</code>
                </td>
            </tr>
        
            <tr id="s_fn_SettingHandler.UpdateSettings">
                <td>
                    <code><a href="#fn_SettingHandler.UpdateSettings">SettingHandler.UpdateSettings(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/setting_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>18/18</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserHandler.CreateUser">
                <td>
                    <code><a href="#fn_UserHandler.CreateUser">UserHandler.CreateUser(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/user_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>14/14</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserHandler.DeleteUser">
                <td>
                    <code><a href="#fn_UserHandler.DeleteUser">UserHandler.DeleteUser(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/user_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>13/13</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserHandler.GetUser">
                <td>
                    <code><a href="#fn_UserHandler.GetUser">UserHandler.GetUser(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/user_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>10/10</code>
                </td>
            </tr>
        
            <tr id="s_fn_RoleHandler.CreateRole">
                <td>
                    <code><a href="#fn_RoleHandler.CreateRole">RoleHandler.CreateRole(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/role_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>10/10</code>
                </td>
            </tr>
        
            <tr id="s_fn_RoleHandler.GetRole">
                <td>
                    <code><a href="#fn_RoleHandler.GetRole">RoleHandler.GetRole(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/role_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>10/10</code>
                </td>
            </tr>
        
            <tr id="s_fn_RoleHandler.DeleteRole">
                <td>
                    <code><a href="#fn_RoleHandler.DeleteRole">RoleHandler.DeleteRole(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/role_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>9/9</code>
                </td>
            </tr>
        
            <tr id="s_fn_AuthHandler.RefreshToken">
                <td>
                    <code><a href="#fn_AuthHandler.RefreshToken">AuthHandler.RefreshToken(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/auth_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>9/9</code>
                </td>
            </tr>
        
            <tr id="s_fn_AuthHandler.Login">
                <td>
                    <code><a href="#fn_AuthHandler.Login">AuthHandler.Login(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/auth_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>9/9</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserHandler.PaginationUser">
                <td>
                    <code><a href="#fn_UserHandler.PaginationUser">UserHandler.PaginationUser(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/user_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>6/6</code>
                </td>
            </tr>
        
            <tr id="s_fn_SettingHandler.GetSettings">
                <td>
                    <code><a href="#fn_SettingHandler.GetSettings">SettingHandler.GetSettings(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/setting_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>5/5</code>
                </td>
            </tr>
        
            <tr id="s_fn_PermissionHandler.GetAll">
                <td>
                    <code><a href="#fn_PermissionHandler.GetAll">PermissionHandler.GetAll(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/permission_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>5/5</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewUserHandler">
                <td>
                    <code><a href="#fn_NewUserHandler">NewUserHandler(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/user_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewAuthHandler">
                <td>
                    <code><a href="#fn_NewAuthHandler">NewAuthHandler(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/auth_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewSettingHandler">
                <td>
                    <code><a href="#fn_NewSettingHandler">NewSettingHandler(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/setting_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewRoleHandler">
                <td>
                    <code><a href="#fn_NewRoleHandler">NewRoleHandler(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/role_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewPermissionHandler">
                <td>
                    <code><a href="#fn_NewPermissionHandler">NewPermissionHandler(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/permission_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_HealthCheck">
                <td>
                    <code><a href="#fn_HealthCheck">HealthCheck(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/health_handler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserHandler.cacheUserProfile">
                <td>
                    <code><a href="#fn_UserHandler.cacheUserProfile">UserHandler.cacheUserProfile(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/user_handler.go</code>
                </td>
                <td class="percent">
                    <code>85.7%</code>
                </td>
                <td class="linecount">
                    <code>6/7</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserHandler.ForgotPassword">
                <td>
                    <code><a href="#fn_UserHandler.ForgotPassword">UserHandler.ForgotPassword(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/handlers/user_handler.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/21</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_UserHandler.ChangePassword">func UserHandler.ChangePassword</div>
        <div class="info">
            <a href="#s_fn_UserHandler.ChangePassword">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/user_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>256</td>
                <td>
                    <code><pre>func (handler *UserHandler) ChangePassword(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>257</td>
                <td>
                    <code><pre>        // Get user ID from the context</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>258</td>
                <td>
                    <code><pre>        // If user ID is 0 or not found, return bad request error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>259</td>
                <td>
                    <code><pre>        userId := ctx.GetUint(&#34;UserID&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>260</td>
                <td>
                    <code><pre>        if userId == 0 {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>261</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>262</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>263</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>264</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrParseError, &#34;Invalid UserID&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>265</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>266</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>267</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>268</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>269</td>
                <td>
                    <code><pre>        var input struct {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>270</td>
                <td>
                    <code><pre>                OldPassword     string `json:&#34;old_password&#34; binding:&#34;required,min=6,max=255&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>271</td>
                <td>
                    <code><pre>                NewPassword     string `json:&#34;new_password&#34; binding:&#34;required,min=6,max=255&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>272</td>
                <td>
                    <code><pre>                ConfirmPassword string `json:&#34;confirm_password&#34; binding:&#34;required,min=6,max=255&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>273</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>274</td>
                <td>
                    <code><pre>        // Bind and validate JSON request body</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>275</td>
                <td>
                    <code><pre>        if err := ctx.ShouldBindJSON(&amp;input); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>276</td>
                <td>
                    <code><pre>                validateError := utils.TranslateValidationErrors(err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>277</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>278</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>279</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>280</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrInvalidData, validateError.Error()),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>281</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>282</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>283</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>284</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>285</td>
                <td>
                    <code><pre>        // Get user by ID from database</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>286</td>
                <td>
                    <code><pre>        user, err := handler.userService.GetUser(uint(userId))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>287</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>288</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>289</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>290</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>291</td>
                <td>
                    <code><pre>                        err,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>292</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>293</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>294</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>295</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>296</td>
                <td>
                    <code><pre>        // Check if old password is correct</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>297</td>
                <td>
                    <code><pre>        if isValid := handler.bcryptService.CheckPasswordHash(input.OldPassword, user.Password); !isValid {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>298</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>299</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>300</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>301</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrInvalidPassword, &#34;Old password is incorrect&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>302</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>303</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>304</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>305</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>306</td>
                <td>
                    <code><pre>        // Check if new password is the same as old password</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>307</td>
                <td>
                    <code><pre>        if input.OldPassword == input.NewPassword {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>308</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>309</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>310</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>311</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrPasswordMismatch, &#34;New password must be different from old password&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>312</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>313</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>314</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>315</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>316</td>
                <td>
                    <code><pre>        // Check if new password and confirm password match</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>317</td>
                <td>
                    <code><pre>        if input.NewPassword != input.ConfirmPassword {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>318</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>319</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>320</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>321</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrPasswordMismatch, &#34;New password and confirm password do not match&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>322</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>323</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>324</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>325</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>326</td>
                <td>
                    <code><pre>        // Hash the password using the utils.HashPassword function</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>327</td>
                <td>
                    <code><pre>        // If hashing fails (returns empty string), return a 500 error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>328</td>
                <td>
                    <code><pre>        hashpassword, err := handler.bcryptService.HashPassword(input.NewPassword)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>329</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>330</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>331</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>332</td>
                <td>
                    <code><pre>                        http.StatusInternalServerError,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>333</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrPasswordHashFailed, &#34;Hash password failed&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>334</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>335</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>336</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>337</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>338</td>
                <td>
                    <code><pre>        // Update user password</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>339</td>
                <td>
                    <code><pre>        user.Password = hashpassword</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>340</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>341</td>
                <td>
                    <code><pre>        // Update user in database</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>342</td>
                <td>
                    <code><pre>        if err := handler.userService.UpdateUser(user); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>343</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>344</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>345</td>
                <td>
                    <code><pre>                        http.StatusInternalServerError,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>346</td>
                <td>
                    <code><pre>                        err,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>347</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>348</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>349</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>350</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>351</td>
                <td>
                    <code><pre>        utils.RespondWithOK(ctx, http.StatusOK, gin.H{&#34;message&#34;: &#34;Change password successfully&#34;})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>352</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserHandler.UpdateProfile">func UserHandler.UpdateProfile</div>
        <div class="info">
            <a href="#s_fn_UserHandler.UpdateProfile">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/user_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>568</td>
                <td>
                    <code><pre>func (handler *UserHandler) UpdateProfile(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>569</td>
                <td>
                    <code><pre>        // Get user ID from context and validate</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>570</td>
                <td>
                    <code><pre>        userId := ctx.GetUint(&#34;UserID&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>571</td>
                <td>
                    <code><pre>        if userId == 0 {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>572</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>573</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>574</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>575</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrParseError, &#34;Invalid UserID&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>576</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>577</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>578</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>579</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>580</td>
                <td>
                    <code><pre>        // Define input struct for profile update with validation rules</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>581</td>
                <td>
                    <code><pre>        var input struct {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>582</td>
                <td>
                    <code><pre>                Name     *string `json:&#34;name&#34; binding:&#34;omitempty,min=1,max=45,not_blank&#34;`     // Name must be between 1 and 45 characters and not blank if provided</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>583</td>
                <td>
                    <code><pre>                Birthday *string `json:&#34;birthday&#34; binding:&#34;omitempty,valid_birthday&#34;`         // Birthday must be a valid date (YYYY-MM-DD) if provided</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>584</td>
                <td>
                    <code><pre>                Address  *string `json:&#34;address&#34; binding:&#34;omitempty,min=1,max=255,not_blank&#34;` // Address must be between 1 and 255 characters and not blank if provided</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>585</td>
                <td>
                    <code><pre>                Gender   *int16  `json:&#34;gender&#34; binding:&#34;omitempty,oneof=1 2 3&#34;`              // Gender must be 1, 2, or 3 if provided</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>586</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>587</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>588</td>
                <td>
                    <code><pre>        // Bind and validate JSON request body</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>589</td>
                <td>
                    <code><pre>        if err := ctx.ShouldBindJSON(&amp;input); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>590</td>
                <td>
                    <code><pre>                validateError := utils.TranslateValidationErrors(err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>591</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>592</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>593</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>594</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrInvalidData, validateError.Error()),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>595</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>596</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>597</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>598</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>599</td>
                <td>
                    <code><pre>        // Get existing user from database</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>600</td>
                <td>
                    <code><pre>        user, err := handler.userService.GetUser(userId)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>601</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>602</td>
                <td>
                    <code><pre>        // Return error if user not found</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>603</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>604</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>605</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>606</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>607</td>
                <td>
                    <code><pre>                        err,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>608</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>609</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>610</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>611</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>612</td>
                <td>
                    <code><pre>        // Update user fields if provided in input</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>613</td>
                <td>
                    <code><pre>        if input.Name != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>614</td>
                <td>
                    <code><pre>                user.Name = *input.Name</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>615</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>616</td>
                <td>
                    <code><pre>        if input.Birthday != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>617</td>
                <td>
                    <code><pre>                user.Birthday = input.Birthday</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>618</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>619</td>
                <td>
                    <code><pre>        if input.Address != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>620</td>
                <td>
                    <code><pre>                user.Address = input.Address</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>621</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>622</td>
                <td>
                    <code><pre>        if input.Gender != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>623</td>
                <td>
                    <code><pre>                user.Gender = *input.Gender</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>624</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>625</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>626</td>
                <td>
                    <code><pre>        // Save updated user to database</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>627</td>
                <td>
                    <code><pre>        if err := handler.userService.UpdateUser(user); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>628</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>629</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>630</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>631</td>
                <td>
                    <code><pre>                        err,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>632</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>633</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>634</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>635</td>
                <td>
                    <code><pre>        // Clear cache</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>636</td>
                <td>
                    <code><pre>        profileKey := constants.PROFILE + string(rune(user.ID))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>637</td>
                <td>
                    <code><pre>        if err := handler.redisService.Delete(profileKey); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>638</td>
                <td>
                    <code><pre>                logrus.Errorf(&#34;Failed to clear cache: %v&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>639</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>640</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>641</td>
                <td>
                    <code><pre>        utils.RespondWithOK(ctx, http.StatusOK, gin.H{&#34;message&#34;: &#34;Update profile successfully&#34;})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>642</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserHandler.UpdateUser">func UserHandler.UpdateUser</div>
        <div class="info">
            <a href="#s_fn_UserHandler.UpdateUser">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/user_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>392</td>
                <td>
                    <code><pre>func (handler *UserHandler) UpdateUser(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>393</td>
                <td>
                    <code><pre>        // Get user ID from the context</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>394</td>
                <td>
                    <code><pre>        id := ctx.Param(&#34;id&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>395</td>
                <td>
                    <code><pre>        userId, err := strconv.Atoi(id)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>396</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>397</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>398</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>399</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>400</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrParseError, err.Error()),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>401</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>402</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>403</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>404</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>405</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>406</td>
                <td>
                    <code><pre>        // Define input struct with validation tags</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>407</td>
                <td>
                    <code><pre>        var input struct {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>408</td>
                <td>
                    <code><pre>                Name     *string `json:&#34;name&#34; binding:&#34;omitempty,min=1,max=45,not_blank&#34;`     // Name must be between 1-45 chars and not blank</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>409</td>
                <td>
                    <code><pre>                Birthday *string `json:&#34;birthday&#34; binding:&#34;omitempty,valid_birthday&#34;`         // Assumes birthday is valid format: YYYY-MM-DD</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>410</td>
                <td>
                    <code><pre>                Address  *string `json:&#34;address&#34; binding:&#34;omitempty,min=1,max=255,not_blank&#34;` // Address must be between 1-255 chars and not blank</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>411</td>
                <td>
                    <code><pre>                Gender   *int16  `json:&#34;gender&#34; binding:&#34;omitempty,oneof=1 2 3&#34;`              // Gender must be one of [1 2 3]</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>412</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>413</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>414</td>
                <td>
                    <code><pre>        if err := ctx.ShouldBindJSON(&amp;input); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>415</td>
                <td>
                    <code><pre>                validateError := utils.TranslateValidationErrors(err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>416</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>417</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>418</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>419</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrInvalidData, validateError.Error()),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>420</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>421</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>422</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>423</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>424</td>
                <td>
                    <code><pre>        // Get existing user from database</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>425</td>
                <td>
                    <code><pre>        user, err := handler.userService.GetUser(uint(userId))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>426</td>
                <td>
                    <code><pre>        // Return error if user not found</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>427</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>428</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>429</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>430</td>
                <td>
                    <code><pre>                        http.StatusNotFound,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>431</td>
                <td>
                    <code><pre>                        err,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>432</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>433</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>434</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>435</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>436</td>
                <td>
                    <code><pre>        // Update user fields with input values</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>437</td>
                <td>
                    <code><pre>        if input.Name != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>438</td>
                <td>
                    <code><pre>                user.Name = *input.Name</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>439</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>440</td>
                <td>
                    <code><pre>        if input.Birthday != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>441</td>
                <td>
                    <code><pre>                user.Birthday = input.Birthday</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>442</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>443</td>
                <td>
                    <code><pre>        if input.Address != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>444</td>
                <td>
                    <code><pre>                user.Address = input.Address</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>445</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>446</td>
                <td>
                    <code><pre>        if input.Gender != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>447</td>
                <td>
                    <code><pre>                user.Gender = *input.Gender</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>448</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>449</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>450</td>
                <td>
                    <code><pre>        // Save updated user to database</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>451</td>
                <td>
                    <code><pre>        if err := handler.userService.UpdateUser(user); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>452</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>453</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>454</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>455</td>
                <td>
                    <code><pre>                        err,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>456</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>457</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>458</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>459</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>460</td>
                <td>
                    <code><pre>        utils.RespondWithOK(ctx, http.StatusOK, gin.H{&#34;message&#34;: &#34;Update user successfully&#34;})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>461</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserHandler.ResetPassword">func UserHandler.ResetPassword</div>
        <div class="info">
            <a href="#s_fn_UserHandler.ResetPassword">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/user_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>178</td>
                <td>
                    <code><pre>func (handler *UserHandler) ResetPassword(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>179</td>
                <td>
                    <code><pre>        var input struct {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>180</td>
                <td>
                    <code><pre>                Token       string `json:&#34;token&#34; binding:&#34;required&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>181</td>
                <td>
                    <code><pre>                Password    string `json:&#34;password&#34; binding:&#34;required,min=6,max=255&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>182</td>
                <td>
                    <code><pre>                NewPassword string `json:&#34;new_password&#34; binding:&#34;required,min=6,max=255&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>183</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>184</td>
                <td>
                    <code><pre>        // Bind and validate JSON request body</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>185</td>
                <td>
                    <code><pre>        if err := ctx.ShouldBindJSON(&amp;input); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>186</td>
                <td>
                    <code><pre>                validateError := utils.TranslateValidationErrors(err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>187</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>188</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>189</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>190</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrInvalidData, validateError.Error()),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>191</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>192</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>193</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>194</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>195</td>
                <td>
                    <code><pre>        // Get user by token from database</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>196</td>
                <td>
                    <code><pre>        user, err := handler.userService.GetUserByToken(input.Token)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>197</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>198</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>199</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>200</td>
                <td>
                    <code><pre>                        http.StatusNotFound,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>201</td>
                <td>
                    <code><pre>                        err,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>202</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>203</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>204</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>205</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>206</td>
                <td>
                    <code><pre>        // Check if token is expired</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>207</td>
                <td>
                    <code><pre>        if time.Now().Unix() &gt; *user.ExpiredAt {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>208</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>209</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>210</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>211</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrTokenExpired, &#34;Token expired&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>212</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>213</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>214</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>215</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>216</td>
                <td>
                    <code><pre>        // Check if new password is the same as old password</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>217</td>
                <td>
                    <code><pre>        if isValid := handler.bcryptService.CheckPasswordHash(input.Password, user.Password); !isValid {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>218</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>219</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>220</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>221</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrInvalidPassword, &#34;Password is incorrect&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>222</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>223</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>224</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>225</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>226</td>
                <td>
                    <code><pre>        // Hash the password using the utils.HashPassword function</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>227</td>
                <td>
                    <code><pre>        // If hashing fails (returns empty string), return a 400 error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>228</td>
                <td>
                    <code><pre>        hashpassword, err := handler.bcryptService.HashPassword(input.Password)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>229</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>230</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>231</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>232</td>
                <td>
                    <code><pre>                        http.StatusInternalServerError,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>233</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrPasswordHashFailed, &#34;Failed to hash password&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>234</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>235</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>236</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>237</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>238</td>
                <td>
                    <code><pre>        // Update user password</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>239</td>
                <td>
                    <code><pre>        user.Password = hashpassword</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>240</td>
                <td>
                    <code><pre>        user.Token = nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>241</td>
                <td>
                    <code><pre>        user.ExpiredAt = nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>242</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>243</td>
                <td>
                    <code><pre>        // Update user in database</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>244</td>
                <td>
                    <code><pre>        if err := handler.userService.UpdateUser(user); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>245</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>246</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>247</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>248</td>
                <td>
                    <code><pre>                        err,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>249</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>250</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>251</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>252</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>253</td>
                <td>
                    <code><pre>        utils.RespondWithOK(ctx, http.StatusOK, gin.H{&#34;message&#34;: &#34;Reset password successfully&#34;})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>254</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserHandler.GetProfile">func UserHandler.GetProfile</div>
        <div class="info">
            <a href="#s_fn_UserHandler.GetProfile">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/user_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>490</td>
                <td>
                    <code><pre>func (handler *UserHandler) GetProfile(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>491</td>
                <td>
                    <code><pre>        // Get user ID from the context</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>492</td>
                <td>
                    <code><pre>        userId := ctx.GetUint(&#34;UserID&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>493</td>
                <td>
                    <code><pre>        if userId == 0 {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>494</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>495</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>496</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>497</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrParseError, &#34;Invalid UserID&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>498</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>499</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>500</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>501</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>502</td>
                <td>
                    <code><pre>        var user models.User</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>503</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>504</td>
                <td>
                    <code><pre>        // Try to get user from Redis cache</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>505</td>
                <td>
                    <code><pre>        cacheKey := constants.PROFILE + string(rune(userId))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>506</td>
                <td>
                    <code><pre>        userString, err := handler.redisService.Get(cacheKey)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>507</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>508</td>
                <td>
                    <code><pre>                logger.Warnf(&#34;Failed to get user from Redis: %+v&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>509</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>510</td>
                <td>
                    <code><pre>        // If not in cache, get from DB</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>511</td>
                <td>
                    <code><pre>        if userString == &#34;&#34; {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>512</td>
                <td>
                    <code><pre>                logger.Info(&#34;User retrieved from DB&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>513</td>
                <td>
                    <code><pre>                dbUser, err := handler.userService.GetProfile(userId)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>514</td>
                <td>
                    <code><pre>                if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>515</td>
                <td>
                    <code><pre>                        utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>516</td>
                <td>
                    <code><pre>                                ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>517</td>
                <td>
                    <code><pre>                                http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>518</td>
                <td>
                    <code><pre>                                err,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>519</td>
                <td>
                    <code><pre>                        )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>520</td>
                <td>
                    <code><pre>                        return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>521</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>522</td>
                <td>
                    <code><pre>                user = *dbUser</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>523</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>524</td>
                <td>
                    <code><pre>                // Cache the user data</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>525</td>
                <td>
                    <code><pre>                if err := handler.cacheUserProfile(&amp;user); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>526</td>
                <td>
                    <code><pre>                        logger.Warnf(&#34;Failed to cache user profile: %v&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>527</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>528</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>529</td>
                <td>
                    <code><pre>                logger.Info(&#34;User retrieved from Redis&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>530</td>
                <td>
                    <code><pre>                if err := json.Unmarshal([]byte(userString), &amp;user); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>531</td>
                <td>
                    <code><pre>                        logger.Warnf(&#34;Failed to unmarshal user from Redis: %v&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>532</td>
                <td>
                    <code><pre>                        utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>533</td>
                <td>
                    <code><pre>                                ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>534</td>
                <td>
                    <code><pre>                                http.StatusInternalServerError,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>535</td>
                <td>
                    <code><pre>                                errors.New(errors.ErrParseError, &#34;Failed to parse user data from cache&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>536</td>
                <td>
                    <code><pre>                        )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>537</td>
                <td>
                    <code><pre>                        return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>538</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>539</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>540</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>541</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>542</td>
                <td>
                    <code><pre>        utils.RespondWithOK(ctx, http.StatusOK, user)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>543</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RoleHandler.UpdateRole">func RoleHandler.UpdateRole</div>
        <div class="info">
            <a href="#s_fn_RoleHandler.UpdateRole">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/role_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>func (handler *RoleHandler) UpdateRole(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>        var input struct {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>                DisplayName string `json:&#34;display_name&#34; binding:&#34;required,min=3,max=255&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>        // Bind JSON request body to input struct</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>        if err := ctx.ShouldBindJSON(&amp;input); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>                validateError := utils.TranslateValidationErrors(err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>72</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrInvalidData, validateError.Error()),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>77</td>
                <td>
                    <code><pre>        // Get role ID from URL parameter</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>78</td>
                <td>
                    <code><pre>        roleId := ctx.Param(&#34;id&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>79</td>
                <td>
                    <code><pre>        // Convert role ID string to integer</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>80</td>
                <td>
                    <code><pre>        id, err := strconv.Atoi(roleId)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>81</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>82</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>83</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>84</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>85</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrParseError, err.Error()),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>86</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>87</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>88</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>89</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>90</td>
                <td>
                    <code><pre>        // Get role from database by ID</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>91</td>
                <td>
                    <code><pre>        role, err := handler.service.GetByID(int64(id))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>92</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>93</td>
                <td>
                    <code><pre>                utils.RespondWithError(ctx, http.StatusBadRequest, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>94</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>95</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>96</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>97</td>
                <td>
                    <code><pre>        // Update role display name</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>98</td>
                <td>
                    <code><pre>        role.DisplayName = input.DisplayName</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>99</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>100</td>
                <td>
                    <code><pre>        // Save updated role to database</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>101</td>
                <td>
                    <code><pre>        if err := handler.service.Update(role); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>102</td>
                <td>
                    <code><pre>                utils.RespondWithError(ctx, http.StatusBadRequest, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>103</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>104</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>105</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>106</td>
                <td>
                    <code><pre>        utils.RespondWithOK(ctx, http.StatusOK, gin.H{&#34;message&#34;: &#34;Update role successfully&#34;})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>107</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_SettingHandler.UpdateSettings">func SettingHandler.UpdateSettings</div>
        <div class="info">
            <a href="#s_fn_SettingHandler.UpdateSettings">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/setting_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>func (handler *SettingHandler) UpdateSettings(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>        type KeyValue struct {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>                Key   string `json:&#34;key&#34; binding:&#34;required&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>                Value string `json:&#34;value&#34; binding:&#34;required&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>        type Settings struct {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>                Settings []KeyValue `json:&#34;settings&#34; binding:&#34;required,dive&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>        var input Settings</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>        // Bind JSON request body to input struct</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>        if err := ctx.ShouldBindJSON(&amp;input); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>                validateError := utils.TranslateValidationErrors(err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrInvalidData, validateError.Error()),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>        // Iterate through settings array from request</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>        for _, v := range input.Settings {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>                // Get existing setting by key</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>                value, err := handler.service.GetSettingByKey(v.Key)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>                if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>                        newSetting := models.Setting{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>                                SettingKey: v.Key,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>                                Value:      v.Value,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre>                        if err := handler.service.Create(&amp;newSetting); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>72</td>
                <td>
                    <code><pre>                                logger.Errorf(&#34;Create new setting error for key:%s value:%s\n&#34;, v.Key, v.Value)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre>                                continue</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>                } else {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre>                        // Update setting value</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>77</td>
                <td>
                    <code><pre>                        value.Value = v.Value</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>78</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>79</td>
                <td>
                    <code><pre>                        // Save updated setting</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>80</td>
                <td>
                    <code><pre>                        if err := handler.service.Update(value); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>81</td>
                <td>
                    <code><pre>                                logger.Errorf(&#34;Update setting error for key:%s value:%s\n&#34;, v.Key, v.Value)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>82</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>83</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>84</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>85</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>86</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>87</td>
                <td>
                    <code><pre>        utils.RespondWithOK(ctx, http.StatusOK, gin.H{&#34;message&#34;: &#34;Update setting successfully&#34;})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>88</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserHandler.CreateUser">func UserHandler.CreateUser</div>
        <div class="info">
            <a href="#s_fn_UserHandler.CreateUser">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/user_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>func (handler *UserHandler) CreateUser(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>        var input struct {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>                Email    string  `json:&#34;email&#34; binding:&#34;required,email&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>                Password string  `json:&#34;password&#34; binding:&#34;required,min=6,max=255&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre>                Name     string  `json:&#34;name&#34; binding:&#34;required,min=1,max=45,not_blank&#34;`     // Name must be between 1-45 chars and not blank</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre>                Birthday *string `json:&#34;birthday&#34; binding:&#34;required,valid_birthday&#34;`         // Assumes birthday is valid format: YYYY-MM-DD</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>72</td>
                <td>
                    <code><pre>                Address  *string `json:&#34;address&#34; binding:&#34;required,min=1,max=255,not_blank&#34;` // Address must be between 1-255 chars and not blank</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre>                Gender   int16   `json:&#34;gender&#34; binding:&#34;required,oneof=1 2 3&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre>                RoleIds  []uint  `json:&#34;role_ids&#34; binding:&#34;required&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>77</td>
                <td>
                    <code><pre>        // Bind and validate the JSON request body to the input struct</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>78</td>
                <td>
                    <code><pre>        if err := ctx.ShouldBindJSON(&amp;input); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>79</td>
                <td>
                    <code><pre>                validateError := utils.TranslateValidationErrors(err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>80</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>81</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>82</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>83</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrInvalidData, validateError.Error()),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>84</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>85</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>86</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>87</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>88</td>
                <td>
                    <code><pre>        hashpassword, err := handler.bcryptService.HashPassword(input.Password)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>89</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>90</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>91</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>92</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>93</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrPasswordHashFailed, &#34;Hash password failed&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>94</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>95</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>96</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>97</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>98</td>
                <td>
                    <code><pre>        // Create a new User model instance with the validated input data</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>99</td>
                <td>
                    <code><pre>        // Password is stored as the hashed value</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>100</td>
                <td>
                    <code><pre>        user := models.User{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>101</td>
                <td>
                    <code><pre>                Name:     input.Name,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>102</td>
                <td>
                    <code><pre>                Email:    input.Email,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>103</td>
                <td>
                    <code><pre>                Password: hashpassword,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>104</td>
                <td>
                    <code><pre>                Birthday: input.Birthday,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>105</td>
                <td>
                    <code><pre>                Address:  input.Address,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>106</td>
                <td>
                    <code><pre>                Gender:   input.Gender,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>107</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>108</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>109</td>
                <td>
                    <code><pre>        // Attempt to create the user in the database</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>110</td>
                <td>
                    <code><pre>        // Return 400 Bad Request if creation fails</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>111</td>
                <td>
                    <code><pre>        if err := handler.userService.CreateUser(&amp;user, input.RoleIds); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>112</td>
                <td>
                    <code><pre>                utils.RespondWithError(ctx, http.StatusBadRequest, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>113</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>114</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>115</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>116</td>
                <td>
                    <code><pre>        utils.RespondWithOK(ctx, http.StatusCreated, gin.H{&#34;message&#34;: &#34;Create user successfully&#34;})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>117</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserHandler.DeleteUser">func UserHandler.DeleteUser</div>
        <div class="info">
            <a href="#s_fn_UserHandler.DeleteUser">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/user_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>354</td>
                <td>
                    <code><pre>func (handler *UserHandler) DeleteUser(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>355</td>
                <td>
                    <code><pre>        // Get user ID from the context</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>356</td>
                <td>
                    <code><pre>        id := ctx.Param(&#34;id&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>357</td>
                <td>
                    <code><pre>        userId, err := strconv.Atoi(id)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>358</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>359</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>360</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>361</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>362</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>363</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrParseError, &#34;Invalid UserID&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>364</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>365</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>366</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>367</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>368</td>
                <td>
                    <code><pre>        // Get user from database</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>369</td>
                <td>
                    <code><pre>        user, err := handler.userService.GetUser(uint(userId))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>370</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>371</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>372</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>373</td>
                <td>
                    <code><pre>                        http.StatusNotFound,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>374</td>
                <td>
                    <code><pre>                        err,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>375</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>376</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>377</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>378</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>379</td>
                <td>
                    <code><pre>        // Delete user from database</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>380</td>
                <td>
                    <code><pre>        if err := handler.userService.DeleteUser(uint(user.ID)); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>381</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>382</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>383</td>
                <td>
                    <code><pre>                        http.StatusInternalServerError,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>384</td>
                <td>
                    <code><pre>                        err,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>385</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>386</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>387</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>388</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>389</td>
                <td>
                    <code><pre>        utils.RespondWithOK(ctx, http.StatusOK, gin.H{&#34;message&#34;: &#34;Delete user successfully&#34;})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>390</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserHandler.GetUser">func UserHandler.GetUser</div>
        <div class="info">
            <a href="#s_fn_UserHandler.GetUser">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/user_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>463</td>
                <td>
                    <code><pre>func (handler *UserHandler) GetUser(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>464</td>
                <td>
                    <code><pre>        // Get user ID from the context</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>465</td>
                <td>
                    <code><pre>        id := ctx.Param(&#34;id&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>466</td>
                <td>
                    <code><pre>        userId, err := strconv.Atoi(id)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>467</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>468</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>469</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>470</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>471</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrParseError, err.Error()),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>472</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>473</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>474</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>475</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>476</td>
                <td>
                    <code><pre>        // Get user from database</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>477</td>
                <td>
                    <code><pre>        user, err := handler.userService.GetUser(uint(userId))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>478</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>479</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>480</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>481</td>
                <td>
                    <code><pre>                        http.StatusNotFound,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>482</td>
                <td>
                    <code><pre>                        err,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>483</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>484</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>485</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>486</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>487</td>
                <td>
                    <code><pre>        utils.RespondWithOK(ctx, http.StatusOK, user)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>488</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RoleHandler.CreateRole">func RoleHandler.CreateRole</div>
        <div class="info">
            <a href="#s_fn_RoleHandler.CreateRole">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/role_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>func (handler *RoleHandler) CreateRole(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>        var input struct {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                Name        string `json:&#34;name&#34; binding:&#34;required,min=3,max=255&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>                DisplayName string `json:&#34;display_name&#34; binding:&#34;required,min=3,max=255&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>        if err := ctx.ShouldBindJSON(&amp;input); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>                validateError := utils.TranslateValidationErrors(err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrInvalidData, validateError.Error()),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>        role := models.Role{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>                Name:        input.Name,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>                DisplayName: input.DisplayName,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>        if err := handler.service.Create(&amp;role); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>                utils.RespondWithError(ctx, http.StatusBadRequest, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>        utils.RespondWithOK(ctx, http.StatusCreated, gin.H{&#34;message&#34;: &#34;Create new role successfully&#34;})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RoleHandler.GetRole">func RoleHandler.GetRole</div>
        <div class="info">
            <a href="#s_fn_RoleHandler.GetRole">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/role_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>109</td>
                <td>
                    <code><pre>func (handler *RoleHandler) GetRole(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>110</td>
                <td>
                    <code><pre>        // Get role ID from URL parameter</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>111</td>
                <td>
                    <code><pre>        roleId := ctx.Param(&#34;id&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>112</td>
                <td>
                    <code><pre>        // Convert role ID string to integer</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>113</td>
                <td>
                    <code><pre>        id, err := strconv.Atoi(roleId)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>114</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>115</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>116</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>117</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>118</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrParseError, err.Error()),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>119</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>120</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>121</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>122</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>123</td>
                <td>
                    <code><pre>        // Get role from database by ID</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>124</td>
                <td>
                    <code><pre>        role, err := handler.service.GetByID(int64(id))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>125</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>126</td>
                <td>
                    <code><pre>                utils.RespondWithError(ctx, http.StatusBadRequest, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>127</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>128</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>129</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>130</td>
                <td>
                    <code><pre>        utils.RespondWithOK(ctx, http.StatusOK, role)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>131</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RoleHandler.DeleteRole">func RoleHandler.DeleteRole</div>
        <div class="info">
            <a href="#s_fn_RoleHandler.DeleteRole">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/role_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>133</td>
                <td>
                    <code><pre>func (handler *RoleHandler) DeleteRole(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>134</td>
                <td>
                    <code><pre>        // Get role ID from URL parameter</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>135</td>
                <td>
                    <code><pre>        roleId := ctx.Param(&#34;id&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>136</td>
                <td>
                    <code><pre>        // Convert role ID string to integer</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>137</td>
                <td>
                    <code><pre>        id, err := strconv.Atoi(roleId)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>138</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>139</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>140</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>141</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>142</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrParseError, err.Error()),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>143</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>144</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>145</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>146</td>
                <td>
                    <code><pre>        // Delete role from database</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>147</td>
                <td>
                    <code><pre>        if err := handler.service.Delete(int64(id)); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>148</td>
                <td>
                    <code><pre>                utils.RespondWithError(ctx, http.StatusBadRequest, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>149</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>150</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>151</td>
                <td>
                    <code><pre>        utils.RespondWithOK(ctx, http.StatusOK, gin.H{&#34;message&#34;: &#34;Delete role successfully&#34;})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>152</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_AuthHandler.RefreshToken">func AuthHandler.RefreshToken</div>
        <div class="info">
            <a href="#s_fn_AuthHandler.RefreshToken">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/auth_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>func (handler *AuthHandler) RefreshToken(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>        var token struct {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>                RefreshToken string `json:&#34;refresh_token&#34; binding:&#34;required&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>        // Bind JSON request body to token struct</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>        if err := ctx.ShouldBindJSON(&amp;token); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrInvalidData, err.Error()),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>        // Call auth service to refresh the token</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>        res, err := handler.authService.RefreshToken(token.RefreshToken, ctx)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre>                utils.RespondWithError(ctx, http.StatusUnauthorized, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>72</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre>        utils.RespondWithOK(ctx, http.StatusOK, res)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_AuthHandler.Login">func AuthHandler.Login</div>
        <div class="info">
            <a href="#s_fn_AuthHandler.Login">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/auth_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>func (handler *AuthHandler) Login(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        var credentials struct {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>                Email    string `json:&#34;email&#34; binding:&#34;required,email&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>                Password string `json:&#34;password&#34; binding:&#34;required,min=6,max=255&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>        if err := ctx.ShouldBindJSON(&amp;credentials); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrInvalidData, err.Error()),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>        // login handler</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>        res, err := handler.authService.Login(credentials.Email, credentials.Password, ctx)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>                utils.RespondWithError(ctx, http.StatusUnauthorized, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>        utils.RespondWithOK(ctx, http.StatusOK, res)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserHandler.PaginationUser">func UserHandler.PaginationUser</div>
        <div class="info">
            <a href="#s_fn_UserHandler.PaginationUser">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/user_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>func (handler *UserHandler) PaginationUser(c *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>        // Get the page and limit from the request context</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>        page, limit := utils.ParsePageAndLimit(c)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>        // Call the userService to get the paginated list of users</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>        pagination, err := handler.userService.PaginateUser(page, limit)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>                        c,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>                        http.StatusInternalServerError,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>                        err,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>        utils.RespondWithOK(c, http.StatusOK, pagination)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_SettingHandler.GetSettings">func SettingHandler.GetSettings</div>
        <div class="info">
            <a href="#s_fn_SettingHandler.GetSettings">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/setting_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>func (handler *SettingHandler) GetSettings(c *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        // Get settings from service</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>        settings, err := handler.service.GetSetting()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>                utils.RespondWithError(c, http.StatusBadRequest, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>        utils.RespondWithOK(c, http.StatusOK, settings)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_PermissionHandler.GetAll">func PermissionHandler.GetAll</div>
        <div class="info">
            <a href="#s_fn_PermissionHandler.GetAll">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/permission_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>func (handlder *PermissionHandler) GetAll(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>        permissions, err := handlder.service.GetAll()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>                utils.RespondWithError(ctx, http.StatusBadRequest, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>        utils.RespondWithOK(ctx, http.StatusOK, permissions)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewUserHandler">func NewUserHandler</div>
        <div class="info">
            <a href="#s_fn_NewUserHandler">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/user_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>func NewUserHandler(userService services.IUserService, redisService services.IRedisService, bcryptService services.IBcryptService) *UserHandler {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>        return &amp;UserHandler{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>                userService:   userService,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>                redisService:  redisService,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>                bcryptService: bcryptService,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewAuthHandler">func NewAuthHandler</div>
        <div class="info">
            <a href="#s_fn_NewAuthHandler">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/auth_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>func NewAuthHandler(authService services.IAuthService) *AuthHandler {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>        return &amp;AuthHandler{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>                authService: authService,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewSettingHandler">func NewSettingHandler</div>
        <div class="info">
            <a href="#s_fn_NewSettingHandler">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/setting_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>func NewSettingHandler(service services.ISettingService) *SettingHandler {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>        return &amp;SettingHandler{service: service}</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewRoleHandler">func NewRoleHandler</div>
        <div class="info">
            <a href="#s_fn_NewRoleHandler">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/role_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>func NewRoleHandler(service services.IRoleService) *RoleHandler {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>        return &amp;RoleHandler{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>                service: service,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewPermissionHandler">func NewPermissionHandler</div>
        <div class="info">
            <a href="#s_fn_NewPermissionHandler">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/permission_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>func NewPermissionHandler(service services.IPermissionService) *PermissionHandler {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>        return &amp;PermissionHandler{service: service}</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_HealthCheck">func HealthCheck</div>
        <div class="info">
            <a href="#s_fn_HealthCheck">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/health_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>10</td>
                <td>
                    <code><pre>func HealthCheck(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>11</td>
                <td>
                    <code><pre>        utils.RespondWithOK(ctx, http.StatusOK, gin.H{&#34;status&#34;: &#34;healthy&#34;})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>12</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserHandler.cacheUserProfile">func UserHandler.cacheUserProfile</div>
        <div class="info">
            <a href="#s_fn_UserHandler.cacheUserProfile">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/user_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>551</td>
                <td>
                    <code><pre>func (handler *UserHandler) cacheUserProfile(user *models.User) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>552</td>
                <td>
                    <code><pre>        // Convert user object to JSON bytes</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>553</td>
                <td>
                    <code><pre>        userJSON, err := json.Marshal(user)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>554</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>555</td>
                <td>
                    <code><pre>                return fmt.Errorf(&#34;failed to marshal user: %v&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>556</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>557</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>558</td>
                <td>
                    <code><pre>        // Create Redis key by concatenating profile prefix with user ID</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>559</td>
                <td>
                    <code><pre>        profileKey := constants.PROFILE + string(rune(user.ID))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>560</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>561</td>
                <td>
                    <code><pre>        // Store serialized user data in Redis</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>562</td>
                <td>
                    <code><pre>        if err := handler.redisService.Set(profileKey, userJSON, 60*time.Minute); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>563</td>
                <td>
                    <code><pre>                return fmt.Errorf(&#34;failed to cache in Redis: %v&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>564</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>565</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>566</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserHandler.ForgotPassword">func UserHandler.ForgotPassword</div>
        <div class="info">
            <a href="#s_fn_UserHandler.ForgotPassword">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/handlers/user_handler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>119</td>
                <td>
                    <code><pre>func (handle *UserHandler) ForgotPassword(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>120</td>
                <td>
                    <code><pre>        var input struct {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>121</td>
                <td>
                    <code><pre>                Email string `json:&#34;email&#34; binding:&#34;required,email&#34;`</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>122</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>123</td>
                <td>
                    <code><pre>        // Bind and validate JSON request body</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>124</td>
                <td>
                    <code><pre>        if err := ctx.ShouldBindJSON(&amp;input); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>125</td>
                <td>
                    <code><pre>                validateError := utils.TranslateValidationErrors(err)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>126</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>127</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>128</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>129</td>
                <td>
                    <code><pre>                        errors.New(errors.ErrInvalidData, validateError.Error()),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>130</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>131</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>132</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>133</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>134</td>
                <td>
                    <code><pre>        // Get user by email from database</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>135</td>
                <td>
                    <code><pre>        user, err := handle.userService.GetUserByEmail(input.Email)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>136</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>137</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>138</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>139</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>140</td>
                <td>
                    <code><pre>                        err,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>141</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>142</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>143</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>144</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>145</td>
                <td>
                    <code><pre>        // Generate random token string for password reset</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>146</td>
                <td>
                    <code><pre>        newToken := utils.GenerateRandomString(60)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>147</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>148</td>
                <td>
                    <code><pre>        expiredAt := time.Now().Add(time.Hour).Unix()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>149</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>150</td>
                <td>
                    <code><pre>        // Set new token on user</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>151</td>
                <td>
                    <code><pre>        user.Token = &amp;newToken</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>152</td>
                <td>
                    <code><pre>        user.ExpiredAt = &amp;expiredAt</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>153</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>154</td>
                <td>
                    <code><pre>        // Update user in database with new token</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>155</td>
                <td>
                    <code><pre>        if err := handle.userService.UpdateUser(user); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>156</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>157</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>158</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>159</td>
                <td>
                    <code><pre>                        err,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>160</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>161</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>162</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>163</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>164</td>
                <td>
                    <code><pre>        // Send password reset email to user</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>165</td>
                <td>
                    <code><pre>        if err := services.SendMailForgotPassword(user); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>166</td>
                <td>
                    <code><pre>                utils.RespondWithError(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>167</td>
                <td>
                    <code><pre>                        ctx,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>168</td>
                <td>
                    <code><pre>                        http.StatusBadRequest,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>169</td>
                <td>
                    <code><pre>                        err,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>170</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>171</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>172</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>173</td>
                <td>
                    <code><pre>        logger.Info(&#34;Email sent successfully!&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>174</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>175</td>
                <td>
                    <code><pre>        utils.RespondWithOK(ctx, http.StatusOK, gin.H{&#34;message&#34;: &#34;Forgot password successfully&#34;})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>176</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:github.com/vfa-khuongdv/golang-cms/internal/handlers DONE:92.8
        -->
        
        <div id="pkg_github.com/vfa-khuongdv/golang-cms/internal/middlewares" class="funcname">
            Package Overview: github.com/vfa-khuongdv/golang-cms/internal/middlewares
            <span class="packageTotal">27.1%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_@10:9">
                <td>
                    <code><a href="#fn_@10:9">@10:9(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/middlewares/cors_middleware.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>10/10</code>
                </td>
            </tr>
        
            <tr id="s_fn_@14:9">
                <td>
                    <code><a href="#fn_@14:9">@14:9(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/middlewares/empty_body_middleware.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>7/7</code>
                </td>
            </tr>
        
            <tr id="s_fn_CORSMiddleware">
                <td>
                    <code><a href="#fn_CORSMiddleware">CORSMiddleware(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/middlewares/cors_middleware.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_EmptyBodyMiddleware">
                <td>
                    <code><a href="#fn_EmptyBodyMiddleware">EmptyBodyMiddleware(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/middlewares/empty_body_middleware.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_@28:9">
                <td>
                    <code><a href="#fn_@28:9">@28:9(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/middlewares/log_middleware.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/37</code>
                </td>
            </tr>
        
            <tr id="s_fn_@22:9">
                <td>
                    <code><a href="#fn_@22:9">@22:9(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/middlewares/auth_middleware.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/9</code>
                </td>
            </tr>
        
            <tr id="s_fn_AuthMiddleware">
                <td>
                    <code><a href="#fn_AuthMiddleware">AuthMiddleware(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/middlewares/auth_middleware.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_bodyWriter.Write">
                <td>
                    <code><a href="#fn_bodyWriter.Write">bodyWriter.Write(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/middlewares/log_middleware.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_LogMiddleware">
                <td>
                    <code><a href="#fn_LogMiddleware">LogMiddleware(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/middlewares/log_middleware.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/1</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_@10:9">func @10:9</div>
        <div class="info">
            <a href="#s_fn_@10:9">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/middlewares/cors_middleware.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>10</td>
                <td>
                    <code><pre>func(c *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>11</td>
                <td>
                    <code><pre>                // Get allowed origins from environment or use default</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>12</td>
                <td>
                    <code><pre>                allowedOrigins := utils.GetEnv(&#34;CORS_ALLOWED_ORIGINS&#34;, &#34;*&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>13</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre>                c.Writer.Header().Set(&#34;Access-Control-Allow-Origin&#34;, allowedOrigins)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>                c.Writer.Header().Set(&#34;Access-Control-Allow-Credentials&#34;, &#34;true&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>                c.Writer.Header().Set(&#34;Access-Control-Allow-Headers&#34;, &#34;Content-Type, Content-Length, Accept-Encoding, X-CSRF-Token, Authorization, accept, origin, Cache-Control, X-Requested-With&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>                c.Writer.Header().Set(&#34;Access-Control-Allow-Methods&#34;, &#34;POST, OPTIONS, GET, PUT, PATCH, DELETE&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>                c.Writer.Header().Set(&#34;Access-Control-Max-Age&#34;, &#34;86400&#34;) // 24 hours</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>                if c.Request.Method == &#34;OPTIONS&#34; {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>                        c.AbortWithStatus(204)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>                        return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>                c.Next()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_@14:9">func @14:9</div>
        <div class="info">
            <a href="#s_fn_@14:9">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/middlewares/empty_body_middleware.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre>func(c *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>                if c.Request.Method == http.MethodPost || c.Request.Method == http.MethodPut || c.Request.Method == http.MethodPatch {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>                        bodyBytes, err := io.ReadAll(c.Request.Body)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>                        if err != nil || len(bytes.TrimSpace(bodyBytes)) == 0 {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>                                c.AbortWithStatusJSON(http.StatusBadRequest, gin.H{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>                                        &#34;code&#34;:    errors.ErrInvalidData,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>                                        &#34;message&#34;: &#34;Request body cannot be empty&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>                                })</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>                                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>                        // Replace the body so the handler can read it again</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>                        c.Request.Body = io.NopCloser(bytes.NewBuffer(bodyBytes))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>                c.Next()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_CORSMiddleware">func CORSMiddleware</div>
        <div class="info">
            <a href="#s_fn_CORSMiddleware">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/middlewares/cors_middleware.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>9</td>
                <td>
                    <code><pre>func CORSMiddleware() gin.HandlerFunc {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>10</td>
                <td>
                    <code><pre>        return func(c *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>11</td>
                <td>
                    <code><pre>                // Get allowed origins from environment or use default</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>12</td>
                <td>
                    <code><pre>                allowedOrigins := utils.GetEnv(&#34;CORS_ALLOWED_ORIGINS&#34;, &#34;*&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>13</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre>                c.Writer.Header().Set(&#34;Access-Control-Allow-Origin&#34;, allowedOrigins)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>                c.Writer.Header().Set(&#34;Access-Control-Allow-Credentials&#34;, &#34;true&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>                c.Writer.Header().Set(&#34;Access-Control-Allow-Headers&#34;, &#34;Content-Type, Content-Length, Accept-Encoding, X-CSRF-Token, Authorization, accept, origin, Cache-Control, X-Requested-With&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>                c.Writer.Header().Set(&#34;Access-Control-Allow-Methods&#34;, &#34;POST, OPTIONS, GET, PUT, PATCH, DELETE&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>                c.Writer.Header().Set(&#34;Access-Control-Max-Age&#34;, &#34;86400&#34;) // 24 hours</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>                if c.Request.Method == &#34;OPTIONS&#34; {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>                        c.AbortWithStatus(204)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>                        return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>                c.Next()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_EmptyBodyMiddleware">func EmptyBodyMiddleware</div>
        <div class="info">
            <a href="#s_fn_EmptyBodyMiddleware">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/middlewares/empty_body_middleware.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>13</td>
                <td>
                    <code><pre>func EmptyBodyMiddleware() gin.HandlerFunc {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre>        return func(c *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>                if c.Request.Method == http.MethodPost || c.Request.Method == http.MethodPut || c.Request.Method == http.MethodPatch {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>                        bodyBytes, err := io.ReadAll(c.Request.Body)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>                        if err != nil || len(bytes.TrimSpace(bodyBytes)) == 0 {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>                                c.AbortWithStatusJSON(http.StatusBadRequest, gin.H{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>                                        &#34;code&#34;:    errors.ErrInvalidData,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>                                        &#34;message&#34;: &#34;Request body cannot be empty&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>                                })</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>                                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>                        // Replace the body so the handler can read it again</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>                        c.Request.Body = io.NopCloser(bytes.NewBuffer(bodyBytes))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>                c.Next()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_@28:9">func @28:9</div>
        <div class="info">
            <a href="#s_fn_@28:9">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/middlewares/log_middleware.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>func(c *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>29</td>
                <td>
                    <code><pre>                var requestBody any</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>30</td>
                <td>
                    <code><pre>                const maxBodySize = 1 &lt;&lt; 20 // Limit body size to 1 MB</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>                // Define sensitive keys to be masked in logs</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>                // These keys will be masked in both request and response logs</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>33</td>
                <td>
                    <code><pre>                sensitiveKeys := []string{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                        &#34;password&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>                        &#34;api-key&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>                        &#34;token&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>                        &#34;access_token&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>                        &#34;refresh_token&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>                        &#34;ccv&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>                        &#34;credit_card&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>                        &#34;debit_card&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>                        &#34;social_security_number&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>                        &#34;ssn&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>                        &#34;bank_account&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>                        &#34;bank_account_number&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>                        &#34;email&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>                        &#34;phone&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>                        &#34;address&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>51</td>
                <td>
                    <code><pre>                timeStart := time.Now()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>53</td>
                <td>
                    <code><pre>                var logEntry LogResponse</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>54</td>
                <td>
                    <code><pre>                logEntry.Method = c.Request.Method</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>55</td>
                <td>
                    <code><pre>                logEntry.URL = c.Request.URL.String()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>56</td>
                <td>
                    <code><pre>                logEntry.Header = c.Request.Header</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>57</td>
                <td>
                    <code><pre>                logEntry.Request = c.Request.URL.Query()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>58</td>
                <td>
                    <code><pre>                logEntry.Response = nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre>                // Read and log request body</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>61</td>
                <td>
                    <code><pre>                if c.Request.Body != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>62</td>
                <td>
                    <code><pre>                        bodyBytes, _ := io.ReadAll(io.LimitReader(c.Request.Body, maxBodySize))</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>63</td>
                <td>
                    <code><pre>                        c.Request.Body = io.NopCloser(bytes.NewBuffer(bodyBytes)) // Restore body for the next handler</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>65</td>
                <td>
                    <code><pre>                        if strings.Contains(c.Request.Header.Get(&#34;Content-Type&#34;), &#34;application/json&#34;) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>66</td>
                <td>
                    <code><pre>                                if err := json.Unmarshal(bodyBytes, &amp;requestBody); err == nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>                                        // Mask sensitive data in the request body</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>68</td>
                <td>
                    <code><pre>                                        requestBody = utils.CensorSensitiveData(requestBody, sensitiveKeys)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>                                        // Store the masked data directly without converting to string</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>70</td>
                <td>
                    <code><pre>                                        logEntry.Request = requestBody</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre>                                } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>72</td>
                <td>
                    <code><pre>                                        logEntry.Request = string(bodyBytes)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre>                                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre>                        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>75</td>
                <td>
                    <code><pre>                                logEntry.Request = string(bodyBytes)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>77</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>78</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>79</td>
                <td>
                    <code><pre>                // Create a buffer to capture the response body</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>80</td>
                <td>
                    <code><pre>                responseBody := &amp;bytes.Buffer{}</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>81</td>
                <td>
                    <code><pre>                c.Writer = &amp;bodyWriter{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>82</td>
                <td>
                    <code><pre>                        ResponseWriter: c.Writer,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>83</td>
                <td>
                    <code><pre>                        body:           responseBody,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>84</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>85</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>86</td>
                <td>
                    <code><pre>                // Process the request</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>87</td>
                <td>
                    <code><pre>                c.Next()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>88</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>89</td>
                <td>
                    <code><pre>                timeEnd := time.Now()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>90</td>
                <td>
                    <code><pre>                // Calculate latency</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>91</td>
                <td>
                    <code><pre>                logEntry.Latency = fmt.Sprintf(&#34;%d (ms)&#34;, timeEnd.Sub(timeStart).Milliseconds())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>92</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>93</td>
                <td>
                    <code><pre>                // Log response</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>94</td>
                <td>
                    <code><pre>                var responseBodyData any</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>95</td>
                <td>
                    <code><pre>                if strings.Contains(c.Writer.Header().Get(&#34;Content-Type&#34;), &#34;application/json&#34;) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>96</td>
                <td>
                    <code><pre>                        if err := json.Unmarshal(responseBody.Bytes(), &amp;responseBodyData); err == nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>97</td>
                <td>
                    <code><pre>                                // Mask sensitive data in the response body</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>98</td>
                <td>
                    <code><pre>                                responseBodyData = utils.CensorSensitiveData(responseBodyData, sensitiveKeys)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>99</td>
                <td>
                    <code><pre>                                // Store the masked data directly</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>100</td>
                <td>
                    <code><pre>                                logEntry.Response = responseBodyData</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>101</td>
                <td>
                    <code><pre>                        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>102</td>
                <td>
                    <code><pre>                                logEntry.Response = responseBody.String()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>103</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>104</td>
                <td>
                    <code><pre>                } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>105</td>
                <td>
                    <code><pre>                        logEntry.Response = responseBody.String()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>106</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>107</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>108</td>
                <td>
                    <code><pre>                logEntry.StatusCode = fmt.Sprintf(&#34;%d&#34;, c.Writer.Status())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>109</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>110</td>
                <td>
                    <code><pre>                jsonData, err := json.Marshal(logEntry)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>111</td>
                <td>
                    <code><pre>                if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>112</td>
                <td>
                    <code><pre>                        logger.Error(&#34;Failed to marshal log entry:&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>113</td>
                <td>
                    <code><pre>                        return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>114</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>115</td>
                <td>
                    <code><pre>                logger.Info(string(jsonData))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>116</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_@22:9">func @22:9</div>
        <div class="info">
            <a href="#s_fn_@22:9">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/middlewares/auth_middleware.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>func(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>24</td>
                <td>
                    <code><pre>                authHeader := ctx.GetHeader(&#34;Authorization&#34;)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>25</td>
                <td>
                    <code><pre>                if authHeader == &#34;&#34; || !strings.HasPrefix(authHeader, &#34;Bearer &#34;) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>26</td>
                <td>
                    <code><pre>                        utils.RespondWithError(ctx, http.StatusUnauthorized, errors.New(errors.ErrUnauthorized, &#34;Authorization header required&#34;))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>29</td>
                <td>
                    <code><pre>                tokenString := strings.TrimPrefix(authHeader, &#34;Bearer &#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>31</td>
                <td>
                    <code><pre>                claims, err := jwtService.ValidateToken(tokenString)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>32</td>
                <td>
                    <code><pre>                if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>33</td>
                <td>
                    <code><pre>                        utils.RespondWithError(ctx, http.StatusUnauthorized, errors.New(errors.ErrUnauthorized, &#34;Unauthorized&#34;))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>36</td>
                <td>
                    <code><pre>                ctx.Set(&#34;UserID&#34;, claims.ID)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>37</td>
                <td>
                    <code><pre>                ctx.Next()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_AuthMiddleware">func AuthMiddleware</div>
        <div class="info">
            <a href="#s_fn_AuthMiddleware">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/middlewares/auth_middleware.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>func AuthMiddleware() gin.HandlerFunc {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>21</td>
                <td>
                    <code><pre>        jwtService := services.NewJWTService()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>22</td>
                <td>
                    <code><pre>        return func(ctx *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>                authHeader := ctx.GetHeader(&#34;Authorization&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>                if authHeader == &#34;&#34; || !strings.HasPrefix(authHeader, &#34;Bearer &#34;) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>                        utils.RespondWithError(ctx, http.StatusUnauthorized, errors.New(errors.ErrUnauthorized, &#34;Authorization header required&#34;))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>                tokenString := strings.TrimPrefix(authHeader, &#34;Bearer &#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>                claims, err := jwtService.ValidateToken(tokenString)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>                if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>                        utils.RespondWithError(ctx, http.StatusUnauthorized, errors.New(errors.ErrUnauthorized, &#34;Unauthorized&#34;))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>                ctx.Set(&#34;UserID&#34;, claims.ID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>                ctx.Next()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_bodyWriter.Write">func bodyWriter.Write</div>
        <div class="info">
            <a href="#s_fn_bodyWriter.Write">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/middlewares/log_middleware.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>125</td>
                <td>
                    <code><pre>func (w *bodyWriter) Write(b []byte) (int, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>126</td>
                <td>
                    <code><pre>        w.body.Write(b)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>127</td>
                <td>
                    <code><pre>        return w.ResponseWriter.Write(b)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>128</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_LogMiddleware">func LogMiddleware</div>
        <div class="info">
            <a href="#s_fn_LogMiddleware">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/middlewares/log_middleware.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>func LogMiddleware() gin.HandlerFunc {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>28</td>
                <td>
                    <code><pre>        return func(c *gin.Context) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>                var requestBody any</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>                const maxBodySize = 1 &lt;&lt; 20 // Limit body size to 1 MB</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>                // Define sensitive keys to be masked in logs</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>                // These keys will be masked in both request and response logs</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>                sensitiveKeys := []string{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                        &#34;password&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>                        &#34;api-key&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>                        &#34;token&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>                        &#34;access_token&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>                        &#34;refresh_token&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>                        &#34;ccv&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>                        &#34;credit_card&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>                        &#34;debit_card&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>                        &#34;social_security_number&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>                        &#34;ssn&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>                        &#34;bank_account&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>                        &#34;bank_account_number&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>                        &#34;email&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>                        &#34;phone&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>                        &#34;address&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>                timeStart := time.Now()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>                var logEntry LogResponse</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>                logEntry.Method = c.Request.Method</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>                logEntry.URL = c.Request.URL.String()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>                logEntry.Header = c.Request.Header</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>                logEntry.Request = c.Request.URL.Query()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>                logEntry.Response = nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre>                // Read and log request body</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>                if c.Request.Body != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>                        bodyBytes, _ := io.ReadAll(io.LimitReader(c.Request.Body, maxBodySize))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>                        c.Request.Body = io.NopCloser(bytes.NewBuffer(bodyBytes)) // Restore body for the next handler</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>                        if strings.Contains(c.Request.Header.Get(&#34;Content-Type&#34;), &#34;application/json&#34;) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>                                if err := json.Unmarshal(bodyBytes, &amp;requestBody); err == nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>                                        // Mask sensitive data in the request body</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>                                        requestBody = utils.CensorSensitiveData(requestBody, sensitiveKeys)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>                                        // Store the masked data directly without converting to string</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre>                                        logEntry.Request = requestBody</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre>                                } else {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>72</td>
                <td>
                    <code><pre>                                        logEntry.Request = string(bodyBytes)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre>                                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre>                        } else {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>                                logEntry.Request = string(bodyBytes)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>77</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>78</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>79</td>
                <td>
                    <code><pre>                // Create a buffer to capture the response body</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>80</td>
                <td>
                    <code><pre>                responseBody := &amp;bytes.Buffer{}</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>81</td>
                <td>
                    <code><pre>                c.Writer = &amp;bodyWriter{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>82</td>
                <td>
                    <code><pre>                        ResponseWriter: c.Writer,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>83</td>
                <td>
                    <code><pre>                        body:           responseBody,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>84</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>85</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>86</td>
                <td>
                    <code><pre>                // Process the request</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>87</td>
                <td>
                    <code><pre>                c.Next()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>88</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>89</td>
                <td>
                    <code><pre>                timeEnd := time.Now()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>90</td>
                <td>
                    <code><pre>                // Calculate latency</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>91</td>
                <td>
                    <code><pre>                logEntry.Latency = fmt.Sprintf(&#34;%d (ms)&#34;, timeEnd.Sub(timeStart).Milliseconds())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>92</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>93</td>
                <td>
                    <code><pre>                // Log response</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>94</td>
                <td>
                    <code><pre>                var responseBodyData any</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>95</td>
                <td>
                    <code><pre>                if strings.Contains(c.Writer.Header().Get(&#34;Content-Type&#34;), &#34;application/json&#34;) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>96</td>
                <td>
                    <code><pre>                        if err := json.Unmarshal(responseBody.Bytes(), &amp;responseBodyData); err == nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>97</td>
                <td>
                    <code><pre>                                // Mask sensitive data in the response body</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>98</td>
                <td>
                    <code><pre>                                responseBodyData = utils.CensorSensitiveData(responseBodyData, sensitiveKeys)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>99</td>
                <td>
                    <code><pre>                                // Store the masked data directly</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>100</td>
                <td>
                    <code><pre>                                logEntry.Response = responseBodyData</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>101</td>
                <td>
                    <code><pre>                        } else {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>102</td>
                <td>
                    <code><pre>                                logEntry.Response = responseBody.String()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>103</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>104</td>
                <td>
                    <code><pre>                } else {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>105</td>
                <td>
                    <code><pre>                        logEntry.Response = responseBody.String()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>106</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>107</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>108</td>
                <td>
                    <code><pre>                logEntry.StatusCode = fmt.Sprintf(&#34;%d&#34;, c.Writer.Status())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>109</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>110</td>
                <td>
                    <code><pre>                jsonData, err := json.Marshal(logEntry)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>111</td>
                <td>
                    <code><pre>                if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>112</td>
                <td>
                    <code><pre>                        logger.Error(&#34;Failed to marshal log entry:&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>113</td>
                <td>
                    <code><pre>                        return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>114</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>115</td>
                <td>
                    <code><pre>                logger.Info(string(jsonData))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>116</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>117</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:github.com/vfa-khuongdv/golang-cms/internal/middlewares DONE:27.1
        -->
        
        <div id="pkg_github.com/vfa-khuongdv/golang-cms/internal/repositories" class="funcname">
            Package Overview: github.com/vfa-khuongdv/golang-cms/internal/repositories
            <span class="packageTotal">97.6%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_UserRepository.FindByField">
                <td>
                    <code><a href="#fn_UserRepository.FindByField">UserRepository.FindByField(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/user_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>9/9</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserRepository.GetUserPermissions">
                <td>
                    <code><a href="#fn_UserRepository.GetUserPermissions">UserRepository.GetUserPermissions(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/user_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>7/7</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserRepository.GetByID">
                <td>
                    <code><a href="#fn_UserRepository.GetByID">UserRepository.GetByID(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/user_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_SettingRepository.GetAll">
                <td>
                    <code><a href="#fn_SettingRepository.GetAll">SettingRepository.GetAll(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/setting_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_PermissionRepository.GetAll">
                <td>
                    <code><a href="#fn_PermissionRepository.GetAll">PermissionRepository.GetAll(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/permission_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_RefreshTokenRepository.First">
                <td>
                    <code><a href="#fn_RefreshTokenRepository.First">RefreshTokenRepository.First(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/refresh_token_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_RefreshTokenRepository.FindByToken">
                <td>
                    <code><a href="#fn_RefreshTokenRepository.FindByToken">RefreshTokenRepository.FindByToken(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/refresh_token_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserRepository.GetProfile">
                <td>
                    <code><a href="#fn_UserRepository.GetProfile">UserRepository.GetProfile(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/user_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_RoleRepository.GetByID">
                <td>
                    <code><a href="#fn_RoleRepository.GetByID">RoleRepository.GetByID(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/role_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserRepository.GetAll">
                <td>
                    <code><a href="#fn_UserRepository.GetAll">UserRepository.GetAll(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/user_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_SettingRepository.GetByKey">
                <td>
                    <code><a href="#fn_SettingRepository.GetByKey">SettingRepository.GetByKey(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/setting_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserRepository.CreateWithTx">
                <td>
                    <code><a href="#fn_UserRepository.CreateWithTx">UserRepository.CreateWithTx(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/user_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>3/3</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserRepository.Create">
                <td>
                    <code><a href="#fn_UserRepository.Create">UserRepository.Create(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/user_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>3/3</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserRepository.Delete">
                <td>
                    <code><a href="#fn_UserRepository.Delete">UserRepository.Delete(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/user_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>2/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewPermissionRepository">
                <td>
                    <code><a href="#fn_NewPermissionRepository">NewPermissionRepository(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/permission_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_RefreshTokenRepository.Update">
                <td>
                    <code><a href="#fn_RefreshTokenRepository.Update">RefreshTokenRepository.Update(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/refresh_token_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewRefreshTokenRepository">
                <td>
                    <code><a href="#fn_NewRefreshTokenRepository">NewRefreshTokenRepository(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/refresh_token_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewUserRepository">
                <td>
                    <code><a href="#fn_NewUserRepository">NewUserRepository(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/user_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_SettingRepository.Update">
                <td>
                    <code><a href="#fn_SettingRepository.Update">SettingRepository.Update(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/setting_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserRepository.GetDB">
                <td>
                    <code><a href="#fn_UserRepository.GetDB">UserRepository.GetDB(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/user_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_RoleRepository.Delete">
                <td>
                    <code><a href="#fn_RoleRepository.Delete">RoleRepository.Delete(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/role_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_SettingRepository.Create">
                <td>
                    <code><a href="#fn_SettingRepository.Create">SettingRepository.Create(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/setting_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_RoleRepository.Update">
                <td>
                    <code><a href="#fn_RoleRepository.Update">RoleRepository.Update(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/role_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_RoleRepository.Create">
                <td>
                    <code><a href="#fn_RoleRepository.Create">RoleRepository.Create(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/role_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserRepository.Update">
                <td>
                    <code><a href="#fn_UserRepository.Update">UserRepository.Update(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/user_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewRoleRepository">
                <td>
                    <code><a href="#fn_NewRoleRepository">NewRoleRepository(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/role_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_PermissionRepository.Create">
                <td>
                    <code><a href="#fn_PermissionRepository.Create">PermissionRepository.Create(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/permission_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewSettingRepository">
                <td>
                    <code><a href="#fn_NewSettingRepository">NewSettingRepository(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/setting_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserRepository.UpdateProfile">
                <td>
                    <code><a href="#fn_UserRepository.UpdateProfile">UserRepository.UpdateProfile(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/user_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_RefreshTokenRepository.Create">
                <td>
                    <code><a href="#fn_RefreshTokenRepository.Create">RefreshTokenRepository.Create(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/refresh_token_repository.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserRepository.PaginateUser">
                <td>
                    <code><a href="#fn_UserRepository.PaginateUser">UserRepository.PaginateUser(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/repositories/user_repository.go</code>
                </td>
                <td class="percent">
                    <code>77.8%</code>
                </td>
                <td class="linecount">
                    <code>7/9</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_UserRepository.FindByField">func UserRepository.FindByField</div>
        <div class="info">
            <a href="#s_fn_UserRepository.FindByField">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>156</td>
                <td>
                    <code><pre>func (repo *UserRepository) FindByField(field string, value string) (*models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>157</td>
                <td>
                    <code><pre>        // Validate field input to prevent SQL injection</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>158</td>
                <td>
                    <code><pre>        switch field {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>159</td>
                <td>
                    <code><pre>        case &#34;name&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>160</td>
                <td>
                    <code><pre>                field = &#34;name&#34;</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>161</td>
                <td>
                    <code><pre>        case &#34;email&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>162</td>
                <td>
                    <code><pre>                field = &#34;email&#34;</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>163</td>
                <td>
                    <code><pre>        case &#34;token&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>164</td>
                <td>
                    <code><pre>                field = &#34;token&#34;</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>165</td>
                <td>
                    <code><pre>        default:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>166</td>
                <td>
                    <code><pre>                return nil, gorm.ErrInvalidField</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>167</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>168</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>169</td>
                <td>
                    <code><pre>        var user models.User</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>170</td>
                <td>
                    <code><pre>        if err := repo.db.Where(field+&#34; = ?&#34;, value).First(&amp;user).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>171</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>172</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>173</td>
                <td>
                    <code><pre>        return &amp;user, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>174</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserRepository.GetUserPermissions">func UserRepository.GetUserPermissions</div>
        <div class="info">
            <a href="#s_fn_UserRepository.GetUserPermissions">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>208</td>
                <td>
                    <code><pre>func (repo *UserRepository) GetUserPermissions(userID uint) ([]models.Permission, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>209</td>
                <td>
                    <code><pre>        var user models.User</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>210</td>
                <td>
                    <code><pre>        if err := repo.db.Preload(&#34;Roles.Permissions&#34;).First(&amp;user, userID).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>211</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>212</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>213</td>
                <td>
                    <code><pre>        var permissions []models.Permission</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>214</td>
                <td>
                    <code><pre>        for _, role := range user.Roles {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>215</td>
                <td>
                    <code><pre>                permissions = append(permissions, role.Permissions...)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>216</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>217</td>
                <td>
                    <code><pre>        return permissions, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>218</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserRepository.GetByID">func UserRepository.GetByID</div>
        <div class="info">
            <a href="#s_fn_UserRepository.GetByID">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>90</td>
                <td>
                    <code><pre>func (repo *UserRepository) GetByID(id uint) (*models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>91</td>
                <td>
                    <code><pre>        var user models.User</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>92</td>
                <td>
                    <code><pre>        if err := repo.db.Preload(&#34;Roles.Permissions&#34;).First(&amp;user, id).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>93</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>94</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>95</td>
                <td>
                    <code><pre>        return &amp;user, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>96</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_SettingRepository.GetAll">func SettingRepository.GetAll</div>
        <div class="info">
            <a href="#s_fn_SettingRepository.GetAll">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/setting_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>func (repo *SettingRepository) GetAll() ([]models.Setting, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>        var settings []models.Setting</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>        if err := repo.db.Find(&amp;settings).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>        return settings, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_PermissionRepository.GetAll">func PermissionRepository.GetAll</div>
        <div class="info">
            <a href="#s_fn_PermissionRepository.GetAll">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/permission_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>func (repo *PermissionRepository) GetAll() ([]models.Permission, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>        var permissions []models.Permission</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        if err := repo.db.Find(&amp;permissions).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>        return permissions, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RefreshTokenRepository.First">func RefreshTokenRepository.First</div>
        <div class="info">
            <a href="#s_fn_RefreshTokenRepository.First">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/refresh_token_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>func (repo *RefreshTokenRepository) First(token string) (*models.RefreshToken, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>        var refreshToken models.RefreshToken</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>        if err := repo.db.Where(&#34;refresh_token = ?&#34;, token).First(&amp;refreshToken).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>        return &amp;refreshToken, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RefreshTokenRepository.FindByToken">func RefreshTokenRepository.FindByToken</div>
        <div class="info">
            <a href="#s_fn_RefreshTokenRepository.FindByToken">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/refresh_token_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>func (repo *RefreshTokenRepository) FindByToken(token string) (*models.RefreshToken, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>        var refreshToken models.RefreshToken</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>        if err := repo.db.Where(&#34;refresh_token = ? and expired_at &gt; ?&#34;, token, time.Now().Unix()).First(&amp;refreshToken).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>        return &amp;refreshToken, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserRepository.GetProfile">func UserRepository.GetProfile</div>
        <div class="info">
            <a href="#s_fn_UserRepository.GetProfile">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>183</td>
                <td>
                    <code><pre>func (repo *UserRepository) GetProfile(id uint) (*models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>184</td>
                <td>
                    <code><pre>        var user models.User</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>185</td>
                <td>
                    <code><pre>        if err := repo.db.Preload(&#34;Roles&#34;).First(&amp;user, id).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>186</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>187</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>188</td>
                <td>
                    <code><pre>        return &amp;user, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>189</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RoleRepository.GetByID">func RoleRepository.GetByID</div>
        <div class="info">
            <a href="#s_fn_RoleRepository.GetByID">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/role_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>func (repo *RoleRepository) GetByID(id int64) (*models.Role, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>        var role models.Role</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>        if err := repo.db.Preload(&#34;Permissions&#34;).First(&amp;role, id).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>        return &amp;role, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserRepository.GetAll">func UserRepository.GetAll</div>
        <div class="info">
            <a href="#s_fn_UserRepository.GetAll">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>func (repo *UserRepository) GetAll() ([]models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre>        var users []models.User</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>77</td>
                <td>
                    <code><pre>        if err := repo.db.Find(&amp;users).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>78</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>79</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>80</td>
                <td>
                    <code><pre>        return users, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>81</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_SettingRepository.GetByKey">func SettingRepository.GetByKey</div>
        <div class="info">
            <a href="#s_fn_SettingRepository.GetByKey">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/setting_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>func (repo *SettingRepository) GetByKey(key string) (*models.Setting, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>        var setting models.Setting</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>        if err := repo.db.Model(&amp;models.Setting{}).Where(&#34;setting_key = ?&#34;, key).First(&amp;setting).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>        return &amp;setting, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserRepository.CreateWithTx">func UserRepository.CreateWithTx</div>
        <div class="info">
            <a href="#s_fn_UserRepository.CreateWithTx">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>120</td>
                <td>
                    <code><pre>func (repo *UserRepository) CreateWithTx(tx *gorm.DB, user *models.User) (*models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>121</td>
                <td>
                    <code><pre>        if err := tx.Create(user).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>122</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>123</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>124</td>
                <td>
                    <code><pre>        return user, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>125</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserRepository.Create">func UserRepository.Create</div>
        <div class="info">
            <a href="#s_fn_UserRepository.Create">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>105</td>
                <td>
                    <code><pre>func (repo *UserRepository) Create(user *models.User) (*models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>106</td>
                <td>
                    <code><pre>        if err := repo.db.Create(user).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>107</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>108</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>109</td>
                <td>
                    <code><pre>        return user, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>110</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserRepository.Delete">func UserRepository.Delete</div>
        <div class="info">
            <a href="#s_fn_UserRepository.Delete">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>143</td>
                <td>
                    <code><pre>func (repo *UserRepository) Delete(userId uint) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>144</td>
                <td>
                    <code><pre>        var user models.User</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>145</td>
                <td>
                    <code><pre>        return repo.db.Delete(&amp;user, userId).Error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>146</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewPermissionRepository">func NewPermissionRepository</div>
        <div class="info">
            <a href="#s_fn_NewPermissionRepository">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/permission_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>func NewPermissionRepository(db *gorm.DB) *PermissionRepository {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>        return &amp;PermissionRepository{db: db}</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RefreshTokenRepository.Update">func RefreshTokenRepository.Update</div>
        <div class="info">
            <a href="#s_fn_RefreshTokenRepository.Update">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/refresh_token_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>77</td>
                <td>
                    <code><pre>func (repo *RefreshTokenRepository) Update(token *models.RefreshToken) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>78</td>
                <td>
                    <code><pre>        return repo.db.Save(token).Error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>79</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewRefreshTokenRepository">func NewRefreshTokenRepository</div>
        <div class="info">
            <a href="#s_fn_NewRefreshTokenRepository">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/refresh_token_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>func NewRefreshTokenRepository(db *gorm.DB) *RefreshTokenRepository {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        return &amp;RefreshTokenRepository{db: db}</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewUserRepository">func NewUserRepository</div>
        <div class="info">
            <a href="#s_fn_NewUserRepository">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>func NewUserRepository(db *gorm.DB) *UserRepository {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>        return &amp;UserRepository{db: db}</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_SettingRepository.Update">func SettingRepository.Update</div>
        <div class="info">
            <a href="#s_fn_SettingRepository.Update">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/setting_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>func (repo *SettingRepository) Update(setting *models.Setting) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>        return repo.db.Save(setting).Error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserRepository.GetDB">func UserRepository.GetDB</div>
        <div class="info">
            <a href="#s_fn_UserRepository.GetDB">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>225</td>
                <td>
                    <code><pre>func (repo *UserRepository) GetDB() *gorm.DB {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>226</td>
                <td>
                    <code><pre>        return repo.db</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>227</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RoleRepository.Delete">func RoleRepository.Delete</div>
        <div class="info">
            <a href="#s_fn_RoleRepository.Delete">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/role_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>func (repo *RoleRepository) Delete(role *models.Role) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>        return repo.db.Delete(role).Error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_SettingRepository.Create">func SettingRepository.Create</div>
        <div class="info">
            <a href="#s_fn_SettingRepository.Create">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/setting_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre>func (repo *SettingRepository) Create(setting *models.Setting) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>        return repo.db.Create(setting).Error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RoleRepository.Update">func RoleRepository.Update</div>
        <div class="info">
            <a href="#s_fn_RoleRepository.Update">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/role_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>func (repo *RoleRepository) Update(role *models.Role) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>        return repo.db.Save(role).Error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RoleRepository.Create">func RoleRepository.Create</div>
        <div class="info">
            <a href="#s_fn_RoleRepository.Create">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/role_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>func (repo *RoleRepository) Create(role *models.Role) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>        return repo.db.Create(role).Error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserRepository.Update">func UserRepository.Update</div>
        <div class="info">
            <a href="#s_fn_UserRepository.Update">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>133</td>
                <td>
                    <code><pre>func (repo *UserRepository) Update(user *models.User) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>134</td>
                <td>
                    <code><pre>        return repo.db.Save(user).Error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>135</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewRoleRepository">func NewRoleRepository</div>
        <div class="info">
            <a href="#s_fn_NewRoleRepository">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/role_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>func NewRoleRepository(db *gorm.DB) *RoleRepository {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>        return &amp;RoleRepository{db: db}</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_PermissionRepository.Create">func PermissionRepository.Create</div>
        <div class="info">
            <a href="#s_fn_PermissionRepository.Create">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/permission_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>func (repo *PermissionRepository) Create(item *models.Permission) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>        return repo.db.Create(item).Error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewSettingRepository">func NewSettingRepository</div>
        <div class="info">
            <a href="#s_fn_NewSettingRepository">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/setting_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>func NewSettingRepository(db *gorm.DB) *SettingRepository {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>        return &amp;SettingRepository{db: db}</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserRepository.UpdateProfile">func UserRepository.UpdateProfile</div>
        <div class="info">
            <a href="#s_fn_UserRepository.UpdateProfile">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>197</td>
                <td>
                    <code><pre>func (repo *UserRepository) UpdateProfile(user *models.User) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>198</td>
                <td>
                    <code><pre>        return repo.db.Save(&amp;user).Error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>199</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RefreshTokenRepository.Create">func RefreshTokenRepository.Create</div>
        <div class="info">
            <a href="#s_fn_RefreshTokenRepository.Create">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/refresh_token_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>func (repo *RefreshTokenRepository) Create(token *models.RefreshToken) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>        return repo.db.Create(token).Error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserRepository.PaginateUser">func UserRepository.PaginateUser</div>
        <div class="info">
            <a href="#s_fn_UserRepository.PaginateUser">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/repositories/user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>func (repo *UserRepository) PaginateUser(page, limit int) (*utils.Pagination, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>        var totalRows int64</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>        offset := (page - 1) * limit</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>        // Count total rows</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>        if err := repo.db.Model(&amp;models.User{}).Count(&amp;totalRows).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>49</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>        var users []models.User</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>        // fetch paginated data</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>        if err := repo.db.Offset(offset).Limit(limit).Order(&#34;id DESC&#34;).Find(&amp;users).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>55</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>        pagination := &amp;utils.Pagination{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>                Page:       page,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre>                Limit:      limit,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>                TotalItems: int(totalRows),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>                TotalPages: utils.CalculateTotalPages(totalRows, limit),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>                Data:       users,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>        return pagination, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:github.com/vfa-khuongdv/golang-cms/internal/repositories DONE:97.6
        -->
        
        <div id="pkg_github.com/vfa-khuongdv/golang-cms/internal/routes" class="funcname">
            Package Overview: github.com/vfa-khuongdv/golang-cms/internal/routes
            <span class="packageTotal">0.0%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_SetupRouter">
                <td>
                    <code><a href="#fn_SetupRouter">SetupRouter(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/routes/routes.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/54</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_SetupRouter">func SetupRouter</div>
        <div class="info">
            <a href="#s_fn_SetupRouter">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/routes/routes.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>func SetupRouter(db *gorm.DB) *gin.Engine {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>        // Set Gin mode from environment variable</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>17</td>
                <td>
                    <code><pre>        ginMode := utils.GetEnv(&#34;GIN_MODE&#34;, &#34;debug&#34;)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>18</td>
                <td>
                    <code><pre>        gin.SetMode(ginMode)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>        // Initialize the new Gin router</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>21</td>
                <td>
                    <code><pre>        router := gin.New()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>23</td>
                <td>
                    <code><pre>        stage := utils.GetEnv(&#34;STAGE&#34;, &#34;dev&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>        // Set up Swagger documentation only in non-production environments</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>26</td>
                <td>
                    <code><pre>        if stage != &#34;prod&#34; {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>27</td>
                <td>
                    <code><pre>                router.StaticFile(&#34;/docs/swagger.json&#34;, &#34;./docs/swagger.json&#34;)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>28</td>
                <td>
                    <code><pre>                router.StaticFile(&#34;/swagger&#34;, &#34;./docs/swagger.html&#34;)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>29</td>
                <td>
                    <code><pre>                router.StaticFile(&#34;/api-docs&#34;, &#34;./docs/swagger.html&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>        // Initialize repositories</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>33</td>
                <td>
                    <code><pre>        userRepo := repositories.NewUserRepository(db)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>34</td>
                <td>
                    <code><pre>        refreshRepo := repositories.NewRefreshTokenRepository(db)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>35</td>
                <td>
                    <code><pre>        roleRepo := repositories.NewRoleRepository(db)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>36</td>
                <td>
                    <code><pre>        settingRepo := repositories.NewSettingRepository(db)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>37</td>
                <td>
                    <code><pre>        permissionRepo := repositories.NewPermissionRepository(db)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>        // Initialize services</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>40</td>
                <td>
                    <code><pre>        client := redis.NewClient(&amp;redis.Options{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>                Addr:     utils.GetEnv(&#34;REDIS_HOST&#34;, &#34;localhost:6379&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>                Password: utils.GetEnv(&#34;REDIS_PASS&#34;, &#34;&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>                DB:       utils.GetEnvAsInt(&#34;REDIS_DB&#34;, 0),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>        })</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>46</td>
                <td>
                    <code><pre>        redisService := services.NewRedisService(client)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>47</td>
                <td>
                    <code><pre>        refreshTokenService := services.NewRefreshTokenService(refreshRepo)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>48</td>
                <td>
                    <code><pre>        userService := services.NewUserService(userRepo)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>49</td>
                <td>
                    <code><pre>        bcryptService := services.NewBcryptService()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>50</td>
                <td>
                    <code><pre>        jwtService := services.NewJWTService()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>51</td>
                <td>
                    <code><pre>        authService := services.NewAuthService(userRepo, refreshTokenService, bcryptService, jwtService)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>52</td>
                <td>
                    <code><pre>        roleService := services.NewRoleService(roleRepo)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>53</td>
                <td>
                    <code><pre>        settingService := services.NewSettingService(settingRepo)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>54</td>
                <td>
                    <code><pre>        permissionService := services.NewPermissionService(permissionRepo)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>        // Initialize role guard for permission checks</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>57</td>
                <td>
                    <code><pre>        roleGuard := guards.NewRoleGuard(db)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>        // Initialize handlers</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>60</td>
                <td>
                    <code><pre>        authHandler := handlers.NewAuthHandler(authService)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>61</td>
                <td>
                    <code><pre>        userHandler := handlers.NewUserHandler(userService, redisService, bcryptService)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>62</td>
                <td>
                    <code><pre>        roleHandler := handlers.NewRoleHandler(roleService)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>63</td>
                <td>
                    <code><pre>        settingHandler := handlers.NewSettingHandler(settingService)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>64</td>
                <td>
                    <code><pre>        permissionHandler := handlers.NewPermissionHandler(permissionService)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>        // Add middleware for CORS and logging</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>67</td>
                <td>
                    <code><pre>        router.Use(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>                middlewares.CORSMiddleware(),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>                middlewares.LogMiddleware(),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre>                gin.Recovery(),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre>                middlewares.EmptyBodyMiddleware(),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>72</td>
                <td>
                    <code><pre>        )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>74</td>
                <td>
                    <code><pre>        router.GET(&#34;/healthz&#34;, handlers.HealthCheck)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre>        // Setup API routes</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>77</td>
                <td>
                    <code><pre>        api := router.Group(&#34;/api/v1&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>78</td>
                <td>
                    <code><pre>        {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>79</td>
                <td>
                    <code><pre>                // Public routes</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>80</td>
                <td>
                    <code><pre>                api.POST(&#34;/login&#34;, authHandler.Login)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>81</td>
                <td>
                    <code><pre>                api.POST(&#34;/refresh-token&#34;, authHandler.RefreshToken)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>82</td>
                <td>
                    <code><pre>                api.POST(&#34;/forgot-password&#34;, userHandler.ForgotPassword)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>83</td>
                <td>
                    <code><pre>                api.POST(&#34;/reset-password&#34;, userHandler.ResetPassword)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>84</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>85</td>
                <td>
                    <code><pre>                // Protected routes (require authentication)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>86</td>
                <td>
                    <code><pre>                authenticated := api.Group(&#34;/&#34;)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>87</td>
                <td>
                    <code><pre>                authenticated.Use(middlewares.AuthMiddleware())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>88</td>
                <td>
                    <code><pre>                {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>89</td>
                <td>
                    <code><pre>                        // Profile management (available to all authenticated users)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>90</td>
                <td>
                    <code><pre>                        authenticated.POST(&#34;/change-password&#34;, userHandler.ChangePassword)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>91</td>
                <td>
                    <code><pre>                        authenticated.GET(&#34;/profile&#34;, userHandler.GetProfile)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>92</td>
                <td>
                    <code><pre>                        authenticated.PATCH(&#34;/profile&#34;, userHandler.UpdateProfile)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>93</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>94</td>
                <td>
                    <code><pre>                        // User management routes with permission checks</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>95</td>
                <td>
                    <code><pre>                        authenticated.GET(&#34;/users&#34;, guards.RequirePermissions(roleGuard, &#34;users:view&#34;), userHandler.PaginationUser)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>96</td>
                <td>
                    <code><pre>                        authenticated.POST(&#34;/users&#34;, guards.RequirePermissions(roleGuard, &#34;users:create&#34;), userHandler.CreateUser)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>97</td>
                <td>
                    <code><pre>                        authenticated.GET(&#34;/users/:id&#34;, guards.RequirePermissions(roleGuard, &#34;users:view&#34;), userHandler.GetUser)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>98</td>
                <td>
                    <code><pre>                        authenticated.PATCH(&#34;/users/:id&#34;, guards.RequirePermissions(roleGuard, &#34;users:update&#34;), userHandler.UpdateUser)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>99</td>
                <td>
                    <code><pre>                        authenticated.DELETE(&#34;/users/:id&#34;, guards.RequirePermissions(roleGuard, &#34;users:delete&#34;), userHandler.DeleteUser)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>100</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>101</td>
                <td>
                    <code><pre>                        // Role management routes with permission checks</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>102</td>
                <td>
                    <code><pre>                        authenticated.POST(&#34;/roles&#34;, guards.RequirePermissions(roleGuard, &#34;roles:create&#34;), roleHandler.CreateRole)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>103</td>
                <td>
                    <code><pre>                        authenticated.GET(&#34;/roles/:id&#34;, guards.RequirePermissions(roleGuard, &#34;roles:view&#34;), roleHandler.GetRole)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>104</td>
                <td>
                    <code><pre>                        authenticated.PATCH(&#34;/roles/:id&#34;, guards.RequirePermissions(roleGuard, &#34;roles:update&#34;), roleHandler.UpdateRole)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>105</td>
                <td>
                    <code><pre>                        authenticated.DELETE(&#34;/roles/:id&#34;, guards.RequirePermissions(roleGuard, &#34;roles:delete&#34;), roleHandler.DeleteRole)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>106</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>107</td>
                <td>
                    <code><pre>                        // Settings with permission checks</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>108</td>
                <td>
                    <code><pre>                        authenticated.GET(&#34;/settings&#34;, guards.RequirePermissions(roleGuard, &#34;settings:view&#34;), settingHandler.GetSettings)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>109</td>
                <td>
                    <code><pre>                        authenticated.PATCH(&#34;/settings&#34;, guards.RequirePermissions(roleGuard, &#34;settings:update&#34;), settingHandler.UpdateSettings)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>110</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>111</td>
                <td>
                    <code><pre>                        // Permissions with permission checks</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>112</td>
                <td>
                    <code><pre>                        authenticated.GET(&#34;/permissions&#34;, guards.RequirePermissions(roleGuard, &#34;roles:view&#34;), permissionHandler.GetAll)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>113</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>114</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>115</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>116</td>
                <td>
                    <code><pre>        return router</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>117</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:github.com/vfa-khuongdv/golang-cms/internal/routes DONE:0.0
        -->
        
        <div id="pkg_github.com/vfa-khuongdv/golang-cms/internal/services" class="funcname">
            Package Overview: github.com/vfa-khuongdv/golang-cms/internal/services
            <span class="packageTotal">80.1%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_AuthService.Login">
                <td>
                    <code><a href="#fn_AuthService.Login">AuthService.Login(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/auth_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>14/14</code>
                </td>
            </tr>
        
            <tr id="s_fn_RefreshTokenService.Update">
                <td>
                    <code><a href="#fn_RefreshTokenService.Update">RefreshTokenService.Update(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/refresh_token_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>12/12</code>
                </td>
            </tr>
        
            <tr id="s_fn_AuthService.RefreshToken">
                <td>
                    <code><a href="#fn_AuthService.RefreshToken">AuthService.RefreshToken(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/auth_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>11/11</code>
                </td>
            </tr>
        
            <tr id="s_fn_RefreshTokenService.Create">
                <td>
                    <code><a href="#fn_RefreshTokenService.Create">RefreshTokenService.Create(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/refresh_token_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>7/7</code>
                </td>
            </tr>
        
            <tr id="s_fn_SettingService.Update">
                <td>
                    <code><a href="#fn_SettingService.Update">SettingService.Update(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/setting_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_PermissionService.GetAll">
                <td>
                    <code><a href="#fn_PermissionService.GetAll">PermissionService.GetAll(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/permission_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_BcryptService.HashPasswordWithCost">
                <td>
                    <code><a href="#fn_BcryptService.HashPasswordWithCost">BcryptService.HashPasswordWithCost(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/bcrypt_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserService.GetUser">
                <td>
                    <code><a href="#fn_UserService.GetUser">UserService.GetUser(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/user_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_SettingService.Create">
                <td>
                    <code><a href="#fn_SettingService.Create">SettingService.Create(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/setting_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserService.UpdateProfile">
                <td>
                    <code><a href="#fn_UserService.UpdateProfile">UserService.UpdateProfile(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/user_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_SettingService.GetSettingByKey">
                <td>
                    <code><a href="#fn_SettingService.GetSettingByKey">SettingService.GetSettingByKey(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/setting_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserService.GetProfile">
                <td>
                    <code><a href="#fn_UserService.GetProfile">UserService.GetProfile(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/user_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserService.PaginateUser">
                <td>
                    <code><a href="#fn_UserService.PaginateUser">UserService.PaginateUser(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/user_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_RoleService.Update">
                <td>
                    <code><a href="#fn_RoleService.Update">RoleService.Update(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/role_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_SettingService.GetSetting">
                <td>
                    <code><a href="#fn_SettingService.GetSetting">SettingService.GetSetting(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/setting_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserService.GetUserByToken">
                <td>
                    <code><a href="#fn_UserService.GetUserByToken">UserService.GetUserByToken(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/user_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserService.DeleteUser">
                <td>
                    <code><a href="#fn_UserService.DeleteUser">UserService.DeleteUser(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/user_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserService.UpdateUser">
                <td>
                    <code><a href="#fn_UserService.UpdateUser">UserService.UpdateUser(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/user_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserService.GetUserByEmail">
                <td>
                    <code><a href="#fn_UserService.GetUserByEmail">UserService.GetUserByEmail(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/user_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_RoleService.Create">
                <td>
                    <code><a href="#fn_RoleService.Create">RoleService.Create(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/role_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_RoleService.GetByID">
                <td>
                    <code><a href="#fn_RoleService.GetByID">RoleService.GetByID(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/role_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_RoleService.Delete">
                <td>
                    <code><a href="#fn_RoleService.Delete">RoleService.Delete(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/role_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_BcryptService.CheckPasswordHash">
                <td>
                    <code><a href="#fn_BcryptService.CheckPasswordHash">BcryptService.CheckPasswordHash(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/bcrypt_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>2/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewJWTService">
                <td>
                    <code><a href="#fn_NewJWTService">NewJWTService(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/jwt_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>2/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewPermissionService">
                <td>
                    <code><a href="#fn_NewPermissionService">NewPermissionService(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/permission_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewSettingService">
                <td>
                    <code><a href="#fn_NewSettingService">NewSettingService(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/setting_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewBcryptService">
                <td>
                    <code><a href="#fn_NewBcryptService">NewBcryptService(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/bcrypt_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewRefreshTokenService">
                <td>
                    <code><a href="#fn_NewRefreshTokenService">NewRefreshTokenService(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/refresh_token_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewRoleService">
                <td>
                    <code><a href="#fn_NewRoleService">NewRoleService(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/role_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_@66:66">
                <td>
                    <code><a href="#fn_@66:66">@66:66(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/jwt_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewAuthService">
                <td>
                    <code><a href="#fn_NewAuthService">NewAuthService(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/auth_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewUserService">
                <td>
                    <code><a href="#fn_NewUserService">NewUserService(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/user_service.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_jwtService.GenerateToken">
                <td>
                    <code><a href="#fn_jwtService.GenerateToken">jwtService.GenerateToken(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/jwt_service.go</code>
                </td>
                <td class="percent">
                    <code>85.7%</code>
                </td>
                <td class="linecount">
                    <code>6/7</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewRedisService">
                <td>
                    <code><a href="#fn_NewRedisService">NewRedisService(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/redis_service.go</code>
                </td>
                <td class="percent">
                    <code>83.3%</code>
                </td>
                <td class="linecount">
                    <code>5/6</code>
                </td>
            </tr>
        
            <tr id="s_fn_RedisService.Get">
                <td>
                    <code><a href="#fn_RedisService.Get">RedisService.Get(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/redis_service.go</code>
                </td>
                <td class="percent">
                    <code>83.3%</code>
                </td>
                <td class="linecount">
                    <code>5/6</code>
                </td>
            </tr>
        
            <tr id="s_fn_jwtService.ValidateToken">
                <td>
                    <code><a href="#fn_jwtService.ValidateToken">jwtService.ValidateToken(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/jwt_service.go</code>
                </td>
                <td class="percent">
                    <code>83.3%</code>
                </td>
                <td class="linecount">
                    <code>5/6</code>
                </td>
            </tr>
        
            <tr id="s_fn_BcryptService.HashPassword">
                <td>
                    <code><a href="#fn_BcryptService.HashPassword">BcryptService.HashPassword(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/bcrypt_service.go</code>
                </td>
                <td class="percent">
                    <code>75.0%</code>
                </td>
                <td class="linecount">
                    <code>3/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_RedisService.Exists">
                <td>
                    <code><a href="#fn_RedisService.Exists">RedisService.Exists(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/redis_service.go</code>
                </td>
                <td class="percent">
                    <code>75.0%</code>
                </td>
                <td class="linecount">
                    <code>3/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_RedisService.Delete">
                <td>
                    <code><a href="#fn_RedisService.Delete">RedisService.Delete(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/redis_service.go</code>
                </td>
                <td class="percent">
                    <code>75.0%</code>
                </td>
                <td class="linecount">
                    <code>3/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_RedisService.Set">
                <td>
                    <code><a href="#fn_RedisService.Set">RedisService.Set(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/redis_service.go</code>
                </td>
                <td class="percent">
                    <code>75.0%</code>
                </td>
                <td class="linecount">
                    <code>3/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_UserService.CreateUser">
                <td>
                    <code><a href="#fn_UserService.CreateUser">UserService.CreateUser(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/user_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/16</code>
                </td>
            </tr>
        
            <tr id="s_fn_SendMailForgotPassword">
                <td>
                    <code><a href="#fn_SendMailForgotPassword">SendMailForgotPassword(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/mail_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/13</code>
                </td>
            </tr>
        
            <tr id="s_fn_@105:8">
                <td>
                    <code><a href="#fn_@105:8">@105:8(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/services/user_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/3</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_AuthService.Login">func AuthService.Login</div>
        <div class="info">
            <a href="#s_fn_AuthService.Login">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/auth_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>func (service *AuthService) Login(email, password string, ctx *gin.Context) (*LoginResponse, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>        user, err := service.repo.FindByField(&#34;email&#34;, email)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>                return nil, errors.New(errors.ErrNotFound, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>        // Validate password</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>        if isValid := service.bcryptService.CheckPasswordHash(password, user.Password); !isValid {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>                return nil, errors.New(errors.ErrInvalidPassword, &#34;Invalid credentials&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>        // Generate access token</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>        accessToken, err := service.jwtService.GenerateToken(user.ID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>                return nil, errors.New(errors.ErrInternal, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>        // Create new refresh token</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>        ipAddress := ctx.ClientIP()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre>        refreshToken, err := service.refreshTokenService.Create(user, ipAddress)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>72</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>        res := &amp;LoginResponse{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre>                AccessToken: JwtResult{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>77</td>
                <td>
                    <code><pre>                        Token:     accessToken.Token,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>78</td>
                <td>
                    <code><pre>                        ExpiresAt: accessToken.ExpiresAt,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>79</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>80</td>
                <td>
                    <code><pre>                RefreshToken: JwtResult{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>81</td>
                <td>
                    <code><pre>                        Token:     refreshToken.Token,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>82</td>
                <td>
                    <code><pre>                        ExpiresAt: refreshToken.ExpiresAt,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>83</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>84</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>85</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>86</td>
                <td>
                    <code><pre>        return res, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>87</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RefreshTokenService.Update">func RefreshTokenService.Update</div>
        <div class="info">
            <a href="#s_fn_RefreshTokenService.Update">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/refresh_token_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>82</td>
                <td>
                    <code><pre>func (service *RefreshTokenService) Update(tokenString string, ipAddress string) (*RefreshTokenResult, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>83</td>
                <td>
                    <code><pre>        result, err := service.repo.FindByToken(tokenString)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>84</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>85</td>
                <td>
                    <code><pre>                return nil, errors.New(errors.ErrDBQuery, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>86</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>87</td>
                <td>
                    <code><pre>        // Update new token</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>88</td>
                <td>
                    <code><pre>        newToken := utils.GenerateRandomString(60)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>89</td>
                <td>
                    <code><pre>        expiredAt := time.Now().Add(time.Hour * 24 * 30).Unix()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>90</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>91</td>
                <td>
                    <code><pre>        result.RefreshToken = newToken</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>92</td>
                <td>
                    <code><pre>        result.ExpiredAt = expiredAt</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>93</td>
                <td>
                    <code><pre>        result.IpAddress = ipAddress</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>94</td>
                <td>
                    <code><pre>        result.UsedCount += 1</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>95</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>96</td>
                <td>
                    <code><pre>        if err := service.repo.Update(result); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>97</td>
                <td>
                    <code><pre>                return nil, errors.New(errors.ErrDBUpdate, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>98</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>99</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>100</td>
                <td>
                    <code><pre>        return &amp;RefreshTokenResult{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>101</td>
                <td>
                    <code><pre>                Token: &amp;JwtResult{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>102</td>
                <td>
                    <code><pre>                        Token:     newToken,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>103</td>
                <td>
                    <code><pre>                        ExpiresAt: expiredAt,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>104</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>105</td>
                <td>
                    <code><pre>                UserId: result.UserID,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>106</td>
                <td>
                    <code><pre>        }, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>107</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_AuthService.RefreshToken">func AuthService.RefreshToken</div>
        <div class="info">
            <a href="#s_fn_AuthService.RefreshToken">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/auth_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>97</td>
                <td>
                    <code><pre>func (service *AuthService) RefreshToken(token string, ctx *gin.Context) (*LoginResponse, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>98</td>
                <td>
                    <code><pre>        // Get the client&#39;s IP address from the request context</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>99</td>
                <td>
                    <code><pre>        ipAddress := ctx.ClientIP()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>100</td>
                <td>
                    <code><pre>        // Create new refresh token using the refresh token service</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>101</td>
                <td>
                    <code><pre>        res, err := service.refreshTokenService.Update(token, ipAddress)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>102</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>103</td>
                <td>
                    <code><pre>                return nil, err // error is already wrapped by the service, so we can return it directly</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>104</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>105</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>106</td>
                <td>
                    <code><pre>        // Get user details from the database using the user ID from refresh token</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>107</td>
                <td>
                    <code><pre>        user, err := service.repo.GetByID(res.UserId)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>108</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>109</td>
                <td>
                    <code><pre>                return nil, errors.New(errors.ErrDBQuery, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>110</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>111</td>
                <td>
                    <code><pre>        // Generate new access token for the user</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>112</td>
                <td>
                    <code><pre>        resultToken, err := service.jwtService.GenerateToken(user.ID)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>113</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>114</td>
                <td>
                    <code><pre>                return nil, errors.New(errors.ErrInternal, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>115</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>116</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>117</td>
                <td>
                    <code><pre>        // Return new access and refresh tokens</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>118</td>
                <td>
                    <code><pre>        return &amp;LoginResponse{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>119</td>
                <td>
                    <code><pre>                AccessToken: JwtResult{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>120</td>
                <td>
                    <code><pre>                        Token:     resultToken.Token,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>121</td>
                <td>
                    <code><pre>                        ExpiresAt: resultToken.ExpiresAt,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>122</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>123</td>
                <td>
                    <code><pre>                RefreshToken: *res.Token,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>124</td>
                <td>
                    <code><pre>        }, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>125</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>126</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RefreshTokenService.Create">func RefreshTokenService.Create</div>
        <div class="info">
            <a href="#s_fn_RefreshTokenService.Create">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/refresh_token_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>func (service *RefreshTokenService) Create(user *models.User, ipAddress string) (*JwtResult, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>        tokenString := utils.GenerateRandomString(60)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>        expiredAt := time.Now().Add(time.Hour * 24 * 30).Unix()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>        token := models.RefreshToken{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>                RefreshToken: tokenString,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>                IpAddress:    ipAddress, // ipaddress of user</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>                UsedCount:    0,         // init is zero</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>                ExpiredAt:    expiredAt, // 30 days</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>                UserID:       user.ID,   // userId</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>        err := service.repo.Create(&amp;token)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>                return nil, errors.New(errors.ErrDBInsert, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>        return &amp;JwtResult{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>                Token:     tokenString,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>                ExpiresAt: expiredAt,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre>        }, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_SettingService.Update">func SettingService.Update</div>
        <div class="info">
            <a href="#s_fn_SettingService.Update">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/setting_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre>func (service *SettingService) Update(setting *models.Setting) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>        err := service.repo.Update(setting)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>                return errors.New(errors.ErrDBUpdate, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_PermissionService.GetAll">func PermissionService.GetAll</div>
        <div class="info">
            <a href="#s_fn_PermissionService.GetAll">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/permission_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>func (repo *PermissionService) GetAll() ([]models.Permission, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        permission, err := repo.repo.GetAll()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>                return nil, errors.New(errors.ErrDBQuery, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>        return permission, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_BcryptService.HashPasswordWithCost">func BcryptService.HashPasswordWithCost</div>
        <div class="info">
            <a href="#s_fn_BcryptService.HashPasswordWithCost">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/bcrypt_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>func (s *BcryptService) HashPasswordWithCost(password string, cost int) (string, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>        hashedPassword, err := bcrypt.GenerateFromPassword([]byte(password), cost)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>                return &#34;&#34;, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>        return string(hashedPassword), nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserService.GetUser">func UserService.GetUser</div>
        <div class="info">
            <a href="#s_fn_UserService.GetUser">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>func (service *UserService) GetUser(id uint) (*models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>        data, err := service.repo.GetByID(id)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>                return nil, errors.New(errors.ErrDBQuery, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre>        return data, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_SettingService.Create">func SettingService.Create</div>
        <div class="info">
            <a href="#s_fn_SettingService.Create">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/setting_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>func (service *SettingService) Create(setting *models.Setting) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre>        err := service.repo.Create(setting)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>77</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>78</td>
                <td>
                    <code><pre>                return errors.New(errors.ErrDBInsert, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>79</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>80</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>81</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserService.UpdateProfile">func UserService.UpdateProfile</div>
        <div class="info">
            <a href="#s_fn_UserService.UpdateProfile">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>230</td>
                <td>
                    <code><pre>func (service *UserService) UpdateProfile(user *models.User) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>231</td>
                <td>
                    <code><pre>        err := service.repo.UpdateProfile(user)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>232</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>233</td>
                <td>
                    <code><pre>                return errors.New(errors.ErrDBUpdate, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>234</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>235</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>236</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_SettingService.GetSettingByKey">func SettingService.GetSettingByKey</div>
        <div class="info">
            <a href="#s_fn_SettingService.GetSettingByKey">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/setting_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>func (service *SettingService) GetSettingByKey(key string) (*models.Setting, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>        data, err := service.repo.GetByKey(key)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>                return nil, errors.New(errors.ErrDBQuery, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>        return data, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserService.GetProfile">func UserService.GetProfile</div>
        <div class="info">
            <a href="#s_fn_UserService.GetProfile">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>207</td>
                <td>
                    <code><pre>func (service *UserService) GetProfile(id uint) (*models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>208</td>
                <td>
                    <code><pre>        data, err := service.repo.GetProfile(id)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>209</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>210</td>
                <td>
                    <code><pre>                return nil, errors.New(errors.ErrDBQuery, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>211</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>212</td>
                <td>
                    <code><pre>        return data, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>213</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserService.PaginateUser">func UserService.PaginateUser</div>
        <div class="info">
            <a href="#s_fn_UserService.PaginateUser">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>func (service *UserService) PaginateUser(page, limit int) (*utils.Pagination, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>        data, err := service.repo.PaginateUser(page, limit)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>                return nil, errors.New(errors.ErrDBQuery, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>        return data, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RoleService.Update">func RoleService.Update</div>
        <div class="info">
            <a href="#s_fn_RoleService.Update">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/role_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>func (service *RoleService) Update(role *models.Role) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>        err := service.repo.Update(role)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>                return errors.New(errors.ErrDBUpdate, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_SettingService.GetSetting">func SettingService.GetSetting</div>
        <div class="info">
            <a href="#s_fn_SettingService.GetSetting">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/setting_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>func (service *SettingService) GetSetting() ([]models.Setting, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>        data, err := service.repo.GetAll()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>                return nil, errors.New(errors.ErrDBQuery, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>        return data, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserService.GetUserByToken">func UserService.GetUserByToken</div>
        <div class="info">
            <a href="#s_fn_UserService.GetUserByToken">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>188</td>
                <td>
                    <code><pre>func (service *UserService) GetUserByToken(token string) (*models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>189</td>
                <td>
                    <code><pre>        data, err := service.repo.FindByField(&#34;token&#34;, token)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>190</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>191</td>
                <td>
                    <code><pre>                return nil, errors.New(errors.ErrDBQuery, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>192</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>193</td>
                <td>
                    <code><pre>        return data, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>194</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserService.DeleteUser">func UserService.DeleteUser</div>
        <div class="info">
            <a href="#s_fn_UserService.DeleteUser">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>169</td>
                <td>
                    <code><pre>func (service *UserService) DeleteUser(id uint) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>170</td>
                <td>
                    <code><pre>        err := service.repo.Delete(id)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>171</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>172</td>
                <td>
                    <code><pre>                return errors.New(errors.ErrDBDelete, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>173</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>174</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>175</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserService.UpdateUser">func UserService.UpdateUser</div>
        <div class="info">
            <a href="#s_fn_UserService.UpdateUser">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>151</td>
                <td>
                    <code><pre>func (service *UserService) UpdateUser(user *models.User) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>152</td>
                <td>
                    <code><pre>        err := service.repo.Update(user)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>153</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>154</td>
                <td>
                    <code><pre>                return errors.New(errors.ErrDBUpdate, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>155</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>156</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>157</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserService.GetUserByEmail">func UserService.GetUserByEmail</div>
        <div class="info">
            <a href="#s_fn_UserService.GetUserByEmail">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>84</td>
                <td>
                    <code><pre>func (service *UserService) GetUserByEmail(email string) (*models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>85</td>
                <td>
                    <code><pre>        data, err := service.repo.FindByField(&#34;email&#34;, email)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>86</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>87</td>
                <td>
                    <code><pre>                return nil, errors.New(errors.ErrDBQuery, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>88</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>89</td>
                <td>
                    <code><pre>        return data, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>90</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RoleService.Create">func RoleService.Create</div>
        <div class="info">
            <a href="#s_fn_RoleService.Create">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/role_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>func (service *RoleService) Create(role *models.Role) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>        err := service.repo.Create(role)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>                return errors.New(errors.ErrDBInsert, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RoleService.GetByID">func RoleService.GetByID</div>
        <div class="info">
            <a href="#s_fn_RoleService.GetByID">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/role_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>func (service *RoleService) GetByID(id int64) (*models.Role, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>        data, err := service.repo.GetByID(id)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>                return nil, errors.New(errors.ErrDBQuery, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>        return data, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RoleService.Delete">func RoleService.Delete</div>
        <div class="info">
            <a href="#s_fn_RoleService.Delete">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/role_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>func (service *RoleService) Delete(id int64) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre>        role, err := service.repo.GetByID(id)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>77</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>78</td>
                <td>
                    <code><pre>                return errors.New(errors.ErrDBDelete, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>79</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>80</td>
                <td>
                    <code><pre>        return service.repo.Delete(role)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>81</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_BcryptService.CheckPasswordHash">func BcryptService.CheckPasswordHash</div>
        <div class="info">
            <a href="#s_fn_BcryptService.CheckPasswordHash">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/bcrypt_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>func (s *BcryptService) CheckPasswordHash(password, hashPassword string) bool {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>        err := bcrypt.CompareHashAndPassword([]byte(hashPassword), []byte(password))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>        return err == nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewJWTService">func NewJWTService</div>
        <div class="info">
            <a href="#s_fn_NewJWTService">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/jwt_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>func NewJWTService() IJWTService {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>        secret := []byte(utils.GetEnv(&#34;JWT_KEY&#34;, &#34;replace_your_key&#34;))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>        return &amp;jwtService{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>                secret: secret,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewPermissionService">func NewPermissionService</div>
        <div class="info">
            <a href="#s_fn_NewPermissionService">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/permission_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>func NewPermissionService(repo repositories.IPermissionRepository) *PermissionService {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>        return &amp;PermissionService{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>                repo: repo,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewSettingService">func NewSettingService</div>
        <div class="info">
            <a href="#s_fn_NewSettingService">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/setting_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>func NewSettingService(repo repositories.ISettingRepository) *SettingService {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>        return &amp;SettingService{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>                repo: repo,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewBcryptService">func NewBcryptService</div>
        <div class="info">
            <a href="#s_fn_NewBcryptService">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/bcrypt_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>13</td>
                <td>
                    <code><pre>func NewBcryptService() IBcryptService {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre>        return &amp;BcryptService{}</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewRefreshTokenService">func NewRefreshTokenService</div>
        <div class="info">
            <a href="#s_fn_NewRefreshTokenService">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/refresh_token_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>func NewRefreshTokenService(repo repositories.IRefreshTokenRepository) *RefreshTokenService {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        return &amp;RefreshTokenService{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>                repo: repo,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewRoleService">func NewRoleService</div>
        <div class="info">
            <a href="#s_fn_NewRoleService">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/role_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>func NewRoleService(repo repositories.IRoleRepository) *RoleService {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>        return &amp;RoleService{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>                repo: repo,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_@66:66">func @66:66</div>
        <div class="info">
            <a href="#s_fn_@66:66">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/jwt_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>func(t *jwt.Token) (interface{}, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>                return s.secret, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewAuthService">func NewAuthService</div>
        <div class="info">
            <a href="#s_fn_NewAuthService">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/auth_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>func NewAuthService(repo repositories.IUserRepository, refreshTokenService IRefreshTokenService, bcryptService IBcryptService, jwtService IJWTService) *AuthService {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>        return &amp;AuthService{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>                repo:                repo,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>                refreshTokenService: refreshTokenService,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>                bcryptService:       bcryptService,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>                jwtService:          jwtService,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewUserService">func NewUserService</div>
        <div class="info">
            <a href="#s_fn_NewUserService">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>func NewUserService(repo repositories.IUserRepository) *UserService {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>        return &amp;UserService{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>                repo: repo,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_jwtService.GenerateToken">func jwtService.GenerateToken</div>
        <div class="info">
            <a href="#s_fn_jwtService.GenerateToken">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/jwt_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>func (s *jwtService) GenerateToken(id uint) (*JwtResult, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>        expiresAt := jwt.NewNumericDate(time.Now().Add(time.Hour))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>        claims := CustomClaims{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>                ID: id,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>                RegisteredClaims: jwt.RegisteredClaims{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>                        ExpiresAt: expiresAt,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>                        IssuedAt:  jwt.NewNumericDate(time.Now()),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>                },</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>        token := jwt.NewWithClaims(jwt.SigningMethodHS256, claims)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>        signedToken, err := token.SignedString(s.secret)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>55</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>        return &amp;JwtResult{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>                Token:     signedToken,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre>                ExpiresAt: expiresAt.Unix(),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>        }, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewRedisService">func NewRedisService</div>
        <div class="info">
            <a href="#s_fn_NewRedisService">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/redis_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>func NewRedisService(client redis.Cmdable) *RedisService {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>        ctx := context.Background()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>        _, err := client.Ping(ctx).Result()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>33</td>
                <td>
                    <code><pre>                panic(err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>                logger.Info(&#34;Connected to Redis successfully&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>        return &amp;RedisService{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>                client: client,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>                ctx:    context.Background(),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RedisService.Get">func RedisService.Get</div>
        <div class="info">
            <a href="#s_fn_RedisService.Get">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/redis_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>func (r *RedisService) Get(key string) (string, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>        val, err := r.client.Get(r.ctx, key).Result()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>        if err == redis.Nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre>                return &#34;&#34;, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre>        } else if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>72</td>
                <td>
                    <code><pre>                return &#34;&#34;, errors.New(errors.ErrCacheGet, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre>        return val, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_jwtService.ValidateToken">func jwtService.ValidateToken</div>
        <div class="info">
            <a href="#s_fn_jwtService.ValidateToken">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/jwt_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>func (s *jwtService) ValidateToken(tokenString string) (*CustomClaims, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>        token, err := jwt.ParseWithClaims(tokenString, &amp;CustomClaims{}, func(t *jwt.Token) (interface{}, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>                return s.secret, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>        })</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre>                return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>72</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre>        if claims, ok := token.Claims.(*CustomClaims); ok &amp;&amp; token.Valid {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>                return claims, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>77</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>78</td>
                <td>
                    <code><pre>        return nil, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>79</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_BcryptService.HashPassword">func BcryptService.HashPassword</div>
        <div class="info">
            <a href="#s_fn_BcryptService.HashPassword">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/bcrypt_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>func (s *BcryptService) HashPassword(password string) (string, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>        hashedPassword, err := bcrypt.GenerateFromPassword([]byte(password), bcrypt.DefaultCost)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>22</td>
                <td>
                    <code><pre>                return &#34;&#34;, err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>        return string(hashedPassword), nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RedisService.Exists">func RedisService.Exists</div>
        <div class="info">
            <a href="#s_fn_RedisService.Exists">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/redis_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>98</td>
                <td>
                    <code><pre>func (r *RedisService) Exists(key string) (bool, error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>99</td>
                <td>
                    <code><pre>        count, err := r.client.Exists(r.ctx, key).Result()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>100</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>101</td>
                <td>
                    <code><pre>                return false, errors.New(errors.ErrCacheExists, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>102</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>103</td>
                <td>
                    <code><pre>        return count &gt; 0, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>104</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RedisService.Delete">func RedisService.Delete</div>
        <div class="info">
            <a href="#s_fn_RedisService.Delete">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/redis_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>83</td>
                <td>
                    <code><pre>func (r *RedisService) Delete(key string) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>84</td>
                <td>
                    <code><pre>        err := r.client.Del(r.ctx, key).Err()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>85</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>86</td>
                <td>
                    <code><pre>                return errors.New(errors.ErrCacheDelete, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>87</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>88</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>89</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RedisService.Set">func RedisService.Set</div>
        <div class="info">
            <a href="#s_fn_RedisService.Set">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/redis_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>func (r *RedisService) Set(key string, value any, ttl time.Duration) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>        err := r.client.Set(r.ctx, key, value, ttl).Err()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>54</td>
                <td>
                    <code><pre>                return errors.New(errors.ErrCacheSet, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_UserService.CreateUser">func UserService.CreateUser</div>
        <div class="info">
            <a href="#s_fn_UserService.CreateUser">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>99</td>
                <td>
                    <code><pre>func (service *UserService) CreateUser(user *models.User, roleIds []uint) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>100</td>
                <td>
                    <code><pre>        tx := service.repo.GetDB().Begin()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>101</td>
                <td>
                    <code><pre>        if tx.Error != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>102</td>
                <td>
                    <code><pre>                return errors.New(errors.ErrDBInsert, &#34;Failed to start transaction: &#34;+tx.Error.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>103</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>104</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>105</td>
                <td>
                    <code><pre>        defer func() {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>106</td>
                <td>
                    <code><pre>                if r := recover(); r != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>107</td>
                <td>
                    <code><pre>                        tx.Rollback()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>108</td>
                <td>
                    <code><pre>                        panic(r)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>109</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>110</td>
                <td>
                    <code><pre>        }()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>111</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>112</td>
                <td>
                    <code><pre>        createdUser, err := service.repo.CreateWithTx(tx, user)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>113</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>114</td>
                <td>
                    <code><pre>                tx.Rollback()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>115</td>
                <td>
                    <code><pre>                return errors.New(errors.ErrDBInsert, err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>116</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>117</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>118</td>
                <td>
                    <code><pre>        for _, roleId := range roleIds {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>119</td>
                <td>
                    <code><pre>                userRole := models.UserRole{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>120</td>
                <td>
                    <code><pre>                        UserID: createdUser.ID,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>121</td>
                <td>
                    <code><pre>                        RoleID: roleId,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>122</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>123</td>
                <td>
                    <code><pre>                if err := tx.Create(&amp;userRole).Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>124</td>
                <td>
                    <code><pre>                        tx.Rollback()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>125</td>
                <td>
                    <code><pre>                        return errors.New(errors.ErrDBInsert, &#34;Failed to assign role: &#34;+err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>126</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>127</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>128</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>129</td>
                <td>
                    <code><pre>        if err := tx.Commit().Error; err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>130</td>
                <td>
                    <code><pre>                return errors.New(errors.ErrDBInsert, &#34;Transaction failed: &#34;+err.Error())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>131</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>132</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>133</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>134</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_SendMailForgotPassword">func SendMailForgotPassword</div>
        <div class="info">
            <a href="#s_fn_SendMailForgotPassword">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/mail_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>func SendMailForgotPassword(user *models.User) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>33</td>
                <td>
                    <code><pre>        var config = mailer.GomailSenderConfig{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                Host:     utils.GetEnv(&#34;MAIL_HOST&#34;, &#34;smtp.gmail.com&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>                Port:     utils.GetEnvAsInt(&#34;MAIL_PORT&#34;, 587),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>                Username: utils.GetEnv(&#34;MAIL_USERNAME&#34;, &#34;&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>                Password: utils.GetEnv(&#34;MAIL_PASSWORD&#34;, &#34;&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>                From:     utils.GetEnv(&#34;MAIL_FROM&#34;, &#34;&#34;),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>41</td>
                <td>
                    <code><pre>        mailer := mailer.NewGomailSender(mailer.GomailSenderConfig{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>                From:     config.From,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>                Host:     config.Host,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>                Port:     config.Port,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>                Username: config.Username,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>                Password: config.Password,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>        })</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>        // Parse the email template file</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>50</td>
                <td>
                    <code><pre>        tmpl, err := template.ParseFiles(&#34;pkg/mailer/templates/forgot_template.html&#34;)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>51</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>52</td>
                <td>
                    <code><pre>                return fmt.Errorf(&#34;error parsing template: %w&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>        // Construct reset password URL by combining frontend URL with user&#39;s reset token</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>56</td>
                <td>
                    <code><pre>        url := utils.GetEnv(&#34;FRONTEND_URL&#34;, &#34;&#34;) + &#34;/reset-password?token=&#34; + *user.Token</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>        // Prepare template data with user&#39;s name and reset URL</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>59</td>
                <td>
                    <code><pre>        data := map[string]interface{}{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre>                &#34;Name&#34;: user.Name,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>                &#34;URL&#34;:  url,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>        // Create buffer to store rendered HTML</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>64</td>
                <td>
                    <code><pre>        var htmlBody bytes.Buffer</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>        // Execute template with data and write to buffer</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>66</td>
                <td>
                    <code><pre>        if err := tmpl.Execute(&amp;htmlBody, data); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>67</td>
                <td>
                    <code><pre>                return errors.New(errors.ErrInternal, fmt.Sprintf(&#34;error executing template: %+v&#34;, err))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre>        // Send password reset email to user</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>71</td>
                <td>
                    <code><pre>        if err := mailer.Send([]string{user.Email}, &#34;Reset your password&#34;, &#34;&#34;, htmlBody.String()); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>72</td>
                <td>
                    <code><pre>                return errors.New(errors.ErrInternal, fmt.Sprintf(&#34;error sending email: %+v&#34;, err))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>74</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_@105:8">func @105:8</div>
        <div class="info">
            <a href="#s_fn_@105:8">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/services/user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>105</td>
                <td>
                    <code><pre>func() {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>106</td>
                <td>
                    <code><pre>                if r := recover(); r != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>107</td>
                <td>
                    <code><pre>                        tx.Rollback()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>108</td>
                <td>
                    <code><pre>                        panic(r)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>109</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>110</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:github.com/vfa-khuongdv/golang-cms/internal/services DONE:80.1
        -->
        
        <div id="pkg_github.com/vfa-khuongdv/golang-cms/internal/utils" class="funcname">
            Package Overview: github.com/vfa-khuongdv/golang-cms/internal/utils
            <span class="packageTotal">92.8%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_TranslateValidationErrors">
                <td>
                    <code><a href="#fn_TranslateValidationErrors">TranslateValidationErrors(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/validate.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>47/47</code>
                </td>
            </tr>
        
            <tr id="s_fn_censorStruct">
                <td>
                    <code><a href="#fn_censorStruct">censorStruct(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/security.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>25/25</code>
                </td>
            </tr>
        
            <tr id="s_fn_ParsePageAndLimit">
                <td>
                    <code><a href="#fn_ParsePageAndLimit">ParsePageAndLimit(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/paging.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>15/15</code>
                </td>
            </tr>
        
            <tr id="s_fn_censorMap">
                <td>
                    <code><a href="#fn_censorMap">censorMap(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/security.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>13/13</code>
                </td>
            </tr>
        
            <tr id="s_fn_CensorSensitiveData">
                <td>
                    <code><a href="#fn_CensorSensitiveData">CensorSensitiveData(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/security.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>12/12</code>
                </td>
            </tr>
        
            <tr id="s_fn_ValidateBirthday">
                <td>
                    <code><a href="#fn_ValidateBirthday">ValidateBirthday(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/validate.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>8/8</code>
                </td>
            </tr>
        
            <tr id="s_fn_censorSlice">
                <td>
                    <code><a href="#fn_censorSlice">censorSlice(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/security.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>7/7</code>
                </td>
            </tr>
        
            <tr id="s_fn_CalculateTotalPages">
                <td>
                    <code><a href="#fn_CalculateTotalPages">CalculateTotalPages(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/paging.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>6/6</code>
                </td>
            </tr>
        
            <tr id="s_fn_GenerateRandomString">
                <td>
                    <code><a href="#fn_GenerateRandomString">GenerateRandomString(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/string.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>6/6</code>
                </td>
            </tr>
        
            <tr id="s_fn_RespondWithError">
                <td>
                    <code><a href="#fn_RespondWithError">RespondWithError(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/response.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>5/5</code>
                </td>
            </tr>
        
            <tr id="s_fn_GetEnvAsInt">
                <td>
                    <code><a href="#fn_GetEnvAsInt">GetEnvAsInt(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/env.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_contains">
                <td>
                    <code><a href="#fn_contains">contains(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/security.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_maskString">
                <td>
                    <code><a href="#fn_maskString">maskString(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/security.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_HashPasswordWithCost">
                <td>
                    <code><a href="#fn_HashPasswordWithCost">HashPasswordWithCost(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/bcrypt.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>4/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_GetEnv">
                <td>
                    <code><a href="#fn_GetEnv">GetEnv(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/env.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>3/3</code>
                </td>
            </tr>
        
            <tr id="s_fn_StringToPtr">
                <td>
                    <code><a href="#fn_StringToPtr">StringToPtr(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/string.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>3/3</code>
                </td>
            </tr>
        
            <tr id="s_fn_InitValidator">
                <td>
                    <code><a href="#fn_InitValidator">InitValidator(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/validate.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>3/3</code>
                </td>
            </tr>
        
            <tr id="s_fn_ValidateNotBlank">
                <td>
                    <code><a href="#fn_ValidateNotBlank">ValidateNotBlank(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/validate.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>3/3</code>
                </td>
            </tr>
        
            <tr id="s_fn_CheckPasswordHash">
                <td>
                    <code><a href="#fn_CheckPasswordHash">CheckPasswordHash(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/bcrypt.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>2/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_RespondWithOK">
                <td>
                    <code><a href="#fn_RespondWithOK">RespondWithOK(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/response.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_HashPassword">
                <td>
                    <code><a href="#fn_HashPassword">HashPassword(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/bcrypt.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_maskValue">
                <td>
                    <code><a href="#fn_maskValue">maskValue(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/security.go</code>
                </td>
                <td class="percent">
                    <code>57.1%</code>
                </td>
                <td class="linecount">
                    <code>4/7</code>
                </td>
            </tr>
        
            <tr id="s_fn_maskReflectedValue">
                <td>
                    <code><a href="#fn_maskReflectedValue">maskReflectedValue(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/internal/utils/security.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/11</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_TranslateValidationErrors">func TranslateValidationErrors</div>
        <div class="info">
            <a href="#s_fn_TranslateValidationErrors">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/validate.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>func TranslateValidationErrors(err error) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>        var ve validator.ValidationErrors</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>        if errors.As(err, &amp;ve) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>                // Get the first validation error</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>                fe := ve[0]</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>                field := strings.ToLower(fe.Field())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>                param := fe.Param()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>                var msg string</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>                switch fe.Tag() {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>                case &#34;required&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s is required&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>                case &#34;email&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be a valid email address&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>                case &#34;url&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be a valid URL&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>                case &#34;uuid&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be a valid UUID&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>                case &#34;len&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be exactly %s characters long&#34;, field, param)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>                case &#34;min&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be at least %s characters long or numeric&#34;, field, param)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre>                case &#34;max&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>72</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be at most %s characters long or numeric&#34;, field, param)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre>                case &#34;eq&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be equal to %s&#34;, field, param)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>                case &#34;ne&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must not be equal to %s&#34;, field, param)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>77</td>
                <td>
                    <code><pre>                case &#34;lt&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>78</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be less than %s&#34;, field, param)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>79</td>
                <td>
                    <code><pre>                case &#34;lte&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>80</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be less than or equal to %s&#34;, field, param)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>81</td>
                <td>
                    <code><pre>                case &#34;gt&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>82</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be greater than %s&#34;, field, param)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>83</td>
                <td>
                    <code><pre>                case &#34;gte&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>84</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be greater than or equal to %s&#34;, field, param)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>85</td>
                <td>
                    <code><pre>                case &#34;oneof&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>86</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be one of [%s]&#34;, field, param)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>87</td>
                <td>
                    <code><pre>                case &#34;contains&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>88</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must contain &#39;%s&#39;&#34;, field, param)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>89</td>
                <td>
                    <code><pre>                case &#34;excludes&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>90</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must not contain &#39;%s&#39;&#34;, field, param)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>91</td>
                <td>
                    <code><pre>                case &#34;startswith&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>92</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must start with &#39;%s&#39;&#34;, field, param)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>93</td>
                <td>
                    <code><pre>                case &#34;endswith&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>94</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must end with &#39;%s&#39;&#34;, field, param)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>95</td>
                <td>
                    <code><pre>                case &#34;ip&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>96</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be a valid IP address&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>97</td>
                <td>
                    <code><pre>                case &#34;ipv4&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>98</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be a valid IPv4 address&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>99</td>
                <td>
                    <code><pre>                case &#34;ipv6&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>100</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be a valid IPv6 address&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>101</td>
                <td>
                    <code><pre>                case &#34;datetime&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>102</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be a valid datetime (format: %s)&#34;, field, param)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>103</td>
                <td>
                    <code><pre>                case &#34;numeric&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>104</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be a numeric value&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>105</td>
                <td>
                    <code><pre>                case &#34;boolean&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>106</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be a boolean value&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>107</td>
                <td>
                    <code><pre>                case &#34;alpha&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>108</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must contain only letters&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>109</td>
                <td>
                    <code><pre>                case &#34;alphanum&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>110</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must contain only letters and numbers&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>111</td>
                <td>
                    <code><pre>                case &#34;alphanumunicode&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>112</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must contain only unicode letters and numbers&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>113</td>
                <td>
                    <code><pre>                case &#34;ascii&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>114</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must contain only ASCII characters&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>115</td>
                <td>
                    <code><pre>                case &#34;printascii&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>116</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must contain only printable ASCII characters&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>117</td>
                <td>
                    <code><pre>                case &#34;base64&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>118</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be a valid base64 string&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>119</td>
                <td>
                    <code><pre>                case &#34;containsany&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>120</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must contain at least one of the characters in &#39;%s&#39;&#34;, field, param)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>121</td>
                <td>
                    <code><pre>                case &#34;excludesall&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>122</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must not contain any of the characters in &#39;%s&#39;&#34;, field, param)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>123</td>
                <td>
                    <code><pre>                case &#34;excludesrune&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>124</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must not contain the rune &#39;%s&#39;&#34;, field, param)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>125</td>
                <td>
                    <code><pre>                case &#34;isdefault&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>126</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be the default value&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>127</td>
                <td>
                    <code><pre>                case &#34;unique&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>128</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must contain unique values&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>129</td>
                <td>
                    <code><pre>                case &#34;valid_birthday&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>130</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must be a valid date (YYYY-MM-DD) and not in the future&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>131</td>
                <td>
                    <code><pre>                case &#34;not_blank&#34;:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>132</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s must not be blank&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>133</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>134</td>
                <td>
                    <code><pre>                default:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>135</td>
                <td>
                    <code><pre>                        msg = fmt.Sprintf(&#34;%s is invalid&#34;, field)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>136</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>137</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>138</td>
                <td>
                    <code><pre>                return errors.New(msg)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>139</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>140</td>
                <td>
                    <code><pre>        return err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>141</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_censorStruct">func censorStruct</div>
        <div class="info">
            <a href="#s_fn_censorStruct">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/security.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>82</td>
                <td>
                    <code><pre>func censorStruct(data any, maskFields []string) any {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>83</td>
                <td>
                    <code><pre>        val := reflect.ValueOf(data)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>84</td>
                <td>
                    <code><pre>        typ := val.Type()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>85</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>86</td>
                <td>
                    <code><pre>        censoredStruct := reflect.New(typ).Elem()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>87</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>88</td>
                <td>
                    <code><pre>        for i := 0; i &lt; val.NumField(); i++ {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>89</td>
                <td>
                    <code><pre>                field := val.Field(i)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>90</td>
                <td>
                    <code><pre>                fieldType := typ.Field(i)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>91</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>92</td>
                <td>
                    <code><pre>                if contains(maskFields, fieldType.Name) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>93</td>
                <td>
                    <code><pre>                        // Trường cần mask</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>94</td>
                <td>
                    <code><pre>                        if field.Kind() == reflect.Ptr {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>95</td>
                <td>
                    <code><pre>                                if field.IsNil() {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>96</td>
                <td>
                    <code><pre>                                        // Nếu con trỏ nil thì giữ nguyên nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>97</td>
                <td>
                    <code><pre>                                        censoredStruct.Field(i).Set(reflect.Zero(field.Type()))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>98</td>
                <td>
                    <code><pre>                                } else {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>99</td>
                <td>
                    <code><pre>                                        // Mask giá trị bên trong con trỏ</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>100</td>
                <td>
                    <code><pre>                                        maskedVal := maskValue(field.Elem().Interface())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>101</td>
                <td>
                    <code><pre>                                        maskedValReflect := reflect.ValueOf(maskedVal)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>102</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>103</td>
                <td>
                    <code><pre>                                        // Tạo con trỏ mới cùng kiểu với trường</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>104</td>
                <td>
                    <code><pre>                                        ptr := reflect.New(fieldType.Type.Elem())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>105</td>
                <td>
                    <code><pre>                                        ptr.Elem().Set(maskedValReflect)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>106</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>107</td>
                <td>
                    <code><pre>                                        censoredStruct.Field(i).Set(ptr)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>108</td>
                <td>
                    <code><pre>                                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>109</td>
                <td>
                    <code><pre>                        } else {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>110</td>
                <td>
                    <code><pre>                                // Trường không phải con trỏ thì mask trực tiếp</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>111</td>
                <td>
                    <code><pre>                                censoredStruct.Field(i).Set(reflect.ValueOf(maskValue(field.Interface())))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>112</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>113</td>
                <td>
                    <code><pre>                } else {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>114</td>
                <td>
                    <code><pre>                        // Trường không cần mask, đệ quy censor nested</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>115</td>
                <td>
                    <code><pre>                        censoredValue := CensorSensitiveData(field.Interface(), maskFields)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>116</td>
                <td>
                    <code><pre>                        if field.Kind() == reflect.Ptr {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>117</td>
                <td>
                    <code><pre>                                if field.IsNil() {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>118</td>
                <td>
                    <code><pre>                                        censoredStruct.Field(i).Set(reflect.Zero(field.Type()))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>119</td>
                <td>
                    <code><pre>                                } else {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>120</td>
                <td>
                    <code><pre>                                        ptr := reflect.New(fieldType.Type.Elem())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>121</td>
                <td>
                    <code><pre>                                        ptr.Elem().Set(reflect.ValueOf(censoredValue))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>122</td>
                <td>
                    <code><pre>                                        censoredStruct.Field(i).Set(ptr)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>123</td>
                <td>
                    <code><pre>                                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>124</td>
                <td>
                    <code><pre>                        } else {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>125</td>
                <td>
                    <code><pre>                                censoredStruct.Field(i).Set(reflect.ValueOf(censoredValue))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>126</td>
                <td>
                    <code><pre>                        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>127</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>128</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>129</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>130</td>
                <td>
                    <code><pre>        return censoredStruct.Interface()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>131</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_ParsePageAndLimit">func ParsePageAndLimit</div>
        <div class="info">
            <a href="#s_fn_ParsePageAndLimit">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/paging.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>func ParsePageAndLimit(c *gin.Context) (int, int) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>        var pageInt, limitInt int64</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>        var page, limit string</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>        page = c.Query(&#34;page&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>        limit = c.Query(&#34;limit&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        pageInt, err := strconv.ParseInt(page, 10, 64)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>                pageInt = 1</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>        if pageInt &lt;= 0 {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>                pageInt = 1</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>        limitInt, err2 := strconv.ParseInt(limit, 10, 64)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>        if err2 != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>                limitInt = int64(constants.LIMIT)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>        if limitInt &lt;= 0 {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>                limitInt = int64(constants.LIMIT)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>        return int(pageInt), int(limitInt)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_censorMap">func censorMap</div>
        <div class="info">
            <a href="#s_fn_censorMap">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/security.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>func censorMap(data any, maskFields []string) any {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>        val := reflect.ValueOf(data)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>        censoredMap := reflect.MakeMap(val.Type())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>        iter := val.MapRange()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>        for iter.Next() {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre>                key := iter.Key()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>                value := iter.Value()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>                // Check if the key (converted to string) is in maskFields</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>                keyStr := fmt.Sprintf(&#34;%v&#34;, key.Interface())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>                var censoredValue reflect.Value</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>                if contains(maskFields, keyStr) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>                        // Mask the entire value if the key matches</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>                        censoredValue = reflect.ValueOf(maskValue(value.Interface()))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre>                } else {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre>                        // Recursively censor nested structures</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>72</td>
                <td>
                    <code><pre>                        censoredValue = reflect.ValueOf(CensorSensitiveData(value.Interface(), maskFields))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>                censoredMap.SetMapIndex(key, censoredValue)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>76</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>77</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>78</td>
                <td>
                    <code><pre>        return censoredMap.Interface()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>79</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_CensorSensitiveData">func CensorSensitiveData</div>
        <div class="info">
            <a href="#s_fn_CensorSensitiveData">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/security.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>10</td>
                <td>
                    <code><pre>func CensorSensitiveData(data any, maskFields []string) any {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>11</td>
                <td>
                    <code><pre>        // Handle nil input</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>12</td>
                <td>
                    <code><pre>        if data == nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>13</td>
                <td>
                    <code><pre>                return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>        // Use reflection to handle more dynamic type checking</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>        val := reflect.ValueOf(data)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>        switch val.Kind() {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>        case reflect.Slice:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>                return censorSlice(data, maskFields)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>        case reflect.Map:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>                return censorMap(data, maskFields)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>        case reflect.Struct:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>                return censorStruct(data, maskFields)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>        case reflect.Ptr:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>                // Dereference pointer and recursively censor</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>                if val.IsNil() {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>                        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>                return CensorSensitiveData(val.Elem().Interface(), maskFields)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>        case reflect.String:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>                return data</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>        default:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>                return data</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_ValidateBirthday">func ValidateBirthday</div>
        <div class="info">
            <a href="#s_fn_ValidateBirthday">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/validate.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>func ValidateBirthday(fl validator.FieldLevel) bool {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>        birthdayStr := fl.Field().String()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>        layout := &#34;2006-01-02&#34; // Format: YYYY-MM-DD</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>        // Parse the birthday to check the format</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>        parsedDate, err := time.Parse(layout, birthdayStr)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>                return false // Invalid date format</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>        // Check if the birthday is in the future</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>        if parsedDate.After(time.Now()) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>                return false // Invalid: birthday can&#39;t be in the future</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>        return true // Valid birthday</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_censorSlice">func censorSlice</div>
        <div class="info">
            <a href="#s_fn_censorSlice">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/security.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>func censorSlice(data any, maskFields []string) any {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>        val := reflect.ValueOf(data)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>        censoredSlice := reflect.MakeSlice(val.Type(), val.Len(), val.Len())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>        for i := range val.Len() {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>                item := val.Index(i).Interface()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>                censoredItem := CensorSensitiveData(item, maskFields)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>                censoredSlice.Index(i).Set(reflect.ValueOf(censoredItem))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>        return censoredSlice.Interface()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_CalculateTotalPages">func CalculateTotalPages</div>
        <div class="info">
            <a href="#s_fn_CalculateTotalPages">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/paging.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>10</td>
                <td>
                    <code><pre>func CalculateTotalPages(totalRows int64, limit int) int {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>11</td>
                <td>
                    <code><pre>        if limit &lt;= 0 {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>12</td>
                <td>
                    <code><pre>                return 0</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>13</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre>        totalPages := int(totalRows) / limit</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>        if int(totalRows)%limit != 0 {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>                totalPages++</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>        return totalPages</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_GenerateRandomString">func GenerateRandomString</div>
        <div class="info">
            <a href="#s_fn_GenerateRandomString">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/string.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre>func GenerateRandomString(n int) string {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>        const charset = &#34;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&#34;</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>        seededRand := rand.New(rand.NewSource(time.Now().UnixNano()))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>        result := make([]byte, n)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>        for i := range result {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>                result[i] = charset[seededRand.Intn(len(charset))]</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>        return string(result)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RespondWithError">func RespondWithError</div>
        <div class="info">
            <a href="#s_fn_RespondWithError">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/response.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre>func RespondWithError(ctx *gin.Context, statusCode int, err error) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>        if appErr, ok := err.(*errors.AppError); ok {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>                ctx.AbortWithStatusJSON(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>                        statusCode,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>                        gin.H{&#34;code&#34;: appErr.Code, &#34;message&#34;: appErr.Message},</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>                ctx.AbortWithStatusJSON(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>                        statusCode,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>                        gin.H{&#34;code&#34;: errors.ErrInternal, &#34;message&#34;: err.Error()},</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>                )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>                return</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_GetEnvAsInt">func GetEnvAsInt</div>
        <div class="info">
            <a href="#s_fn_GetEnvAsInt">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/env.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>func GetEnvAsInt(key string, defaultValue int) int {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>        valueStr := GetEnv(key, &#34;&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>        if value, err := strconv.Atoi(valueStr); err == nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>                return value</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>        return defaultValue</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_contains">func contains</div>
        <div class="info">
            <a href="#s_fn_contains">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/security.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>134</td>
                <td>
                    <code><pre>func contains(slice []string, item string) bool {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>135</td>
                <td>
                    <code><pre>        for _, v := range slice {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>136</td>
                <td>
                    <code><pre>                if strings.EqualFold(v, item) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>137</td>
                <td>
                    <code><pre>                        return true</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>138</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>139</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>140</td>
                <td>
                    <code><pre>        return false</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>141</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_maskString">func maskString</div>
        <div class="info">
            <a href="#s_fn_maskString">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/security.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>161</td>
                <td>
                    <code><pre>func maskString(s string) string {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>162</td>
                <td>
                    <code><pre>        // Default masking for other strings</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>163</td>
                <td>
                    <code><pre>        if len(s) &gt; 2 {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>164</td>
                <td>
                    <code><pre>                maskLen := min(len(s)-2, 8)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>165</td>
                <td>
                    <code><pre>                return string(s[0]) + strings.Repeat(&#34;*&#34;, maskLen) + string(s[len(s)-1])</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>166</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>167</td>
                <td>
                    <code><pre>        return strings.Repeat(&#34;*&#34;, len(s))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>168</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_HashPasswordWithCost">func HashPasswordWithCost</div>
        <div class="info">
            <a href="#s_fn_HashPasswordWithCost">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/bcrypt.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>12</td>
                <td>
                    <code><pre>func HashPasswordWithCost(password string, cost int) string {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>13</td>
                <td>
                    <code><pre>        hashedPassword, err := bcrypt.GenerateFromPassword([]byte(password), cost)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>                return &#34;&#34;</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>        return string(hashedPassword)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_GetEnv">func GetEnv</div>
        <div class="info">
            <a href="#s_fn_GetEnv">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/env.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>func GetEnv(key string, defaultValue string) string {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>        if value, exists := os.LookupEnv(key); exists {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>                return value</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>        return defaultValue</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_StringToPtr">func StringToPtr</div>
        <div class="info">
            <a href="#s_fn_StringToPtr">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/string.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>func StringToPtr(s string) *string {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>        if s == &#34;&#34; {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>                return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>        return &amp;s</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_InitValidator">func InitValidator</div>
        <div class="info">
            <a href="#s_fn_InitValidator">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/validate.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>func InitValidator() {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>        if v, ok := binding.Validator.Engine().(*validator.Validate); ok {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>                v.RegisterValidation(&#34;valid_birthday&#34;, ValidateBirthday)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>                v.RegisterValidation(&#34;not_blank&#34;, ValidateNotBlank)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_ValidateNotBlank">func ValidateNotBlank</div>
        <div class="info">
            <a href="#s_fn_ValidateNotBlank">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/validate.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>func ValidateNotBlank(fl validator.FieldLevel) bool {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>        str := fl.Field().String()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>        trimmed := strings.TrimSpace(str)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>        return trimmed != &#34;&#34;</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_CheckPasswordHash">func CheckPasswordHash</div>
        <div class="info">
            <a href="#s_fn_CheckPasswordHash">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/bcrypt.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>7</td>
                <td>
                    <code><pre>func CheckPasswordHash(password, hashPassword string) bool {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>8</td>
                <td>
                    <code><pre>        err := bcrypt.CompareHashAndPassword([]byte(hashPassword), []byte(password))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>9</td>
                <td>
                    <code><pre>        return err == nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>10</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_RespondWithOK">func RespondWithOK</div>
        <div class="info">
            <a href="#s_fn_RespondWithOK">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/response.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>func RespondWithOK(ctx *gin.Context, statusCode int, body any) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>        ctx.AbortWithStatusJSON(statusCode, body)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_HashPassword">func HashPassword</div>
        <div class="info">
            <a href="#s_fn_HashPassword">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/bcrypt.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>func HashPassword(password string) string {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>        return HashPasswordWithCost(password, bcrypt.DefaultCost)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_maskValue">func maskValue</div>
        <div class="info">
            <a href="#s_fn_maskValue">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/security.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>144</td>
                <td>
                    <code><pre>func maskValue(value any) any {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>145</td>
                <td>
                    <code><pre>        switch v := value.(type) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>146</td>
                <td>
                    <code><pre>        case string:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>147</td>
                <td>
                    <code><pre>                return maskString(v)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>148</td>
                <td>
                    <code><pre>        case fmt.Stringer:</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>149</td>
                <td>
                    <code><pre>                return maskString(v.String())</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>150</td>
                <td>
                    <code><pre>        case []byte:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>151</td>
                <td>
                    <code><pre>                masked := maskString(string(v))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>152</td>
                <td>
                    <code><pre>                return []byte(masked)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>153</td>
                <td>
                    <code><pre>        case nil:</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>154</td>
                <td>
                    <code><pre>                return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>155</td>
                <td>
                    <code><pre>        default:</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>156</td>
                <td>
                    <code><pre>                return maskReflectedValue(value)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>157</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>158</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_maskReflectedValue">func maskReflectedValue</div>
        <div class="info">
            <a href="#s_fn_maskReflectedValue">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/internal/utils/security.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>171</td>
                <td>
                    <code><pre>func maskReflectedValue(value any) any {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>172</td>
                <td>
                    <code><pre>        val := reflect.ValueOf(value)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>173</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>174</td>
                <td>
                    <code><pre>        switch val.Kind() {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>175</td>
                <td>
                    <code><pre>        case reflect.Slice, reflect.Array:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>176</td>
                <td>
                    <code><pre>                // Create a masked slice of the same length</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>177</td>
                <td>
                    <code><pre>                maskedSlice := reflect.MakeSlice(val.Type(), val.Len(), val.Len())</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>178</td>
                <td>
                    <code><pre>                for i := range val.Len() {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>179</td>
                <td>
                    <code><pre>                        maskedSlice.Index(i).Set(reflect.ValueOf(&#34;*****&#34;))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>180</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>181</td>
                <td>
                    <code><pre>                return maskedSlice.Interface()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>182</td>
                <td>
                    <code><pre>        case reflect.Struct:</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>183</td>
                <td>
                    <code><pre>                // Create a struct with all fields masked</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>184</td>
                <td>
                    <code><pre>                maskedStruct := reflect.New(val.Type()).Elem()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>185</td>
                <td>
                    <code><pre>                for i := range val.NumField() {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>186</td>
                <td>
                    <code><pre>                        maskedStruct.Field(i).Set(reflect.ValueOf(&#34;*****&#34;))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>187</td>
                <td>
                    <code><pre>                }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>188</td>
                <td>
                    <code><pre>                return maskedStruct.Interface()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>189</td>
                <td>
                    <code><pre>        default:</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>190</td>
                <td>
                    <code><pre>                return &#34;*****&#34;</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>191</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>192</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:github.com/vfa-khuongdv/golang-cms/internal/utils DONE:92.8
        -->
        
        <div id="pkg_github.com/vfa-khuongdv/golang-cms/pkg/errors" class="funcname">
            Package Overview: github.com/vfa-khuongdv/golang-cms/pkg/errors
            <span class="packageTotal">100.0%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_AppError.Error">
                <td>
                    <code><a href="#fn_AppError.Error">AppError.Error(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/errors/errors.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>3/3</code>
                </td>
            </tr>
        
            <tr id="s_fn_Wrap">
                <td>
                    <code><a href="#fn_Wrap">Wrap(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/errors/errors.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_New">
                <td>
                    <code><a href="#fn_New">New(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/errors/errors.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_AppError.Error">func AppError.Error</div>
        <div class="info">
            <a href="#s_fn_AppError.Error">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/errors/errors.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>func (e *AppError) Error() string {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>        if e.Err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>                return fmt.Sprintf(&#34;code: %d, message: %s, error: %v&#34;, e.Code, e.Message, e.Err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>        return fmt.Sprintf(&#34;code: %d, message: %s&#34;, e.Code, e.Message)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Wrap">func Wrap</div>
        <div class="info">
            <a href="#s_fn_Wrap">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/errors/errors.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>func Wrap(code int, message string, err error) *AppError {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>        return &amp;AppError{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>                Code:    code,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>                Message: message,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>                Err:     err,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_New">func New</div>
        <div class="info">
            <a href="#s_fn_New">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/errors/errors.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>func New(code int, message string) *AppError {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>        return &amp;AppError{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>                Code:    code,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>                Message: message,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:github.com/vfa-khuongdv/golang-cms/pkg/errors DONE:100.0
        -->
        
        <div id="pkg_github.com/vfa-khuongdv/golang-cms/pkg/logger" class="funcname">
            Package Overview: github.com/vfa-khuongdv/golang-cms/pkg/logger
            <span class="packageTotal">83.3%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_Init">
                <td>
                    <code><a href="#fn_Init">Init(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/logger/logger.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>2/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_Info">
                <td>
                    <code><a href="#fn_Info">Info(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/logger/logger.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_Infof">
                <td>
                    <code><a href="#fn_Infof">Infof(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/logger/logger.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_Debug">
                <td>
                    <code><a href="#fn_Debug">Debug(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/logger/logger.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_Debugf">
                <td>
                    <code><a href="#fn_Debugf">Debugf(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/logger/logger.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_Error">
                <td>
                    <code><a href="#fn_Error">Error(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/logger/logger.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_Errorf">
                <td>
                    <code><a href="#fn_Errorf">Errorf(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/logger/logger.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_Warn">
                <td>
                    <code><a href="#fn_Warn">Warn(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/logger/logger.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_Warnf">
                <td>
                    <code><a href="#fn_Warnf">Warnf(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/logger/logger.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>1/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_Fatal">
                <td>
                    <code><a href="#fn_Fatal">Fatal(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/logger/logger.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_Fatalf">
                <td>
                    <code><a href="#fn_Fatalf">Fatalf(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/logger/logger.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/1</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_Init">func Init</div>
        <div class="info">
            <a href="#s_fn_Init">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/logger/logger.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>9</td>
                <td>
                    <code><pre>func Init() {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>10</td>
                <td>
                    <code><pre>        // Log as JSON instead of the default ASCII formatter.</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>11</td>
                <td>
                    <code><pre>        log.SetFormatter(&amp;log.JSONFormatter{})</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>12</td>
                <td>
                    <code><pre>        // Output to stdout instead of the default stderr</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>13</td>
                <td>
                    <code><pre>        log.SetOutput(os.Stdout)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Info">func Info</div>
        <div class="info">
            <a href="#s_fn_Info">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/logger/logger.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>func Info(args ...interface{}) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>        log.Info(args...)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Infof">func Infof</div>
        <div class="info">
            <a href="#s_fn_Infof">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/logger/logger.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>func Infof(format string, args ...interface{}) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>        log.Infof(format, args...)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Debug">func Debug</div>
        <div class="info">
            <a href="#s_fn_Debug">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/logger/logger.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>func Debug(args ...interface{}) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>        log.Debug(args...)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Debugf">func Debugf</div>
        <div class="info">
            <a href="#s_fn_Debugf">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/logger/logger.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>func Debugf(format string, args ...interface{}) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>        log.Debugf(format, args...)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Error">func Error</div>
        <div class="info">
            <a href="#s_fn_Error">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/logger/logger.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>func Error(args ...interface{}) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>        log.Error(args...)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Errorf">func Errorf</div>
        <div class="info">
            <a href="#s_fn_Errorf">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/logger/logger.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>func Errorf(format string, args ...interface{}) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>        log.Errorf(format, args...)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Warn">func Warn</div>
        <div class="info">
            <a href="#s_fn_Warn">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/logger/logger.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>func Warn(args ...interface{}) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>        log.Warn(args...)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Warnf">func Warnf</div>
        <div class="info">
            <a href="#s_fn_Warnf">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/logger/logger.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre>func Warnf(format string, args ...interface{}) {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre>        log.Warnf(format, args...)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Fatal">func Fatal</div>
        <div class="info">
            <a href="#s_fn_Fatal">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/logger/logger.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>func Fatal(args ...interface{}) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>56</td>
                <td>
                    <code><pre>        log.Fatal(args...)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Fatalf">func Fatalf</div>
        <div class="info">
            <a href="#s_fn_Fatalf">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/logger/logger.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>func Fatalf(format string, args ...interface{}) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>62</td>
                <td>
                    <code><pre>        log.Fatalf(format, args...)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:github.com/vfa-khuongdv/golang-cms/pkg/logger DONE:83.3
        -->
        
        <div id="pkg_github.com/vfa-khuongdv/golang-cms/pkg/mailer" class="funcname">
            Package Overview: github.com/vfa-khuongdv/golang-cms/pkg/mailer
            <span class="packageTotal">100.0%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_GomailSender.Send">
                <td>
                    <code><a href="#fn_GomailSender.Send">GomailSender.Send(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/mailer/smtp_mailler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>17/17</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewGomailSender">
                <td>
                    <code><a href="#fn_NewGomailSender">NewGomailSender(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/mailer/smtp_mailler.go</code>
                </td>
                <td class="percent">
                    <code>100.0%</code>
                </td>
                <td class="linecount">
                    <code>2/2</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_GomailSender.Send">func GomailSender.Send</div>
        <div class="info">
            <a href="#s_fn_GomailSender.Send">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/mailer/smtp_mailler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>func (s *GomailSender) Send(to []string, subject, plainText, html string) error {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>        if len(to) == 0 {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>                return errors.New(&#34;recipient list cannot be empty&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>        if subject == &#34;&#34; {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>                return errors.New(&#34;email subject cannot be empty&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>        if plainText == &#34;&#34; &amp;&amp; html == &#34;&#34; {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>                return errors.New(&#34;either plain text or HTML content must be provided&#34;)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>        m := gomail.NewMessage()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>        m.SetHeader(&#34;From&#34;, s.Config.From)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>        m.SetHeader(&#34;To&#34;, to...)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>        m.SetHeader(&#34;Subject&#34;, subject)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>        if plainText != &#34;&#34; {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>                m.SetBody(&#34;text/plain&#34;, plainText)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>        if html != &#34;&#34; {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>58</td>
                <td>
                    <code><pre>                m.AddAlternative(&#34;text/html&#34;, html)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>        if err := s.Dialer.DialAndSend(m); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>                return err</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>65</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewGomailSender">func NewGomailSender</div>
        <div class="info">
            <a href="#s_fn_NewGomailSender">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/mailer/smtp_mailler.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>func NewGomailSender(config GomailSenderConfig) *GomailSender {</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>        dialer := gomail.NewDialer(config.Host, config.Port, config.Username, config.Password)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>        return &amp;GomailSender{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>                Config: config,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>                Dialer: dialer,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:github.com/vfa-khuongdv/golang-cms/pkg/mailer DONE:100.0
        -->
        
        <div id="pkg_github.com/vfa-khuongdv/golang-cms/pkg/migrator" class="funcname">
            Package Overview: github.com/vfa-khuongdv/golang-cms/pkg/migrator
            <span class="packageTotal">0.0%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_NewMigrator">
                <td>
                    <code><a href="#fn_NewMigrator">NewMigrator(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/migrator/migrator.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/12</code>
                </td>
            </tr>
        
            <tr id="s_fn_Migrator.Up">
                <td>
                    <code><a href="#fn_Migrator.Up">Migrator.Up(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/migrator/migrator.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/3</code>
                </td>
            </tr>
        
            <tr id="s_fn_Migrator.Down">
                <td>
                    <code><a href="#fn_Migrator.Down">Migrator.Down(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/migrator/migrator.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/3</code>
                </td>
            </tr>
        
            <tr id="s_fn_Migrator.Steps">
                <td>
                    <code><a href="#fn_Migrator.Steps">Migrator.Steps(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/migrator/migrator.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/3</code>
                </td>
            </tr>
        
            <tr id="s_fn_Migrator.Close">
                <td>
                    <code><a href="#fn_Migrator.Close">Migrator.Close(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/migrator/migrator.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_NewMySQLDSN">
                <td>
                    <code><a href="#fn_NewMySQLDSN">NewMySQLDSN(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/migrator/migrator.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/1</code>
                </td>
            </tr>
        
            <tr id="s_fn_Migrator.Version">
                <td>
                    <code><a href="#fn_Migrator.Version">Migrator.Version(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/pkg/migrator/migrator.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/1</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_NewMigrator">func NewMigrator</div>
        <div class="info">
            <a href="#s_fn_NewMigrator">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/migrator/migrator.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>func NewMigrator(migrationsPath, databaseURL string) (*Migrator, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>22</td>
                <td>
                    <code><pre>        if _, err := url.Parse(databaseURL); err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>23</td>
                <td>
                    <code><pre>                return nil, fmt.Errorf(&#34;invalid database URL: %w&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>26</td>
                <td>
                    <code><pre>        db, err := sql.Open(&#34;mysql&#34;, databaseURL)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>27</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>28</td>
                <td>
                    <code><pre>                return nil, fmt.Errorf(&#34;failed to connect to database: %w&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>31</td>
                <td>
                    <code><pre>        driver, err := mysql.WithInstance(db, &amp;mysql.Config{</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>                MigrationsTable: &#34;schema_migrations&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>        })</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>34</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>35</td>
                <td>
                    <code><pre>                return nil, fmt.Errorf(&#34;failed to create MySQL driver: %w&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>38</td>
                <td>
                    <code><pre>        m, err := migrate.NewWithDatabaseInstance(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>                fmt.Sprintf(&#34;file://%s&#34;, migrationsPath),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>                &#34;mysql&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>                driver,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>        )</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>43</td>
                <td>
                    <code><pre>        if err != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>44</td>
                <td>
                    <code><pre>                return nil, fmt.Errorf(&#34;failed to initialize migrator: %w&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>45</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre></pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>47</td>
                <td>
                    <code><pre>        return &amp;Migrator{m: m}, nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Migrator.Up">func Migrator.Up</div>
        <div class="info">
            <a href="#s_fn_Migrator.Up">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/migrator/migrator.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>79</td>
                <td>
                    <code><pre>func (m *Migrator) Up() error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>80</td>
                <td>
                    <code><pre>        if err := m.m.Up(); err != nil &amp;&amp; err != migrate.ErrNoChange {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>81</td>
                <td>
                    <code><pre>                return fmt.Errorf(&#34;up migration failed: %w&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>82</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>83</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>84</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Migrator.Down">func Migrator.Down</div>
        <div class="info">
            <a href="#s_fn_Migrator.Down">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/migrator/migrator.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>88</td>
                <td>
                    <code><pre>func (m *Migrator) Down() error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>89</td>
                <td>
                    <code><pre>        if err := m.m.Down(); err != nil &amp;&amp; err != migrate.ErrNoChange {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>90</td>
                <td>
                    <code><pre>                return fmt.Errorf(&#34;down migration failed: %w&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>91</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>92</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>93</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Migrator.Steps">func Migrator.Steps</div>
        <div class="info">
            <a href="#s_fn_Migrator.Steps">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/migrator/migrator.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>98</td>
                <td>
                    <code><pre>func (m *Migrator) Steps(steps int) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>99</td>
                <td>
                    <code><pre>        if err := m.m.Steps(steps); err != nil &amp;&amp; err != migrate.ErrNoChange {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>100</td>
                <td>
                    <code><pre>                return fmt.Errorf(&#34;step migration failed: %w&#34;, err)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>101</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>102</td>
                <td>
                    <code><pre>        return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>103</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Migrator.Close">func Migrator.Close</div>
        <div class="info">
            <a href="#s_fn_Migrator.Close">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/migrator/migrator.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>func (m *Migrator) Close() {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>52</td>
                <td>
                    <code><pre>        if m.m != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>53</td>
                <td>
                    <code><pre>                m.m.Close()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_NewMySQLDSN">func NewMySQLDSN</div>
        <div class="info">
            <a href="#s_fn_NewMySQLDSN">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/migrator/migrator.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>66</td>
                <td>
                    <code><pre>func NewMySQLDSN(user, password, host, port, dbName string) string {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>67</td>
                <td>
                    <code><pre>        return fmt.Sprintf(</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>68</td>
                <td>
                    <code><pre>                &#34;%s:%s@tcp(%s:%s)/%s?parseTime=true&amp;charset=utf8mb4&amp;multiStatements=true&#34;,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>                url.PathEscape(user),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>70</td>
                <td>
                    <code><pre>                url.PathEscape(password),</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>71</td>
                <td>
                    <code><pre>                host,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>72</td>
                <td>
                    <code><pre>                port,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>73</td>
                <td>
                    <code><pre>                dbName,</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>74</td>
                <td>
                    <code><pre>        )</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>75</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_Migrator.Version">func Migrator.Version</div>
        <div class="info">
            <a href="#s_fn_Migrator.Version">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/pkg/migrator/migrator.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>107</td>
                <td>
                    <code><pre>func (m *Migrator) Version() (uint, bool, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>108</td>
                <td>
                    <code><pre>        return m.m.Version()</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>109</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:github.com/vfa-khuongdv/golang-cms/pkg/migrator DONE:0.0
        -->
        
        <div id="pkg_github.com/vfa-khuongdv/golang-cms/tests/mocks" class="funcname">
            Package Overview: github.com/vfa-khuongdv/golang-cms/tests/mocks
            <span class="packageTotal">0.0%</span>
        </div>
        <p>Please select a function to see what's left for testing.</p>

        <table class="overview">
        
            <tr id="s_fn_MockRedisClient.LRange">
                <td>
                    <code><a href="#fn_MockRedisClient.LRange">MockRedisClient.LRange(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_redis_client.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/6</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRedisClient.Exists">
                <td>
                    <code><a href="#fn_MockRedisClient.Exists">MockRedisClient.Exists(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_redis_client.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/6</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRedisClient.Get">
                <td>
                    <code><a href="#fn_MockRedisClient.Get">MockRedisClient.Get(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_redis_client.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/6</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRoleService.GetByID">
                <td>
                    <code><a href="#fn_MockRoleService.GetByID">MockRoleService.GetByID(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_role_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/5</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRedisService.GetClient">
                <td>
                    <code><a href="#fn_MockRedisService.GetClient">MockRedisService.GetClient(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_redis_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/5</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockPermissionService.GetAll">
                <td>
                    <code><a href="#fn_MockPermissionService.GetAll">MockPermissionService.GetAll(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_permission_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockAuthService.RefreshToken">
                <td>
                    <code><a href="#fn_MockAuthService.RefreshToken">MockAuthService.RefreshToken(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_auth_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockAuthService.Login">
                <td>
                    <code><a href="#fn_MockAuthService.Login">MockAuthService.Login(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_auth_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRedisClient.Del">
                <td>
                    <code><a href="#fn_MockRedisClient.Del">MockRedisClient.Del(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_redis_client.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRedisClient.Set">
                <td>
                    <code><a href="#fn_MockRedisClient.Set">MockRedisClient.Set(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_redis_client.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/4</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRefreshTokenService.Update">
                <td>
                    <code><a href="#fn_MockRefreshTokenService.Update">MockRefreshTokenService.Update(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_refresh_token_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/3</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRefreshTokenService.Create">
                <td>
                    <code><a href="#fn_MockRefreshTokenService.Create">MockRefreshTokenService.Create(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_refresh_token_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/3</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRoleRepository.Delete">
                <td>
                    <code><a href="#fn_MockRoleRepository.Delete">MockRoleRepository.Delete(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_role_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockSettingRepository.GetByKey">
                <td>
                    <code><a href="#fn_MockSettingRepository.GetByKey">MockSettingRepository.GetByKey(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_setting_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockPermissionRepository.Create">
                <td>
                    <code><a href="#fn_MockPermissionRepository.Create">MockPermissionRepository.Create(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_permission_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockJWTService.ValidateToken">
                <td>
                    <code><a href="#fn_MockJWTService.ValidateToken">MockJWTService.ValidateToken(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_jwt_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockJWTService.GenerateToken">
                <td>
                    <code><a href="#fn_MockJWTService.GenerateToken">MockJWTService.GenerateToken(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_jwt_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockTx.Create">
                <td>
                    <code><a href="#fn_MockTx.Create">MockTx.Create(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_db.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockDB.Rollback">
                <td>
                    <code><a href="#fn_MockDB.Rollback">MockDB.Rollback(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_db.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRedisService.Set">
                <td>
                    <code><a href="#fn_MockRedisService.Set">MockRedisService.Set(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_redis_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRedisService.Get">
                <td>
                    <code><a href="#fn_MockRedisService.Get">MockRedisService.Get(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_redis_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRedisService.Delete">
                <td>
                    <code><a href="#fn_MockRedisService.Delete">MockRedisService.Delete(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_redis_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRedisService.Exists">
                <td>
                    <code><a href="#fn_MockRedisService.Exists">MockRedisService.Exists(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_redis_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockDB.Commit">
                <td>
                    <code><a href="#fn_MockDB.Commit">MockDB.Commit(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_db.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRefreshTokenRepository.Create">
                <td>
                    <code><a href="#fn_MockRefreshTokenRepository.Create">MockRefreshTokenRepository.Create(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_refresh_token_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRefreshTokenRepository.Update">
                <td>
                    <code><a href="#fn_MockRefreshTokenRepository.Update">MockRefreshTokenRepository.Update(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_refresh_token_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRefreshTokenRepository.FindByToken">
                <td>
                    <code><a href="#fn_MockRefreshTokenRepository.FindByToken">MockRefreshTokenRepository.FindByToken(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_refresh_token_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRefreshTokenRepository.First">
                <td>
                    <code><a href="#fn_MockRefreshTokenRepository.First">MockRefreshTokenRepository.First(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_refresh_token_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockDB.Begin">
                <td>
                    <code><a href="#fn_MockDB.Begin">MockDB.Begin(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_db.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockBcryptService.HashPasswordWithCost">
                <td>
                    <code><a href="#fn_MockBcryptService.HashPasswordWithCost">MockBcryptService.HashPasswordWithCost(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_bcrypt_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRoleRepository.GetByID">
                <td>
                    <code><a href="#fn_MockRoleRepository.GetByID">MockRoleRepository.GetByID(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_role_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRoleRepository.Create">
                <td>
                    <code><a href="#fn_MockRoleRepository.Create">MockRoleRepository.Create(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_role_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRoleRepository.Update">
                <td>
                    <code><a href="#fn_MockRoleRepository.Update">MockRoleRepository.Update(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_role_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockBcryptService.CheckPasswordHash">
                <td>
                    <code><a href="#fn_MockBcryptService.CheckPasswordHash">MockBcryptService.CheckPasswordHash(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_bcrypt_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRoleService.Create">
                <td>
                    <code><a href="#fn_MockRoleService.Create">MockRoleService.Create(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_role_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockBcryptService.HashPassword">
                <td>
                    <code><a href="#fn_MockBcryptService.HashPassword">MockBcryptService.HashPassword(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_bcrypt_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRoleService.Update">
                <td>
                    <code><a href="#fn_MockRoleService.Update">MockRoleService.Update(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_role_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRoleService.Delete">
                <td>
                    <code><a href="#fn_MockRoleService.Delete">MockRoleService.Delete(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_role_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRoleService.AssignPermissions">
                <td>
                    <code><a href="#fn_MockRoleService.AssignPermissions">MockRoleService.AssignPermissions(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_role_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockRoleService.GetRolePermissions">
                <td>
                    <code><a href="#fn_MockRoleService.GetRolePermissions">MockRoleService.GetRolePermissions(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_role_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockSettingRepository.GetAll">
                <td>
                    <code><a href="#fn_MockSettingRepository.GetAll">MockSettingRepository.GetAll(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_setting_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockPermissionRepository.GetAll">
                <td>
                    <code><a href="#fn_MockPermissionRepository.GetAll">MockPermissionRepository.GetAll(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_permission_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockSettingRepository.Update">
                <td>
                    <code><a href="#fn_MockSettingRepository.Update">MockSettingRepository.Update(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_setting_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockSettingRepository.Create">
                <td>
                    <code><a href="#fn_MockSettingRepository.Create">MockSettingRepository.Create(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_setting_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockSettingService.GetSetting">
                <td>
                    <code><a href="#fn_MockSettingService.GetSetting">MockSettingService.GetSetting(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_setting_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockSettingService.GetSettingByKey">
                <td>
                    <code><a href="#fn_MockSettingService.GetSettingByKey">MockSettingService.GetSettingByKey(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_setting_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockSettingService.Update">
                <td>
                    <code><a href="#fn_MockSettingService.Update">MockSettingService.Update(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_setting_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockSettingService.Create">
                <td>
                    <code><a href="#fn_MockSettingService.Create">MockSettingService.Create(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_setting_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserRepository.PaginateUser">
                <td>
                    <code><a href="#fn_MockUserRepository.PaginateUser">MockUserRepository.PaginateUser(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserRepository.GetAll">
                <td>
                    <code><a href="#fn_MockUserRepository.GetAll">MockUserRepository.GetAll(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserRepository.GetByID">
                <td>
                    <code><a href="#fn_MockUserRepository.GetByID">MockUserRepository.GetByID(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserRepository.Create">
                <td>
                    <code><a href="#fn_MockUserRepository.Create">MockUserRepository.Create(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserRepository.Update">
                <td>
                    <code><a href="#fn_MockUserRepository.Update">MockUserRepository.Update(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserRepository.Delete">
                <td>
                    <code><a href="#fn_MockUserRepository.Delete">MockUserRepository.Delete(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserRepository.FindByField">
                <td>
                    <code><a href="#fn_MockUserRepository.FindByField">MockUserRepository.FindByField(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserRepository.GetProfile">
                <td>
                    <code><a href="#fn_MockUserRepository.GetProfile">MockUserRepository.GetProfile(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserRepository.UpdateProfile">
                <td>
                    <code><a href="#fn_MockUserRepository.UpdateProfile">MockUserRepository.UpdateProfile(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserRepository.GetUserPermissions">
                <td>
                    <code><a href="#fn_MockUserRepository.GetUserPermissions">MockUserRepository.GetUserPermissions(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserRepository.CreateWithTx">
                <td>
                    <code><a href="#fn_MockUserRepository.CreateWithTx">MockUserRepository.CreateWithTx(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserRepository.GetDB">
                <td>
                    <code><a href="#fn_MockUserRepository.GetDB">MockUserRepository.GetDB(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_repository.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserService.PaginateUser">
                <td>
                    <code><a href="#fn_MockUserService.PaginateUser">MockUserService.PaginateUser(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserService.GetUser">
                <td>
                    <code><a href="#fn_MockUserService.GetUser">MockUserService.GetUser(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserService.GetUserByEmail">
                <td>
                    <code><a href="#fn_MockUserService.GetUserByEmail">MockUserService.GetUserByEmail(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserService.CreateUser">
                <td>
                    <code><a href="#fn_MockUserService.CreateUser">MockUserService.CreateUser(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserService.UpdateUser">
                <td>
                    <code><a href="#fn_MockUserService.UpdateUser">MockUserService.UpdateUser(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserService.DeleteUser">
                <td>
                    <code><a href="#fn_MockUserService.DeleteUser">MockUserService.DeleteUser(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserService.GetUserByToken">
                <td>
                    <code><a href="#fn_MockUserService.GetUserByToken">MockUserService.GetUserByToken(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserService.GetProfile">
                <td>
                    <code><a href="#fn_MockUserService.GetProfile">MockUserService.GetProfile(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
            <tr id="s_fn_MockUserService.UpdateProfile">
                <td>
                    <code><a href="#fn_MockUserService.UpdateProfile">MockUserService.UpdateProfile(...)</a></code>
                </td>
                <td>
                    <code>github.com/vfa-khuongdv/golang-cms/tests/mocks/mock_user_service.go</code>
                </td>
                <td class="percent">
                    <code>0.0%</code>
                </td>
                <td class="linecount">
                    <code>0/2</code>
                </td>
            </tr>
        
        </table>

        
        
        <div class="funcname" id="fn_MockRedisClient.LRange">func MockRedisClient.LRange</div>
        <div class="info">
            <a href="#s_fn_MockRedisClient.LRange">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_redis_client.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>func (m *MockRedisClient) LRange(ctx context.Context, key string, start, stop int64) *redis.StringSliceCmd {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>53</td>
                <td>
                    <code><pre>        args := m.Called(ctx, key, start, stop)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>54</td>
                <td>
                    <code><pre>        cmd := redis.NewStringSliceCmd(ctx)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>55</td>
                <td>
                    <code><pre>        if args.Error(0) != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>56</td>
                <td>
                    <code><pre>                cmd.SetErr(args.Error(0))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>58</td>
                <td>
                    <code><pre>                cmd.SetVal(args.Get(1).([]string))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>60</td>
                <td>
                    <code><pre>        return cmd</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>61</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRedisClient.Exists">func MockRedisClient.Exists</div>
        <div class="info">
            <a href="#s_fn_MockRedisClient.Exists">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_redis_client.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>func (m *MockRedisClient) Exists(ctx context.Context, keys ...string) *redis.IntCmd {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>42</td>
                <td>
                    <code><pre>        args := m.Called(ctx, keys)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>43</td>
                <td>
                    <code><pre>        cmd := redis.NewIntCmd(ctx)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>44</td>
                <td>
                    <code><pre>        if args.Error(0) != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>45</td>
                <td>
                    <code><pre>                cmd.SetErr(args.Error(0))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>47</td>
                <td>
                    <code><pre>                cmd.SetVal(int64(args.Int(1)))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>49</td>
                <td>
                    <code><pre>        return cmd</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>50</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRedisClient.Get">func MockRedisClient.Get</div>
        <div class="info">
            <a href="#s_fn_MockRedisClient.Get">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_redis_client.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>func (m *MockRedisClient) Get(ctx context.Context, key string) *redis.StringCmd {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>24</td>
                <td>
                    <code><pre>        args := m.Called(ctx, key)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>25</td>
                <td>
                    <code><pre>        cmd := redis.NewStringCmd(ctx)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>26</td>
                <td>
                    <code><pre>        if args.Error(0) != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>27</td>
                <td>
                    <code><pre>                cmd.SetErr(args.Error(0))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>        } else {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>29</td>
                <td>
                    <code><pre>                cmd.SetVal(args.String(1))</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>31</td>
                <td>
                    <code><pre>        return cmd</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRoleService.GetByID">func MockRoleService.GetByID</div>
        <div class="info">
            <a href="#s_fn_MockRoleService.GetByID">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_role_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>func (m *MockRoleService) GetByID(id int64) (*models.Role, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>25</td>
                <td>
                    <code><pre>        args := m.Called(id)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>26</td>
                <td>
                    <code><pre>        var role *models.Role</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>27</td>
                <td>
                    <code><pre>        if r := args.Get(0); r != nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>28</td>
                <td>
                    <code><pre>                role = r.(*models.Role)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>30</td>
                <td>
                    <code><pre>        return role, args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRedisService.GetClient">func MockRedisService.GetClient</div>
        <div class="info">
            <a href="#s_fn_MockRedisService.GetClient">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_redis_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>35</td>
                <td>
                    <code><pre>func (m *MockRedisService) GetClient() redis.Cmdable {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>36</td>
                <td>
                    <code><pre>        args := m.Called()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>37</td>
                <td>
                    <code><pre>        val := args.Get(0)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>38</td>
                <td>
                    <code><pre>        if val == nil {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>39</td>
                <td>
                    <code><pre>                return nil</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>40</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>41</td>
                <td>
                    <code><pre>        return val.(redis.Cmdable)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockPermissionService.GetAll">func MockPermissionService.GetAll</div>
        <div class="info">
            <a href="#s_fn_MockPermissionService.GetAll">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_permission_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>12</td>
                <td>
                    <code><pre>func (m *MockPermissionService) GetAll() ([]models.Permission, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>13</td>
                <td>
                    <code><pre>        args := m.Called()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>14</td>
                <td>
                    <code><pre>        if perms, ok := args.Get(0).([]models.Permission); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>15</td>
                <td>
                    <code><pre>                return perms, args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>17</td>
                <td>
                    <code><pre>        return nil, args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockAuthService.RefreshToken">func MockAuthService.RefreshToken</div>
        <div class="info">
            <a href="#s_fn_MockAuthService.RefreshToken">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_auth_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>func (m *MockAuthService) RefreshToken(token string, ctx *gin.Context) (*services.LoginResponse, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>22</td>
                <td>
                    <code><pre>        args := m.Called(token, ctx)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>23</td>
                <td>
                    <code><pre>        if res, ok := args.Get(0).(*services.LoginResponse); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>24</td>
                <td>
                    <code><pre>                return res, args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>26</td>
                <td>
                    <code><pre>        return nil, args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockAuthService.Login">func MockAuthService.Login</div>
        <div class="info">
            <a href="#s_fn_MockAuthService.Login">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_auth_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>13</td>
                <td>
                    <code><pre>func (m *MockAuthService) Login(email, password string, ctx *gin.Context) (*services.LoginResponse, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>14</td>
                <td>
                    <code><pre>        args := m.Called(email, password, ctx)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>15</td>
                <td>
                    <code><pre>        if res, ok := args.Get(0).(*services.LoginResponse); ok {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>16</td>
                <td>
                    <code><pre>                return res, args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>        }</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>18</td>
                <td>
                    <code><pre>        return nil, args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRedisClient.Del">func MockRedisClient.Del</div>
        <div class="info">
            <a href="#s_fn_MockRedisClient.Del">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_redis_client.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>func (m *MockRedisClient) Del(ctx context.Context, keys ...string) *redis.IntCmd {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>35</td>
                <td>
                    <code><pre>        args := m.Called(ctx, keys)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>36</td>
                <td>
                    <code><pre>        cmd := redis.NewIntCmd(ctx)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>37</td>
                <td>
                    <code><pre>        cmd.SetErr(args.Error(0))</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>38</td>
                <td>
                    <code><pre>        return cmd</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRedisClient.Set">func MockRedisClient.Set</div>
        <div class="info">
            <a href="#s_fn_MockRedisClient.Set">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_redis_client.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>func (m *MockRedisClient) Set(ctx context.Context, key string, value interface{}, ttl time.Duration) *redis.StatusCmd {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>17</td>
                <td>
                    <code><pre>        args := m.Called(ctx, key, value, ttl)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>18</td>
                <td>
                    <code><pre>        cmd := redis.NewStatusCmd(ctx)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>19</td>
                <td>
                    <code><pre>        cmd.SetErr(args.Error(0))</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>20</td>
                <td>
                    <code><pre>        return cmd</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRefreshTokenService.Update">func MockRefreshTokenService.Update</div>
        <div class="info">
            <a href="#s_fn_MockRefreshTokenService.Update">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_refresh_token_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>func (m *MockRefreshTokenService) Update(token string, ipAddress string) (*services.RefreshTokenResult, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>20</td>
                <td>
                    <code><pre>        args := m.Called(token, ipAddress)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>21</td>
                <td>
                    <code><pre>        result, _ := args.Get(0).(*services.RefreshTokenResult)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>22</td>
                <td>
                    <code><pre>        return result, args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRefreshTokenService.Create">func MockRefreshTokenService.Create</div>
        <div class="info">
            <a href="#s_fn_MockRefreshTokenService.Create">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_refresh_token_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>13</td>
                <td>
                    <code><pre>func (m *MockRefreshTokenService) Create(user *models.User, ipAddress string) (*services.JwtResult, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>14</td>
                <td>
                    <code><pre>        args := m.Called(user, ipAddress)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>15</td>
                <td>
                    <code><pre>        result, _ := args.Get(0).(*services.JwtResult)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>16</td>
                <td>
                    <code><pre>        return result, args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRoleRepository.Delete">func MockRoleRepository.Delete</div>
        <div class="info">
            <a href="#s_fn_MockRoleRepository.Delete">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_role_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>func (m *MockRoleRepository) Delete(role *models.Role) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>28</td>
                <td>
                    <code><pre>        args := m.Called(role)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>29</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockSettingRepository.GetByKey">func MockSettingRepository.GetByKey</div>
        <div class="info">
            <a href="#s_fn_MockSettingRepository.GetByKey">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_setting_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>func (m *MockSettingRepository) GetByKey(key string) (*models.Setting, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>18</td>
                <td>
                    <code><pre>        args := m.Called(key)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>19</td>
                <td>
                    <code><pre>        return args.Get(0).(*models.Setting), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockPermissionRepository.Create">func MockPermissionRepository.Create</div>
        <div class="info">
            <a href="#s_fn_MockPermissionRepository.Create">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_permission_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>12</td>
                <td>
                    <code><pre>func (m *MockPermissionRepository) Create(item *models.Permission) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>13</td>
                <td>
                    <code><pre>        args := m.Called(item)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>14</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockJWTService.ValidateToken">func MockJWTService.ValidateToken</div>
        <div class="info">
            <a href="#s_fn_MockJWTService.ValidateToken">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_jwt_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>func (m *MockJWTService) ValidateToken(tokenString string) (*services.CustomClaims, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>19</td>
                <td>
                    <code><pre>        args := m.Called(tokenString)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>20</td>
                <td>
                    <code><pre>        return args.Get(0).(*services.CustomClaims), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockJWTService.GenerateToken">func MockJWTService.GenerateToken</div>
        <div class="info">
            <a href="#s_fn_MockJWTService.GenerateToken">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_jwt_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>13</td>
                <td>
                    <code><pre>func (m *MockJWTService) GenerateToken(id uint) (*services.JwtResult, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>14</td>
                <td>
                    <code><pre>        args := m.Called(id)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>15</td>
                <td>
                    <code><pre>        return args.Get(0).(*services.JwtResult), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockTx.Create">func MockTx.Create</div>
        <div class="info">
            <a href="#s_fn_MockTx.Create">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_db.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>func (m *MockTx) Create(value interface{}) *gorm.DB {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>34</td>
                <td>
                    <code><pre>        args := m.Called(value)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>35</td>
                <td>
                    <code><pre>        return &amp;gorm.DB{Error: args.Error(0)}</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockDB.Rollback">func MockDB.Rollback</div>
        <div class="info">
            <a href="#s_fn_MockDB.Rollback">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_db.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>func (m *MockDB) Rollback() *gorm.DB {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>24</td>
                <td>
                    <code><pre>        m.Called()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>25</td>
                <td>
                    <code><pre>        return &amp;gorm.DB{}</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRedisService.Set">func MockRedisService.Set</div>
        <div class="info">
            <a href="#s_fn_MockRedisService.Set">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_redis_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>func (m *MockRedisService) Set(key string, value any, ttl time.Duration) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>16</td>
                <td>
                    <code><pre>        args := m.Called(key, value, ttl)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>17</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRedisService.Get">func MockRedisService.Get</div>
        <div class="info">
            <a href="#s_fn_MockRedisService.Get">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_redis_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>func (m *MockRedisService) Get(key string) (string, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>21</td>
                <td>
                    <code><pre>        args := m.Called(key)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>22</td>
                <td>
                    <code><pre>        return args.String(0), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRedisService.Delete">func MockRedisService.Delete</div>
        <div class="info">
            <a href="#s_fn_MockRedisService.Delete">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_redis_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>func (m *MockRedisService) Delete(key string) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>26</td>
                <td>
                    <code><pre>        args := m.Called(key)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>27</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRedisService.Exists">func MockRedisService.Exists</div>
        <div class="info">
            <a href="#s_fn_MockRedisService.Exists">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_redis_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>func (m *MockRedisService) Exists(key string) (bool, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>31</td>
                <td>
                    <code><pre>        args := m.Called(key)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>32</td>
                <td>
                    <code><pre>        return args.Bool(0), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockDB.Commit">func MockDB.Commit</div>
        <div class="info">
            <a href="#s_fn_MockDB.Commit">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_db.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>func (m *MockDB) Commit() *gorm.DB {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>19</td>
                <td>
                    <code><pre>        m.Called()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>20</td>
                <td>
                    <code><pre>        return &amp;gorm.DB{}</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRefreshTokenRepository.Create">func MockRefreshTokenRepository.Create</div>
        <div class="info">
            <a href="#s_fn_MockRefreshTokenRepository.Create">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_refresh_token_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>12</td>
                <td>
                    <code><pre>func (m *MockRefreshTokenRepository) Create(token *models.RefreshToken) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>13</td>
                <td>
                    <code><pre>        args := m.Called(token)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>14</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRefreshTokenRepository.Update">func MockRefreshTokenRepository.Update</div>
        <div class="info">
            <a href="#s_fn_MockRefreshTokenRepository.Update">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_refresh_token_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>func (m *MockRefreshTokenRepository) Update(token *models.RefreshToken) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>18</td>
                <td>
                    <code><pre>        args := m.Called(token)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>19</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRefreshTokenRepository.FindByToken">func MockRefreshTokenRepository.FindByToken</div>
        <div class="info">
            <a href="#s_fn_MockRefreshTokenRepository.FindByToken">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_refresh_token_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>func (m *MockRefreshTokenRepository) FindByToken(token string) (*models.RefreshToken, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>23</td>
                <td>
                    <code><pre>        args := m.Called(token)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>24</td>
                <td>
                    <code><pre>        return args.Get(0).(*models.RefreshToken), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRefreshTokenRepository.First">func MockRefreshTokenRepository.First</div>
        <div class="info">
            <a href="#s_fn_MockRefreshTokenRepository.First">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_refresh_token_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>func (m *MockRefreshTokenRepository) First(token string) (*models.RefreshToken, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>28</td>
                <td>
                    <code><pre>        args := m.Called(token)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>29</td>
                <td>
                    <code><pre>        return args.Get(0).(*models.RefreshToken), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockDB.Begin">func MockDB.Begin</div>
        <div class="info">
            <a href="#s_fn_MockDB.Begin">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_db.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>13</td>
                <td>
                    <code><pre>func (m *MockDB) Begin() *gorm.DB {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>14</td>
                <td>
                    <code><pre>        args := m.Called()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>15</td>
                <td>
                    <code><pre>        return args.Get(0).(*gorm.DB)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockBcryptService.HashPasswordWithCost">func MockBcryptService.HashPasswordWithCost</div>
        <div class="info">
            <a href="#s_fn_MockBcryptService.HashPasswordWithCost">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_bcrypt_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>func (m *MockBcryptService) HashPasswordWithCost(password string, cost int) (string, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>23</td>
                <td>
                    <code><pre>        args := m.Called(password, cost)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>24</td>
                <td>
                    <code><pre>        return args.String(0), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRoleRepository.GetByID">func MockRoleRepository.GetByID</div>
        <div class="info">
            <a href="#s_fn_MockRoleRepository.GetByID">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_role_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>12</td>
                <td>
                    <code><pre>func (m *MockRoleRepository) GetByID(id int64) (*models.Role, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>13</td>
                <td>
                    <code><pre>        args := m.Called(id)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>14</td>
                <td>
                    <code><pre>        return args.Get(0).(*models.Role), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRoleRepository.Create">func MockRoleRepository.Create</div>
        <div class="info">
            <a href="#s_fn_MockRoleRepository.Create">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_role_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>func (m *MockRoleRepository) Create(role *models.Role) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>18</td>
                <td>
                    <code><pre>        args := m.Called(role)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>19</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRoleRepository.Update">func MockRoleRepository.Update</div>
        <div class="info">
            <a href="#s_fn_MockRoleRepository.Update">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_role_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>func (m *MockRoleRepository) Update(role *models.Role) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>23</td>
                <td>
                    <code><pre>        args := m.Called(role)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>24</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockBcryptService.CheckPasswordHash">func MockBcryptService.CheckPasswordHash</div>
        <div class="info">
            <a href="#s_fn_MockBcryptService.CheckPasswordHash">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_bcrypt_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>func (m *MockBcryptService) CheckPasswordHash(password, hashPassword string) bool {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>18</td>
                <td>
                    <code><pre>        args := m.Called(password, hashPassword)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>19</td>
                <td>
                    <code><pre>        return args.Bool(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRoleService.Create">func MockRoleService.Create</div>
        <div class="info">
            <a href="#s_fn_MockRoleService.Create">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_role_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>func (m *MockRoleService) Create(role *models.Role) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>18</td>
                <td>
                    <code><pre>        args := m.Called(role)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>19</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockBcryptService.HashPassword">func MockBcryptService.HashPassword</div>
        <div class="info">
            <a href="#s_fn_MockBcryptService.HashPassword">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_bcrypt_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>12</td>
                <td>
                    <code><pre>func (m *MockBcryptService) HashPassword(password string) (string, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>13</td>
                <td>
                    <code><pre>        args := m.Called(password)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>14</td>
                <td>
                    <code><pre>        return args.String(0), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRoleService.Update">func MockRoleService.Update</div>
        <div class="info">
            <a href="#s_fn_MockRoleService.Update">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_role_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>func (m *MockRoleService) Update(role *models.Role) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>37</td>
                <td>
                    <code><pre>        args := m.Called(role)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>38</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRoleService.Delete">func MockRoleService.Delete</div>
        <div class="info">
            <a href="#s_fn_MockRoleService.Delete">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_role_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>func (m *MockRoleService) Delete(id int64) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>45</td>
                <td>
                    <code><pre>        args := m.Called(id)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>46</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRoleService.AssignPermissions">func MockRoleService.AssignPermissions</div>
        <div class="info">
            <a href="#s_fn_MockRoleService.AssignPermissions">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_role_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>func (m *MockRoleService) AssignPermissions(roleID uint, permissionIDs []uint) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>53</td>
                <td>
                    <code><pre>        args := m.Called(roleID, permissionIDs)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>54</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>55</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockRoleService.GetRolePermissions">func MockRoleService.GetRolePermissions</div>
        <div class="info">
            <a href="#s_fn_MockRoleService.GetRolePermissions">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_role_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>60</td>
                <td>
                    <code><pre>func (m *MockRoleService) GetRolePermissions(roleID uint) ([]models.Permission, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>61</td>
                <td>
                    <code><pre>        args := m.Called(roleID)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>62</td>
                <td>
                    <code><pre>        return args.Get(0).([]models.Permission), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>63</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockSettingRepository.GetAll">func MockSettingRepository.GetAll</div>
        <div class="info">
            <a href="#s_fn_MockSettingRepository.GetAll">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_setting_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>12</td>
                <td>
                    <code><pre>func (m *MockSettingRepository) GetAll() ([]models.Setting, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>13</td>
                <td>
                    <code><pre>        args := m.Called()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>14</td>
                <td>
                    <code><pre>        return args.Get(0).([]models.Setting), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockPermissionRepository.GetAll">func MockPermissionRepository.GetAll</div>
        <div class="info">
            <a href="#s_fn_MockPermissionRepository.GetAll">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_permission_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>func (m *MockPermissionRepository) GetAll() ([]models.Permission, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>18</td>
                <td>
                    <code><pre>        args := m.Called()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>19</td>
                <td>
                    <code><pre>        return args.Get(0).([]models.Permission), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockSettingRepository.Update">func MockSettingRepository.Update</div>
        <div class="info">
            <a href="#s_fn_MockSettingRepository.Update">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_setting_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>func (m *MockSettingRepository) Update(setting *models.Setting) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>23</td>
                <td>
                    <code><pre>        args := m.Called(setting)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>24</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockSettingRepository.Create">func MockSettingRepository.Create</div>
        <div class="info">
            <a href="#s_fn_MockSettingRepository.Create">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_setting_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>func (m *MockSettingRepository) Create(setting *models.Setting) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>28</td>
                <td>
                    <code><pre>        args := m.Called(setting)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>29</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockSettingService.GetSetting">func MockSettingService.GetSetting</div>
        <div class="info">
            <a href="#s_fn_MockSettingService.GetSetting">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_setting_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>12</td>
                <td>
                    <code><pre>func (m *MockSettingService) GetSetting() ([]models.Setting, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>13</td>
                <td>
                    <code><pre>        args := m.Called()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>14</td>
                <td>
                    <code><pre>        return args.Get(0).([]models.Setting), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>15</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockSettingService.GetSettingByKey">func MockSettingService.GetSettingByKey</div>
        <div class="info">
            <a href="#s_fn_MockSettingService.GetSettingByKey">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_setting_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>func (m *MockSettingService) GetSettingByKey(key string) (*models.Setting, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>18</td>
                <td>
                    <code><pre>        args := m.Called(key)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>19</td>
                <td>
                    <code><pre>        return args.Get(0).(*models.Setting), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>20</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockSettingService.Update">func MockSettingService.Update</div>
        <div class="info">
            <a href="#s_fn_MockSettingService.Update">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_setting_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>func (m *MockSettingService) Update(setting *models.Setting) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>23</td>
                <td>
                    <code><pre>        args := m.Called(setting)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>24</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>25</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockSettingService.Create">func MockSettingService.Create</div>
        <div class="info">
            <a href="#s_fn_MockSettingService.Create">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_setting_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>func (m *MockSettingService) Create(setting *models.Setting) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>28</td>
                <td>
                    <code><pre>        args := m.Called(setting)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>29</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>30</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserRepository.PaginateUser">func MockUserRepository.PaginateUser</div>
        <div class="info">
            <a href="#s_fn_MockUserRepository.PaginateUser">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>14</td>
                <td>
                    <code><pre>func (m *MockUserRepository) PaginateUser(page, limit int) (*utils.Pagination, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>15</td>
                <td>
                    <code><pre>        args := m.Called(page, limit)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>16</td>
                <td>
                    <code><pre>        return args.Get(0).(*utils.Pagination), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>17</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserRepository.GetAll">func MockUserRepository.GetAll</div>
        <div class="info">
            <a href="#s_fn_MockUserRepository.GetAll">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>19</td>
                <td>
                    <code><pre>func (m *MockUserRepository) GetAll() ([]models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>20</td>
                <td>
                    <code><pre>        args := m.Called()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>21</td>
                <td>
                    <code><pre>        return args.Get(0).([]models.User), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>22</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserRepository.GetByID">func MockUserRepository.GetByID</div>
        <div class="info">
            <a href="#s_fn_MockUserRepository.GetByID">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>24</td>
                <td>
                    <code><pre>func (m *MockUserRepository) GetByID(id uint) (*models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>25</td>
                <td>
                    <code><pre>        args := m.Called(id)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>26</td>
                <td>
                    <code><pre>        return args.Get(0).(*models.User), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>27</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserRepository.Create">func MockUserRepository.Create</div>
        <div class="info">
            <a href="#s_fn_MockUserRepository.Create">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>29</td>
                <td>
                    <code><pre>func (m *MockUserRepository) Create(user *models.User) (*models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>30</td>
                <td>
                    <code><pre>        args := m.Called(user)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>31</td>
                <td>
                    <code><pre>        return args.Get(0).(*models.User), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>32</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserRepository.Update">func MockUserRepository.Update</div>
        <div class="info">
            <a href="#s_fn_MockUserRepository.Update">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>34</td>
                <td>
                    <code><pre>func (m *MockUserRepository) Update(user *models.User) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>35</td>
                <td>
                    <code><pre>        args := m.Called(user)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>36</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>37</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserRepository.Delete">func MockUserRepository.Delete</div>
        <div class="info">
            <a href="#s_fn_MockUserRepository.Delete">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>39</td>
                <td>
                    <code><pre>func (m *MockUserRepository) Delete(userId uint) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>40</td>
                <td>
                    <code><pre>        args := m.Called(userId)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>41</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>42</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserRepository.FindByField">func MockUserRepository.FindByField</div>
        <div class="info">
            <a href="#s_fn_MockUserRepository.FindByField">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>44</td>
                <td>
                    <code><pre>func (m *MockUserRepository) FindByField(field string, value string) (*models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>45</td>
                <td>
                    <code><pre>        args := m.Called(field, value)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>46</td>
                <td>
                    <code><pre>        return args.Get(0).(*models.User), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>47</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserRepository.GetProfile">func MockUserRepository.GetProfile</div>
        <div class="info">
            <a href="#s_fn_MockUserRepository.GetProfile">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>49</td>
                <td>
                    <code><pre>func (m *MockUserRepository) GetProfile(id uint) (*models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>50</td>
                <td>
                    <code><pre>        args := m.Called(id)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>51</td>
                <td>
                    <code><pre>        return args.Get(0).(*models.User), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>52</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserRepository.UpdateProfile">func MockUserRepository.UpdateProfile</div>
        <div class="info">
            <a href="#s_fn_MockUserRepository.UpdateProfile">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>54</td>
                <td>
                    <code><pre>func (m *MockUserRepository) UpdateProfile(user *models.User) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>55</td>
                <td>
                    <code><pre>        args := m.Called(user)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>56</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>57</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserRepository.GetUserPermissions">func MockUserRepository.GetUserPermissions</div>
        <div class="info">
            <a href="#s_fn_MockUserRepository.GetUserPermissions">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>59</td>
                <td>
                    <code><pre>func (m *MockUserRepository) GetUserPermissions(userID uint) ([]models.Permission, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>60</td>
                <td>
                    <code><pre>        args := m.Called(userID)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>61</td>
                <td>
                    <code><pre>        return args.Get(0).([]models.Permission), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>62</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserRepository.CreateWithTx">func MockUserRepository.CreateWithTx</div>
        <div class="info">
            <a href="#s_fn_MockUserRepository.CreateWithTx">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>64</td>
                <td>
                    <code><pre>func (m *MockUserRepository) CreateWithTx(tx *gorm.DB, user *models.User) (*models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>65</td>
                <td>
                    <code><pre>        args := m.Called(tx, user)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>66</td>
                <td>
                    <code><pre>        return args.Get(0).(*models.User), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>67</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserRepository.GetDB">func MockUserRepository.GetDB</div>
        <div class="info">
            <a href="#s_fn_MockUserRepository.GetDB">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_repository.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>69</td>
                <td>
                    <code><pre>func (m *MockUserRepository) GetDB() *gorm.DB {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>70</td>
                <td>
                    <code><pre>        args := m.Called()</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>71</td>
                <td>
                    <code><pre>        return args.Get(0).(*gorm.DB)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>72</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserService.PaginateUser">func MockUserService.PaginateUser</div>
        <div class="info">
            <a href="#s_fn_MockUserService.PaginateUser">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>13</td>
                <td>
                    <code><pre>func (m *MockUserService) PaginateUser(page, limit int) (*utils.Pagination, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>14</td>
                <td>
                    <code><pre>        args := m.Called(page, limit)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>15</td>
                <td>
                    <code><pre>        return args.Get(0).(*utils.Pagination), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>16</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserService.GetUser">func MockUserService.GetUser</div>
        <div class="info">
            <a href="#s_fn_MockUserService.GetUser">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>18</td>
                <td>
                    <code><pre>func (m *MockUserService) GetUser(id uint) (*models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>19</td>
                <td>
                    <code><pre>        args := m.Called(id)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>20</td>
                <td>
                    <code><pre>        return args.Get(0).(*models.User), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>21</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserService.GetUserByEmail">func MockUserService.GetUserByEmail</div>
        <div class="info">
            <a href="#s_fn_MockUserService.GetUserByEmail">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>23</td>
                <td>
                    <code><pre>func (m *MockUserService) GetUserByEmail(email string) (*models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>24</td>
                <td>
                    <code><pre>        args := m.Called(email)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>25</td>
                <td>
                    <code><pre>        return args.Get(0).(*models.User), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>26</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserService.CreateUser">func MockUserService.CreateUser</div>
        <div class="info">
            <a href="#s_fn_MockUserService.CreateUser">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>28</td>
                <td>
                    <code><pre>func (m *MockUserService) CreateUser(user *models.User, roleIds []uint) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>29</td>
                <td>
                    <code><pre>        args := m.Called(user, roleIds)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>30</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>31</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserService.UpdateUser">func MockUserService.UpdateUser</div>
        <div class="info">
            <a href="#s_fn_MockUserService.UpdateUser">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>33</td>
                <td>
                    <code><pre>func (m *MockUserService) UpdateUser(user *models.User) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>34</td>
                <td>
                    <code><pre>        args := m.Called(user)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>35</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>36</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserService.DeleteUser">func MockUserService.DeleteUser</div>
        <div class="info">
            <a href="#s_fn_MockUserService.DeleteUser">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>38</td>
                <td>
                    <code><pre>func (m *MockUserService) DeleteUser(id uint) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>39</td>
                <td>
                    <code><pre>        args := m.Called(id)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>40</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>41</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserService.GetUserByToken">func MockUserService.GetUserByToken</div>
        <div class="info">
            <a href="#s_fn_MockUserService.GetUserByToken">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>43</td>
                <td>
                    <code><pre>func (m *MockUserService) GetUserByToken(token string) (*models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>44</td>
                <td>
                    <code><pre>        args := m.Called(token)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>45</td>
                <td>
                    <code><pre>        return args.Get(0).(*models.User), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>46</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserService.GetProfile">func MockUserService.GetProfile</div>
        <div class="info">
            <a href="#s_fn_MockUserService.GetProfile">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>48</td>
                <td>
                    <code><pre>func (m *MockUserService) GetProfile(id uint) (*models.User, error) {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>49</td>
                <td>
                    <code><pre>        args := m.Called(id)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>50</td>
                <td>
                    <code><pre>        return args.Get(0).(*models.User), args.Error(1)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>51</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
        
        <div class="funcname" id="fn_MockUserService.UpdateProfile">func MockUserService.UpdateProfile</div>
        <div class="info">
            <a href="#s_fn_MockUserService.UpdateProfile">Back</a>
            <p>In <code>/Users/khuongdv/Desktop/projects/learn-go/golang-cms/tests/mocks/mock_user_service.go</code>:</p>
        </div>
        <table class="listing">
            
            <tr>
                <td>53</td>
                <td>
                    <code><pre>func (m *MockUserService) UpdateProfile(user *models.User) error {</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>54</td>
                <td>
                    <code><pre>        args := m.Called(user)</pre></code>
                </td>
            </tr>
            
            <tr class="miss">
                <td>55</td>
                <td>
                    <code><pre>        return args.Error(0)</pre></code>
                </td>
            </tr>
            
            <tr>
                <td>56</td>
                <td>
                    <code><pre>}</pre></code>
                </td>
            </tr>
            
        </table>
         

        <!--    Can be parsed by external script
                PACKAGE:github.com/vfa-khuongdv/golang-cms/tests/mocks DONE:0.0
        -->
         

        <div id="summaryWrapper">
        
            <div class="package">Report Total</div>
            <div id="totalcov">62.1%</div>
         
        </div>
         
        
	</body>
</html>
